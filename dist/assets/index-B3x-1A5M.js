(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function yE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ff={exports:{}},Tl={},Uf={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function d0(){if(kv)return Ke;kv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,j={};function k(U,te,me){this.props=U,this.context=te,this.refs=j,this.updater=me||I}k.prototype.isReactComponent={},k.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},k.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=k.prototype;function G(U,te,me){this.props=U,this.context=te,this.refs=j,this.updater=me||I}var H=G.prototype=new F;H.constructor=G,R(H,k.prototype),H.isPureReactComponent=!0;var X=Array.isArray,ne=Object.prototype.hasOwnProperty,O={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function C(U,te,me){var Ne,Fe={},je=null,Qe=null;if(te!=null)for(Ne in te.ref!==void 0&&(Qe=te.ref),te.key!==void 0&&(je=""+te.key),te)ne.call(te,Ne)&&!b.hasOwnProperty(Ne)&&(Fe[Ne]=te[Ne]);var Xe=arguments.length-2;if(Xe===1)Fe.children=me;else if(1<Xe){for(var ct=Array(Xe),Ze=0;Ze<Xe;Ze++)ct[Ze]=arguments[Ze+2];Fe.children=ct}if(U&&U.defaultProps)for(Ne in Xe=U.defaultProps,Xe)Fe[Ne]===void 0&&(Fe[Ne]=Xe[Ne]);return{$$typeof:n,type:U,key:je,ref:Qe,props:Fe,_owner:O.current}}function A(U,te){return{$$typeof:n,type:U.type,key:te,ref:U.ref,props:U.props,_owner:U._owner}}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(me){return te[me]})}var $=/\/+/g;function P(U,te){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):te.toString(36)}function De(U,te,me,Ne,Fe){var je=typeof U;(je==="undefined"||je==="boolean")&&(U=null);var Qe=!1;if(U===null)Qe=!0;else switch(je){case"string":case"number":Qe=!0;break;case"object":switch(U.$$typeof){case n:case e:Qe=!0}}if(Qe)return Qe=U,Fe=Fe(Qe),U=Ne===""?"."+P(Qe,0):Ne,X(Fe)?(me="",U!=null&&(me=U.replace($,"$&/")+"/"),De(Fe,te,me,"",function(Ze){return Ze})):Fe!=null&&(D(Fe)&&(Fe=A(Fe,me+(!Fe.key||Qe&&Qe.key===Fe.key?"":(""+Fe.key).replace($,"$&/")+"/")+U)),te.push(Fe)),1;if(Qe=0,Ne=Ne===""?".":Ne+":",X(U))for(var Xe=0;Xe<U.length;Xe++){je=U[Xe];var ct=Ne+P(je,Xe);Qe+=De(je,te,me,ct,Fe)}else if(ct=T(U),typeof ct=="function")for(U=ct.call(U),Xe=0;!(je=U.next()).done;)je=je.value,ct=Ne+P(je,Xe++),Qe+=De(je,te,me,ct,Fe);else if(je==="object")throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Qe}function He(U,te,me){if(U==null)return U;var Ne=[],Fe=0;return De(U,Ne,"","",function(je){return te.call(me,je,Fe++)}),Ne}function Ue(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(me){(U._status===0||U._status===-1)&&(U._status=1,U._result=me)},function(me){(U._status===0||U._status===-1)&&(U._status=2,U._result=me)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var be={current:null},ue={transition:null},_e={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:ue,ReactCurrentOwner:O};function de(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:He,forEach:function(U,te,me){He(U,function(){te.apply(this,arguments)},me)},count:function(U){var te=0;return He(U,function(){te++}),te},toArray:function(U){return He(U,function(te){return te})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ke.Component=k,Ke.Fragment=t,Ke.Profiler=s,Ke.PureComponent=G,Ke.StrictMode=r,Ke.Suspense=p,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Ke.act=de,Ke.cloneElement=function(U,te,me){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ne=R({},U.props),Fe=U.key,je=U.ref,Qe=U._owner;if(te!=null){if(te.ref!==void 0&&(je=te.ref,Qe=O.current),te.key!==void 0&&(Fe=""+te.key),U.type&&U.type.defaultProps)var Xe=U.type.defaultProps;for(ct in te)ne.call(te,ct)&&!b.hasOwnProperty(ct)&&(Ne[ct]=te[ct]===void 0&&Xe!==void 0?Xe[ct]:te[ct])}var ct=arguments.length-2;if(ct===1)Ne.children=me;else if(1<ct){Xe=Array(ct);for(var Ze=0;Ze<ct;Ze++)Xe[Ze]=arguments[Ze+2];Ne.children=Xe}return{$$typeof:n,type:U.type,key:Fe,ref:je,props:Ne,_owner:Qe}},Ke.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ke.createElement=C,Ke.createFactory=function(U){var te=C.bind(null,U);return te.type=U,te},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(U){return{$$typeof:h,render:U}},Ke.isValidElement=D,Ke.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:Ue}},Ke.memo=function(U,te){return{$$typeof:g,type:U,compare:te===void 0?null:te}},Ke.startTransition=function(U){var te=ue.transition;ue.transition={};try{U()}finally{ue.transition=te}},Ke.unstable_act=de,Ke.useCallback=function(U,te){return be.current.useCallback(U,te)},Ke.useContext=function(U){return be.current.useContext(U)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(U){return be.current.useDeferredValue(U)},Ke.useEffect=function(U,te){return be.current.useEffect(U,te)},Ke.useId=function(){return be.current.useId()},Ke.useImperativeHandle=function(U,te,me){return be.current.useImperativeHandle(U,te,me)},Ke.useInsertionEffect=function(U,te){return be.current.useInsertionEffect(U,te)},Ke.useLayoutEffect=function(U,te){return be.current.useLayoutEffect(U,te)},Ke.useMemo=function(U,te){return be.current.useMemo(U,te)},Ke.useReducer=function(U,te,me){return be.current.useReducer(U,te,me)},Ke.useRef=function(U){return be.current.useRef(U)},Ke.useState=function(U){return be.current.useState(U)},Ke.useSyncExternalStore=function(U,te,me){return be.current.useSyncExternalStore(U,te,me)},Ke.useTransition=function(){return be.current.useTransition()},Ke.version="18.3.1",Ke}var Av;function jd(){return Av||(Av=1,Uf.exports=d0()),Uf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function h0(){if(Pv)return Tl;Pv=1;var n=jd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,g){var _,E={},T=null,I=null;g!==void 0&&(T=""+g),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(I=p.ref);for(_ in p)r.call(p,_)&&!a.hasOwnProperty(_)&&(E[_]=p[_]);if(h&&h.defaultProps)for(_ in p=h.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:h,key:T,ref:I,props:E,_owner:s.current}}return Tl.Fragment=t,Tl.jsx=u,Tl.jsxs=u,Tl}var bv;function f0(){return bv||(bv=1,Ff.exports=h0()),Ff.exports}var f=f0(),z=jd();const vt=yE(z);var Rc={},Bf={exports:{}},Fn={},zf={exports:{}},$f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function p0(){return Nv||(Nv=1,function(n){function e(ue,_e){var de=ue.length;ue.push(_e);e:for(;0<de;){var U=de-1>>>1,te=ue[U];if(0<s(te,_e))ue[U]=_e,ue[de]=te,de=U;else break e}}function t(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var _e=ue[0],de=ue.pop();if(de!==_e){ue[0]=de;e:for(var U=0,te=ue.length,me=te>>>1;U<me;){var Ne=2*(U+1)-1,Fe=ue[Ne],je=Ne+1,Qe=ue[je];if(0>s(Fe,de))je<te&&0>s(Qe,Fe)?(ue[U]=Qe,ue[je]=de,U=je):(ue[U]=Fe,ue[Ne]=de,U=Ne);else if(je<te&&0>s(Qe,de))ue[U]=Qe,ue[je]=de,U=je;else break e}}return _e}function s(ue,_e){var de=ue.sortIndex-_e.sortIndex;return de!==0?de:ue.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var p=[],g=[],_=1,E=null,T=3,I=!1,R=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(ue){for(var _e=t(g);_e!==null;){if(_e.callback===null)r(g);else if(_e.startTime<=ue)r(g),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=t(g)}}function X(ue){if(j=!1,H(ue),!R)if(t(p)!==null)R=!0,Ue(ne);else{var _e=t(g);_e!==null&&be(X,_e.startTime-ue)}}function ne(ue,_e){R=!1,j&&(j=!1,F(C),C=-1),I=!0;var de=T;try{for(H(_e),E=t(p);E!==null&&(!(E.expirationTime>_e)||ue&&!V());){var U=E.callback;if(typeof U=="function"){E.callback=null,T=E.priorityLevel;var te=U(E.expirationTime<=_e);_e=n.unstable_now(),typeof te=="function"?E.callback=te:E===t(p)&&r(p),H(_e)}else r(p);E=t(p)}if(E!==null)var me=!0;else{var Ne=t(g);Ne!==null&&be(X,Ne.startTime-_e),me=!1}return me}finally{E=null,T=de,I=!1}}var O=!1,b=null,C=-1,A=5,D=-1;function V(){return!(n.unstable_now()-D<A)}function $(){if(b!==null){var ue=n.unstable_now();D=ue;var _e=!0;try{_e=b(!0,ue)}finally{_e?P():(O=!1,b=null)}}else O=!1}var P;if(typeof G=="function")P=function(){G($)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,He=De.port2;De.port1.onmessage=$,P=function(){He.postMessage(null)}}else P=function(){k($,0)};function Ue(ue){b=ue,O||(O=!0,P())}function be(ue,_e){C=k(function(){ue(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ue){ue.callback=null},n.unstable_continueExecution=function(){R||I||(R=!0,Ue(ne))},n.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ue?Math.floor(1e3/ue):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ue){switch(T){case 1:case 2:case 3:var _e=3;break;default:_e=T}var de=T;T=_e;try{return ue()}finally{T=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ue,_e){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var de=T;T=ue;try{return _e()}finally{T=de}},n.unstable_scheduleCallback=function(ue,_e,de){var U=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?U+de:U):de=U,ue){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=de+te,ue={id:_++,callback:_e,priorityLevel:ue,startTime:de,expirationTime:te,sortIndex:-1},de>U?(ue.sortIndex=de,e(g,ue),t(p)===null&&ue===t(g)&&(j?(F(C),C=-1):j=!0,be(X,de-U))):(ue.sortIndex=te,e(p,ue),R||I||(R=!0,Ue(ne))),ue},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ue){var _e=T;return function(){var de=T;T=_e;try{return ue.apply(this,arguments)}finally{T=de}}}}($f)),$f}var jv;function m0(){return jv||(jv=1,zf.exports=p0()),zf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function g0(){if(Dv)return Fn;Dv=1;var n=jd(),e=m0();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function T(i){return p.call(E,i)?!0:p.call(_,i)?!1:g.test(i)?E[i]=!0:(_[i]=!0,!1)}function I(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,o,l,d){if(o===null||typeof o>"u"||I(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(i,o,l,d,m,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new j(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];k[o]=new j(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new j(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new j(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new j(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new j(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new j(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new j(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new j(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function G(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,G);k[o]=new j(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,G);k[o]=new j(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,G);k[o]=new j(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new j(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new j(i,1,!1,i.toLowerCase(),null,!0,!0)});function H(i,o,l,d){var m=k.hasOwnProperty(o)?k[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,l,m,d)&&(l=null),d||m===null?T(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),O=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),He=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),ue=Symbol.iterator;function _e(i){return i===null||typeof i!="object"?null:(i=ue&&i[ue]||i["@@iterator"],typeof i=="function"?i:null)}var de=Object.assign,U;function te(i){if(U===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var me=!1;function Ne(i,o){if(!i||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var d=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){d=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){d=Y}i()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var m=Y.stack.split(`
`),v=d.stack.split(`
`),S=m.length-1,N=v.length-1;1<=S&&0<=N&&m[S]!==v[N];)N--;for(;1<=S&&0<=N;S--,N--)if(m[S]!==v[N]){if(S!==1||N!==1)do if(S--,N--,0>N||m[S]!==v[N]){var M=`
`+m[S].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=S&&0<=N);break}}}finally{me=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?te(i):""}function Fe(i){switch(i.tag){case 5:return te(i.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return i=Ne(i.type,!1),i;case 11:return i=Ne(i.type.render,!1),i;case 1:return i=Ne(i.type,!0),i;default:return""}}function je(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case O:return"Portal";case A:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case De:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case $:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case He:return o=i.displayName||null,o!==null?o:je(i.type)||"Memo";case Ue:o=i._payload,i=i._init;try{return je(i(o))}catch{}}return null}function Qe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Xe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ct(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ze(i){var o=ct(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Bt(i){i._valueTracker||(i._valueTracker=Ze(i))}function $n(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=ct(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function sr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Gt(i,o){var l=o.checked;return de({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Hn(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Xe(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function zr(i,o){o=o.checked,o!=null&&H(i,"checked",o,!1)}function or(i,o){zr(i,o);var l=Xe(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Gi(i,o.type,l):o.hasOwnProperty("defaultValue")&&Gi(i,o.type,Xe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Mo(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Gi(i,o,l){(o!=="number"||sr(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Tr=Array.isArray;function Sr(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Xe(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Wn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ar(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Tr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Xe(l)}}function yi(i,o){var l=Xe(o.value),d=Xe(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function vi(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function gt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?gt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var lr,_i=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(lr=lr||document.createElement("div"),lr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=lr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function $r(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hr=["Webkit","ms","Moz","O"];Object.keys(dn).forEach(function(i){Hr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),dn[o]=dn[i]})});function Qi(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||dn.hasOwnProperty(i)&&dn[i]?(""+o).trim():o+"px"}function Ji(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Qi(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var Ks=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yi(i,o){if(o){if(Ks[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Wr(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qr=null;function Kr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xi=null,xn=null,ur=null;function wi(i){if(i=al(i)){if(typeof Xi!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Bu(o),Xi(i.stateNode,i.type,o))}}function In(i){xn?ur?ur.push(i):ur=[i]:xn=i}function Gr(){if(xn){var i=xn,o=ur;if(ur=xn=null,wi(i),o)for(i=0;i<o.length;i++)wi(o[i])}}function Ei(i,o){return i(o)}function Gs(){}var L=!1;function W(i,o,l){if(L)return i(o,l);L=!0;try{return Ei(i,o,l)}finally{L=!1,(xn!==null||ur!==null)&&(Gs(),Gr())}}function Q(i,o){var l=i.stateNode;if(l===null)return null;var d=Bu(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var ie=!1;if(h)try{var fe={};Object.defineProperty(fe,"passive",{get:function(){ie=!0}}),window.addEventListener("test",fe,fe),window.removeEventListener("test",fe,fe)}catch{ie=!1}function Se(i,o,l,d,m,v,S,N,M){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(l,Y)}catch(oe){this.onError(oe)}}var Re=!1,ve=null,ge=!1,pe=null,Le={onError:function(i){Re=!0,ve=i}};function Be(i,o,l,d,m,v,S,N,M){Re=!1,ve=null,Se.apply(Le,arguments)}function ht(i,o,l,d,m,v,S,N,M){if(Be.apply(this,arguments),Re){if(Re){var Y=ve;Re=!1,ve=null}else throw Error(t(198));ge||(ge=!0,pe=Y)}}function ft(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function lt(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Ge(i){if(ft(i)!==i)throw Error(t(188))}function St(i){var o=i.alternate;if(!o){if(o=ft(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Ge(m),i;if(v===d)return Ge(m),o;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=v;else{for(var S=!1,N=m.child;N;){if(N===l){S=!0,l=m,d=v;break}if(N===d){S=!0,d=m,l=v;break}N=N.sibling}if(!S){for(N=v.child;N;){if(N===l){S=!0,l=v,d=m;break}if(N===d){S=!0,d=v,l=m;break}N=N.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function cr(i){return i=St(i),i!==null?dr(i):null}function dr(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=dr(i);if(o!==null)return o;i=i.sibling}return null}var hn=e.unstable_scheduleCallback,fn=e.unstable_cancelCallback,Zi=e.unstable_shouldYield,Ti=e.unstable_requestPaint,rt=e.unstable_now,Si=e.unstable_getCurrentPriorityLevel,hr=e.unstable_ImmediatePriority,et=e.unstable_UserBlockingPriority,pt=e.unstable_NormalPriority,Qr=e.unstable_LowPriority,Jr=e.unstable_IdlePriority,yt=null,Ot=null;function Qs(i){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(yt,i,void 0,(i.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:_u,Wa=Math.log,vu=Math.LN2;function _u(i){return i>>>=0,i===0?32:31-(Wa(i)/vu|0)|0}var Vo=64,Fo=4194304;function es(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Js(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,v=i.pingedLanes,S=l&268435455;if(S!==0){var N=S&~m;N!==0?d=es(N):(v&=S,v!==0&&(d=es(v)))}else S=l&~m,S!==0?d=es(S):v!==0&&(d=es(v));if(d===0)return 0;if(o!==0&&o!==d&&!(o&m)&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(d&4&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-en(o),m=1<<l,d|=i[l],o&=~m;return d}function ph(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xi(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var S=31-en(v),N=1<<S,M=m[S];M===-1?(!(N&l)||N&d)&&(m[S]=ph(N,o)):M<=o&&(i.expiredLanes|=N),v&=~N}}function qn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ys(){var i=Vo;return Vo<<=1,!(Vo&4194240)&&(Vo=64),i}function ts(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function ns(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-en(o),i[o]=l}function _t(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-en(l),v=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~v}}function rs(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-en(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var tt=0;function is(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var wu,Uo,Eu,Tu,Su,qa=!1,Yr=[],tn=null,xr=null,Ir=null,ss=new Map,fr=new Map,Xr=[],mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xu(i,o){switch(i){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":ss.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(o.pointerId)}}function Nn(i,o,l,d,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=al(o),o!==null&&Uo(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function gh(i,o,l,d,m){switch(o){case"focusin":return tn=Nn(tn,i,o,l,d,m),!0;case"dragenter":return xr=Nn(xr,i,o,l,d,m),!0;case"mouseover":return Ir=Nn(Ir,i,o,l,d,m),!0;case"pointerover":var v=m.pointerId;return ss.set(v,Nn(ss.get(v)||null,i,o,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,fr.set(v,Nn(fr.get(v)||null,i,o,l,d,m)),!0}return!1}function Iu(i){var o=no(i.target);if(o!==null){var l=ft(o);if(l!==null){if(o=l.tag,o===13){if(o=lt(l),o!==null){i.blockedOn=o,Su(i.priority,function(){Eu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ii(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Bo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);qr=d,l.target.dispatchEvent(d),qr=null}else return o=al(l),o!==null&&Uo(o),i.blockedOn=l,!1;o.shift()}return!0}function Xs(i,o,l){Ii(i)&&l.delete(o)}function Ru(){qa=!1,tn!==null&&Ii(tn)&&(tn=null),xr!==null&&Ii(xr)&&(xr=null),Ir!==null&&Ii(Ir)&&(Ir=null),ss.forEach(Xs),fr.forEach(Xs)}function Rr(i,o){i.blockedOn===o&&(i.blockedOn=null,qa||(qa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ru)))}function Cr(i){function o(m){return Rr(m,i)}if(0<Yr.length){Rr(Yr[0],i);for(var l=1;l<Yr.length;l++){var d=Yr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(tn!==null&&Rr(tn,i),xr!==null&&Rr(xr,i),Ir!==null&&Rr(Ir,i),ss.forEach(o),fr.forEach(o),l=0;l<Xr.length;l++)d=Xr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<Xr.length&&(l=Xr[0],l.blockedOn===null);)Iu(l),l.blockedOn===null&&Xr.shift()}var Ri=X.ReactCurrentBatchConfig,os=!0;function xt(i,o,l,d){var m=tt,v=Ri.transition;Ri.transition=null;try{tt=1,Ka(i,o,l,d)}finally{tt=m,Ri.transition=v}}function yh(i,o,l,d){var m=tt,v=Ri.transition;Ri.transition=null;try{tt=4,Ka(i,o,l,d)}finally{tt=m,Ri.transition=v}}function Ka(i,o,l,d){if(os){var m=Bo(i,o,l,d);if(m===null)kh(i,o,d,Zs,l),xu(i,d);else if(gh(m,i,o,l,d))d.stopPropagation();else if(xu(i,d),o&4&&-1<mh.indexOf(i)){for(;m!==null;){var v=al(m);if(v!==null&&wu(v),v=Bo(i,o,l,d),v===null&&kh(i,o,d,Zs,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else kh(i,o,d,null,l)}}var Zs=null;function Bo(i,o,l,d){if(Zs=null,i=Kr(d),i=no(i),i!==null)if(o=ft(i),o===null)i=null;else if(l=o.tag,l===13){if(i=lt(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Zs=i,null}function Ga(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Si()){case hr:return 1;case et:return 4;case pt:case Qr:return 16;case Jr:return 536870912;default:return 16}default:return 16}}var Kn=null,zo=null,jn=null;function Qa(){if(jn)return jn;var i,o=zo,l=o.length,d,m="value"in Kn?Kn.value:Kn.textContent,v=m.length;for(i=0;i<l&&o[i]===m[i];i++);var S=l-i;for(d=1;d<=S&&o[l-d]===m[v-d];d++);return jn=m.slice(i,1<d?1-d:void 0)}function $o(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Zr(){return!0}function Ja(){return!1}function nn(i){function o(l,d,m,v,S){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(l=i[N],this[N]=l?l(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Zr:Ja,this.isPropagationStopped=Ja,this}return de(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),o}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=nn(kr),ei=de({},kr,{view:0,detail:0}),vh=nn(ei),Wo,Ci,as,eo=de({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ti,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==as&&(as&&i.type==="mousemove"?(Wo=i.screenX-as.screenX,Ci=i.screenY-as.screenY):Ci=Wo=0,as=i),Wo)},movementY:function(i){return"movementY"in i?i.movementY:Ci}}),qo=nn(eo),Ya=de({},eo,{dataTransfer:0}),Cu=nn(Ya),Ko=de({},ei,{relatedTarget:0}),Go=nn(Ko),ku=de({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),ki=nn(ku),Au=de({},kr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Pu=nn(Au),bu=de({},kr,{data:0}),Xa=nn(bu),Qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Nu[i])?!!o[i]:!1}function ti(){return ju}var c=de({},ei,{key:function(i){if(i.key){var o=Qo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=$o(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ti,charCode:function(i){return i.type==="keypress"?$o(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$o(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=nn(c),w=de({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=nn(w),q=de({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ti}),Z=nn(q),he=de({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mt=nn(he),zt=de({},eo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),it=nn(zt),Qt=[9,13,27,32],Lt=h&&"CompositionEvent"in window,pr=null;h&&"documentMode"in document&&(pr=document.documentMode);var Gn=h&&"TextEvent"in window&&!pr,to=h&&(!Lt||pr&&8<pr&&11>=pr),Jo=" ",Tg=!1;function Sg(i,o){switch(i){case"keyup":return Qt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Yo=!1;function lI(i,o){switch(i){case"compositionend":return xg(o);case"keypress":return o.which!==32?null:(Tg=!0,Jo);case"textInput":return i=o.data,i===Jo&&Tg?null:i;default:return null}}function uI(i,o){if(Yo)return i==="compositionend"||!Lt&&Sg(i,o)?(i=Qa(),jn=zo=Kn=null,Yo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return to&&o.locale!=="ko"?null:o.data;default:return null}}var cI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!cI[i.type]:o==="textarea"}function Rg(i,o,l,d){In(d),o=Vu(o,"onChange"),0<o.length&&(l=new Ho("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Za=null,el=null;function dI(i){Hg(i,0)}function Du(i){var o=na(i);if($n(o))return i}function hI(i,o){if(i==="change")return o}var Cg=!1;if(h){var _h;if(h){var wh="oninput"in document;if(!wh){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),wh=typeof kg.oninput=="function"}_h=wh}else _h=!1;Cg=_h&&(!document.documentMode||9<document.documentMode)}function Ag(){Za&&(Za.detachEvent("onpropertychange",Pg),el=Za=null)}function Pg(i){if(i.propertyName==="value"&&Du(el)){var o=[];Rg(o,el,i,Kr(i)),W(dI,o)}}function fI(i,o,l){i==="focusin"?(Ag(),Za=o,el=l,Za.attachEvent("onpropertychange",Pg)):i==="focusout"&&Ag()}function pI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Du(el)}function mI(i,o){if(i==="click")return Du(o)}function gI(i,o){if(i==="input"||i==="change")return Du(o)}function yI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ar=typeof Object.is=="function"?Object.is:yI;function tl(i,o){if(Ar(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!p.call(o,m)||!Ar(i[m],o[m]))return!1}return!0}function bg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ng(i,o){var l=bg(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bg(l)}}function jg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?jg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Dg(){for(var i=window,o=sr();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=sr(i.document)}return o}function Eh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function vI(i){var o=Dg(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&jg(l.ownerDocument.documentElement,l)){if(d!==null&&Eh(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!i.extend&&v>d&&(m=d,d=v,v=m),m=Ng(l,v);var S=Ng(l,d);m&&S&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var _I=h&&"documentMode"in document&&11>=document.documentMode,Xo=null,Th=null,nl=null,Sh=!1;function Og(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sh||Xo==null||Xo!==sr(d)||(d=Xo,"selectionStart"in d&&Eh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),nl&&tl(nl,d)||(nl=d,d=Vu(Th,"onSelect"),0<d.length&&(o=new Ho("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=Xo)))}function Ou(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Zo={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},xh={},Lg={};h&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Lu(i){if(xh[i])return xh[i];if(!Zo[i])return i;var o=Zo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Lg)return xh[i]=o[l];return i}var Mg=Lu("animationend"),Vg=Lu("animationiteration"),Fg=Lu("animationstart"),Ug=Lu("transitionend"),Bg=new Map,zg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(i,o){Bg.set(i,o),a(o,[i])}for(var Ih=0;Ih<zg.length;Ih++){var Rh=zg[Ih],wI=Rh.toLowerCase(),EI=Rh[0].toUpperCase()+Rh.slice(1);ls(wI,"on"+EI)}ls(Mg,"onAnimationEnd"),ls(Vg,"onAnimationIteration"),ls(Fg,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(Ug,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TI=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function $g(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,ht(d,o,void 0,i),i.currentTarget=null}function Hg(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var S=d.length-1;0<=S;S--){var N=d[S],M=N.instance,Y=N.currentTarget;if(N=N.listener,M!==v&&m.isPropagationStopped())break e;$g(m,N,Y),v=M}else for(S=0;S<d.length;S++){if(N=d[S],M=N.instance,Y=N.currentTarget,N=N.listener,M!==v&&m.isPropagationStopped())break e;$g(m,N,Y),v=M}}}if(ge)throw i=pe,ge=!1,pe=null,i}function Et(i,o){var l=o[Dh];l===void 0&&(l=o[Dh]=new Set);var d=i+"__bubble";l.has(d)||(Wg(o,i,2,!1),l.add(d))}function Ch(i,o,l){var d=0;o&&(d|=4),Wg(l,i,d,o)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function il(i){if(!i[Mu]){i[Mu]=!0,r.forEach(function(l){l!=="selectionchange"&&(TI.has(l)||Ch(l,!1,i),Ch(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Mu]||(o[Mu]=!0,Ch("selectionchange",!1,o))}}function Wg(i,o,l,d){switch(Ga(o)){case 1:var m=xt;break;case 4:m=yh;break;default:m=Ka}l=m.bind(null,o,l,i),m=void 0,!ie||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function kh(i,o,l,d,m){var v=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var N=d.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;S=S.return}for(;N!==null;){if(S=no(N),S===null)return;if(M=S.tag,M===5||M===6){d=v=S;continue e}N=N.parentNode}}d=d.return}W(function(){var Y=v,oe=Kr(l),ae=[];e:{var se=Bg.get(i);if(se!==void 0){var ye=Ho,Te=i;switch(i){case"keypress":if($o(l)===0)break e;case"keydown":case"keyup":ye=y;break;case"focusin":Te="focus",ye=Go;break;case"focusout":Te="blur",ye=Go;break;case"beforeblur":case"afterblur":ye=Go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Z;break;case Mg:case Vg:case Fg:ye=ki;break;case Ug:ye=mt;break;case"scroll":ye=vh;break;case"wheel":ye=it;break;case"copy":case"cut":case"paste":ye=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=x}var xe=(o&4)!==0,jt=!xe&&i==="scroll",K=xe?se!==null?se+"Capture":null:se;xe=[];for(var B=Y,J;B!==null;){J=B;var ce=J.stateNode;if(J.tag===5&&ce!==null&&(J=ce,K!==null&&(ce=Q(B,K),ce!=null&&xe.push(sl(B,ce,J)))),jt)break;B=B.return}0<xe.length&&(se=new ye(se,Te,null,l,oe),ae.push({event:se,listeners:xe}))}}if(!(o&7)){e:{if(se=i==="mouseover"||i==="pointerover",ye=i==="mouseout"||i==="pointerout",se&&l!==qr&&(Te=l.relatedTarget||l.fromElement)&&(no(Te)||Te[Ai]))break e;if((ye||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ye?(Te=l.relatedTarget||l.toElement,ye=Y,Te=Te?no(Te):null,Te!==null&&(jt=ft(Te),Te!==jt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(ye=null,Te=Y),ye!==Te)){if(xe=qo,ce="onMouseLeave",K="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(xe=x,ce="onPointerLeave",K="onPointerEnter",B="pointer"),jt=ye==null?se:na(ye),J=Te==null?se:na(Te),se=new xe(ce,B+"leave",ye,l,oe),se.target=jt,se.relatedTarget=J,ce=null,no(oe)===Y&&(xe=new xe(K,B+"enter",Te,l,oe),xe.target=J,xe.relatedTarget=jt,ce=xe),jt=ce,ye&&Te)t:{for(xe=ye,K=Te,B=0,J=xe;J;J=ea(J))B++;for(J=0,ce=K;ce;ce=ea(ce))J++;for(;0<B-J;)xe=ea(xe),B--;for(;0<J-B;)K=ea(K),J--;for(;B--;){if(xe===K||K!==null&&xe===K.alternate)break t;xe=ea(xe),K=ea(K)}xe=null}else xe=null;ye!==null&&qg(ae,se,ye,xe,!1),Te!==null&&jt!==null&&qg(ae,jt,Te,xe,!0)}}e:{if(se=Y?na(Y):window,ye=se.nodeName&&se.nodeName.toLowerCase(),ye==="select"||ye==="input"&&se.type==="file")var Ie=hI;else if(Ig(se))if(Cg)Ie=gI;else{Ie=pI;var Ce=fI}else(ye=se.nodeName)&&ye.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Ie=mI);if(Ie&&(Ie=Ie(i,Y))){Rg(ae,Ie,l,oe);break e}Ce&&Ce(i,se,Y),i==="focusout"&&(Ce=se._wrapperState)&&Ce.controlled&&se.type==="number"&&Gi(se,"number",se.value)}switch(Ce=Y?na(Y):window,i){case"focusin":(Ig(Ce)||Ce.contentEditable==="true")&&(Xo=Ce,Th=Y,nl=null);break;case"focusout":nl=Th=Xo=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,Og(ae,l,oe);break;case"selectionchange":if(_I)break;case"keydown":case"keyup":Og(ae,l,oe)}var ke;if(Lt)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Yo?Sg(i,l)&&(Me="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Me="onCompositionStart");Me&&(to&&l.locale!=="ko"&&(Yo||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Yo&&(ke=Qa()):(Kn=oe,zo="value"in Kn?Kn.value:Kn.textContent,Yo=!0)),Ce=Vu(Y,Me),0<Ce.length&&(Me=new Xa(Me,i,null,l,oe),ae.push({event:Me,listeners:Ce}),ke?Me.data=ke:(ke=xg(l),ke!==null&&(Me.data=ke)))),(ke=Gn?lI(i,l):uI(i,l))&&(Y=Vu(Y,"onBeforeInput"),0<Y.length&&(oe=new Xa("onBeforeInput","beforeinput",null,l,oe),ae.push({event:oe,listeners:Y}),oe.data=ke))}Hg(ae,o)})}function sl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Vu(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Q(i,l),v!=null&&d.unshift(sl(i,v,m)),v=Q(i,o),v!=null&&d.push(sl(i,v,m))),i=i.return}return d}function ea(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function qg(i,o,l,d,m){for(var v=o._reactName,S=[];l!==null&&l!==d;){var N=l,M=N.alternate,Y=N.stateNode;if(M!==null&&M===d)break;N.tag===5&&Y!==null&&(N=Y,m?(M=Q(l,v),M!=null&&S.unshift(sl(l,M,N))):m||(M=Q(l,v),M!=null&&S.push(sl(l,M,N)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var SI=/\r\n?/g,xI=/\u0000|\uFFFD/g;function Kg(i){return(typeof i=="string"?i:""+i).replace(SI,`
`).replace(xI,"")}function Fu(i,o,l){if(o=Kg(o),Kg(i)!==o&&l)throw Error(t(425))}function Uu(){}var Ah=null,Ph=null;function bh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Nh=typeof setTimeout=="function"?setTimeout:void 0,II=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,RI=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(i){return Gg.resolve(null).then(i).catch(CI)}:Nh;function CI(i){setTimeout(function(){throw i})}function jh(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),Cr(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Cr(o)}function us(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Qg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var ta=Math.random().toString(36).slice(2),ni="__reactFiber$"+ta,ol="__reactProps$"+ta,Ai="__reactContainer$"+ta,Dh="__reactEvents$"+ta,kI="__reactListeners$"+ta,AI="__reactHandles$"+ta;function no(i){var o=i[ni];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Ai]||l[ni]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Qg(i);i!==null;){if(l=i[ni])return l;i=Qg(i)}return o}i=l,l=i.parentNode}return null}function al(i){return i=i[ni]||i[Ai],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function na(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Bu(i){return i[ol]||null}var Oh=[],ra=-1;function cs(i){return{current:i}}function Tt(i){0>ra||(i.current=Oh[ra],Oh[ra]=null,ra--)}function wt(i,o){ra++,Oh[ra]=i.current,i.current=o}var ds={},pn=cs(ds),Dn=cs(!1),ro=ds;function ia(i,o){var l=i.type.contextTypes;if(!l)return ds;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function On(i){return i=i.childContextTypes,i!=null}function zu(){Tt(Dn),Tt(pn)}function Jg(i,o,l){if(pn.current!==ds)throw Error(t(168));wt(pn,o),wt(Dn,l)}function Yg(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,Qe(i)||"Unknown",m));return de({},l,d)}function $u(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ds,ro=pn.current,wt(pn,i),wt(Dn,Dn.current),!0}function Xg(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=Yg(i,o,ro),d.__reactInternalMemoizedMergedChildContext=i,Tt(Dn),Tt(pn),wt(pn,i)):Tt(Dn),wt(Dn,l)}var Pi=null,Hu=!1,Lh=!1;function Zg(i){Pi===null?Pi=[i]:Pi.push(i)}function PI(i){Hu=!0,Zg(i)}function hs(){if(!Lh&&Pi!==null){Lh=!0;var i=0,o=tt;try{var l=Pi;for(tt=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Pi=null,Hu=!1}catch(m){throw Pi!==null&&(Pi=Pi.slice(i+1)),hn(hr,hs),m}finally{tt=o,Lh=!1}}return null}var sa=[],oa=0,Wu=null,qu=0,mr=[],gr=0,io=null,bi=1,Ni="";function so(i,o){sa[oa++]=qu,sa[oa++]=Wu,Wu=i,qu=o}function ey(i,o,l){mr[gr++]=bi,mr[gr++]=Ni,mr[gr++]=io,io=i;var d=bi;i=Ni;var m=32-en(d)-1;d&=~(1<<m),l+=1;var v=32-en(o)+m;if(30<v){var S=m-m%5;v=(d&(1<<S)-1).toString(32),d>>=S,m-=S,bi=1<<32-en(o)+m|l<<m|d,Ni=v+i}else bi=1<<v|l<<m|d,Ni=i}function Mh(i){i.return!==null&&(so(i,1),ey(i,1,0))}function Vh(i){for(;i===Wu;)Wu=sa[--oa],sa[oa]=null,qu=sa[--oa],sa[oa]=null;for(;i===io;)io=mr[--gr],mr[gr]=null,Ni=mr[--gr],mr[gr]=null,bi=mr[--gr],mr[gr]=null}var Qn=null,Jn=null,It=!1,Pr=null;function ty(i,o){var l=wr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function ny(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Qn=i,Jn=us(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Qn=i,Jn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=io!==null?{id:bi,overflow:Ni}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=wr(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Qn=i,Jn=null,!0):!1;default:return!1}}function Fh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Uh(i){if(It){var o=Jn;if(o){var l=o;if(!ny(i,o)){if(Fh(i))throw Error(t(418));o=us(l.nextSibling);var d=Qn;o&&ny(i,o)?ty(d,l):(i.flags=i.flags&-4097|2,It=!1,Qn=i)}}else{if(Fh(i))throw Error(t(418));i.flags=i.flags&-4097|2,It=!1,Qn=i}}}function ry(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Qn=i}function Ku(i){if(i!==Qn)return!1;if(!It)return ry(i),It=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!bh(i.type,i.memoizedProps)),o&&(o=Jn)){if(Fh(i))throw iy(),Error(t(418));for(;o;)ty(i,o),o=us(o.nextSibling)}if(ry(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Jn=us(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Jn=null}}else Jn=Qn?us(i.stateNode.nextSibling):null;return!0}function iy(){for(var i=Jn;i;)i=us(i.nextSibling)}function aa(){Jn=Qn=null,It=!1}function Bh(i){Pr===null?Pr=[i]:Pr.push(i)}var bI=X.ReactCurrentBatchConfig;function ll(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var N=m.refs;S===null?delete N[v]:N[v]=S},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Gu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function sy(i){var o=i._init;return o(i._payload)}function oy(i){function o(K,B){if(i){var J=K.deletions;J===null?(K.deletions=[B],K.flags|=16):J.push(B)}}function l(K,B){if(!i)return null;for(;B!==null;)o(K,B),B=B.sibling;return null}function d(K,B){for(K=new Map;B!==null;)B.key!==null?K.set(B.key,B):K.set(B.index,B),B=B.sibling;return K}function m(K,B){return K=ws(K,B),K.index=0,K.sibling=null,K}function v(K,B,J){return K.index=J,i?(J=K.alternate,J!==null?(J=J.index,J<B?(K.flags|=2,B):J):(K.flags|=2,B)):(K.flags|=1048576,B)}function S(K){return i&&K.alternate===null&&(K.flags|=2),K}function N(K,B,J,ce){return B===null||B.tag!==6?(B=jf(J,K.mode,ce),B.return=K,B):(B=m(B,J),B.return=K,B)}function M(K,B,J,ce){var Ie=J.type;return Ie===b?oe(K,B,J.props.children,ce,J.key):B!==null&&(B.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Ue&&sy(Ie)===B.type)?(ce=m(B,J.props),ce.ref=ll(K,B,J),ce.return=K,ce):(ce=vc(J.type,J.key,J.props,null,K.mode,ce),ce.ref=ll(K,B,J),ce.return=K,ce)}function Y(K,B,J,ce){return B===null||B.tag!==4||B.stateNode.containerInfo!==J.containerInfo||B.stateNode.implementation!==J.implementation?(B=Df(J,K.mode,ce),B.return=K,B):(B=m(B,J.children||[]),B.return=K,B)}function oe(K,B,J,ce,Ie){return B===null||B.tag!==7?(B=po(J,K.mode,ce,Ie),B.return=K,B):(B=m(B,J),B.return=K,B)}function ae(K,B,J){if(typeof B=="string"&&B!==""||typeof B=="number")return B=jf(""+B,K.mode,J),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ne:return J=vc(B.type,B.key,B.props,null,K.mode,J),J.ref=ll(K,null,B),J.return=K,J;case O:return B=Df(B,K.mode,J),B.return=K,B;case Ue:var ce=B._init;return ae(K,ce(B._payload),J)}if(Tr(B)||_e(B))return B=po(B,K.mode,J,null),B.return=K,B;Gu(K,B)}return null}function se(K,B,J,ce){var Ie=B!==null?B.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ie!==null?null:N(K,B,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case ne:return J.key===Ie?M(K,B,J,ce):null;case O:return J.key===Ie?Y(K,B,J,ce):null;case Ue:return Ie=J._init,se(K,B,Ie(J._payload),ce)}if(Tr(J)||_e(J))return Ie!==null?null:oe(K,B,J,ce,null);Gu(K,J)}return null}function ye(K,B,J,ce,Ie){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return K=K.get(J)||null,N(B,K,""+ce,Ie);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case ne:return K=K.get(ce.key===null?J:ce.key)||null,M(B,K,ce,Ie);case O:return K=K.get(ce.key===null?J:ce.key)||null,Y(B,K,ce,Ie);case Ue:var Ce=ce._init;return ye(K,B,J,Ce(ce._payload),Ie)}if(Tr(ce)||_e(ce))return K=K.get(J)||null,oe(B,K,ce,Ie,null);Gu(B,ce)}return null}function Te(K,B,J,ce){for(var Ie=null,Ce=null,ke=B,Me=B=0,Xt=null;ke!==null&&Me<J.length;Me++){ke.index>Me?(Xt=ke,ke=null):Xt=ke.sibling;var at=se(K,ke,J[Me],ce);if(at===null){ke===null&&(ke=Xt);break}i&&ke&&at.alternate===null&&o(K,ke),B=v(at,B,Me),Ce===null?Ie=at:Ce.sibling=at,Ce=at,ke=Xt}if(Me===J.length)return l(K,ke),It&&so(K,Me),Ie;if(ke===null){for(;Me<J.length;Me++)ke=ae(K,J[Me],ce),ke!==null&&(B=v(ke,B,Me),Ce===null?Ie=ke:Ce.sibling=ke,Ce=ke);return It&&so(K,Me),Ie}for(ke=d(K,ke);Me<J.length;Me++)Xt=ye(ke,K,Me,J[Me],ce),Xt!==null&&(i&&Xt.alternate!==null&&ke.delete(Xt.key===null?Me:Xt.key),B=v(Xt,B,Me),Ce===null?Ie=Xt:Ce.sibling=Xt,Ce=Xt);return i&&ke.forEach(function(Es){return o(K,Es)}),It&&so(K,Me),Ie}function xe(K,B,J,ce){var Ie=_e(J);if(typeof Ie!="function")throw Error(t(150));if(J=Ie.call(J),J==null)throw Error(t(151));for(var Ce=Ie=null,ke=B,Me=B=0,Xt=null,at=J.next();ke!==null&&!at.done;Me++,at=J.next()){ke.index>Me?(Xt=ke,ke=null):Xt=ke.sibling;var Es=se(K,ke,at.value,ce);if(Es===null){ke===null&&(ke=Xt);break}i&&ke&&Es.alternate===null&&o(K,ke),B=v(Es,B,Me),Ce===null?Ie=Es:Ce.sibling=Es,Ce=Es,ke=Xt}if(at.done)return l(K,ke),It&&so(K,Me),Ie;if(ke===null){for(;!at.done;Me++,at=J.next())at=ae(K,at.value,ce),at!==null&&(B=v(at,B,Me),Ce===null?Ie=at:Ce.sibling=at,Ce=at);return It&&so(K,Me),Ie}for(ke=d(K,ke);!at.done;Me++,at=J.next())at=ye(ke,K,Me,at.value,ce),at!==null&&(i&&at.alternate!==null&&ke.delete(at.key===null?Me:at.key),B=v(at,B,Me),Ce===null?Ie=at:Ce.sibling=at,Ce=at);return i&&ke.forEach(function(c0){return o(K,c0)}),It&&so(K,Me),Ie}function jt(K,B,J,ce){if(typeof J=="object"&&J!==null&&J.type===b&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case ne:e:{for(var Ie=J.key,Ce=B;Ce!==null;){if(Ce.key===Ie){if(Ie=J.type,Ie===b){if(Ce.tag===7){l(K,Ce.sibling),B=m(Ce,J.props.children),B.return=K,K=B;break e}}else if(Ce.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Ue&&sy(Ie)===Ce.type){l(K,Ce.sibling),B=m(Ce,J.props),B.ref=ll(K,Ce,J),B.return=K,K=B;break e}l(K,Ce);break}else o(K,Ce);Ce=Ce.sibling}J.type===b?(B=po(J.props.children,K.mode,ce,J.key),B.return=K,K=B):(ce=vc(J.type,J.key,J.props,null,K.mode,ce),ce.ref=ll(K,B,J),ce.return=K,K=ce)}return S(K);case O:e:{for(Ce=J.key;B!==null;){if(B.key===Ce)if(B.tag===4&&B.stateNode.containerInfo===J.containerInfo&&B.stateNode.implementation===J.implementation){l(K,B.sibling),B=m(B,J.children||[]),B.return=K,K=B;break e}else{l(K,B);break}else o(K,B);B=B.sibling}B=Df(J,K.mode,ce),B.return=K,K=B}return S(K);case Ue:return Ce=J._init,jt(K,B,Ce(J._payload),ce)}if(Tr(J))return Te(K,B,J,ce);if(_e(J))return xe(K,B,J,ce);Gu(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,B!==null&&B.tag===6?(l(K,B.sibling),B=m(B,J),B.return=K,K=B):(l(K,B),B=jf(J,K.mode,ce),B.return=K,K=B),S(K)):l(K,B)}return jt}var la=oy(!0),ay=oy(!1),Qu=cs(null),Ju=null,ua=null,zh=null;function $h(){zh=ua=Ju=null}function Hh(i){var o=Qu.current;Tt(Qu),i._currentValue=o}function Wh(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function ca(i,o){Ju=i,zh=ua=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Ln=!0),i.firstContext=null)}function yr(i){var o=i._currentValue;if(zh!==i)if(i={context:i,memoizedValue:o,next:null},ua===null){if(Ju===null)throw Error(t(308));ua=i,Ju.dependencies={lanes:0,firstContext:i}}else ua=ua.next=i;return o}var oo=null;function qh(i){oo===null?oo=[i]:oo.push(i)}function ly(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,qh(o)):(l.next=m.next,m.next=l),o.interleaved=l,ji(i,d)}function ji(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var fs=!1;function Kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Di(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ps(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,ot&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,ji(i,l)}return m=d.interleaved,m===null?(o.next=o,qh(d)):(o.next=m.next,m.next=o),d.interleaved=o,ji(i,l)}function Yu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,rs(i,l)}}function cy(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Xu(i,o,l,d){var m=i.updateQueue;fs=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var M=N,Y=M.next;M.next=null,S===null?v=Y:S.next=Y,S=M;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,N=oe.lastBaseUpdate,N!==S&&(N===null?oe.firstBaseUpdate=Y:N.next=Y,oe.lastBaseUpdate=M))}if(v!==null){var ae=m.baseState;S=0,oe=Y=M=null,N=v;do{var se=N.lane,ye=N.eventTime;if((d&se)===se){oe!==null&&(oe=oe.next={eventTime:ye,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var Te=i,xe=N;switch(se=o,ye=l,xe.tag){case 1:if(Te=xe.payload,typeof Te=="function"){ae=Te.call(ye,ae,se);break e}ae=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=xe.payload,se=typeof Te=="function"?Te.call(ye,ae,se):Te,se==null)break e;ae=de({},ae,se);break e;case 2:fs=!0}}N.callback!==null&&N.lane!==0&&(i.flags|=64,se=m.effects,se===null?m.effects=[N]:se.push(N))}else ye={eventTime:ye,lane:se,tag:N.tag,payload:N.payload,callback:N.callback,next:null},oe===null?(Y=oe=ye,M=ae):oe=oe.next=ye,S|=se;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;se=N,N=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);if(oe===null&&(M=ae),m.baseState=M,m.firstBaseUpdate=Y,m.lastBaseUpdate=oe,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);uo|=S,i.lanes=S,i.memoizedState=ae}}function dy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var ul={},ri=cs(ul),cl=cs(ul),dl=cs(ul);function ao(i){if(i===ul)throw Error(t(174));return i}function Gh(i,o){switch(wt(dl,o),wt(cl,i),wt(ri,ul),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:dt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=dt(o,i)}Tt(ri),wt(ri,o)}function da(){Tt(ri),Tt(cl),Tt(dl)}function hy(i){ao(dl.current);var o=ao(ri.current),l=dt(o,i.type);o!==l&&(wt(cl,i),wt(ri,l))}function Qh(i){cl.current===i&&(Tt(ri),Tt(cl))}var Rt=cs(0);function Zu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Jh=[];function Yh(){for(var i=0;i<Jh.length;i++)Jh[i]._workInProgressVersionPrimary=null;Jh.length=0}var ec=X.ReactCurrentDispatcher,Xh=X.ReactCurrentBatchConfig,lo=0,Ct=null,$t=null,Jt=null,tc=!1,hl=!1,fl=0,NI=0;function mn(){throw Error(t(321))}function Zh(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Ar(i[l],o[l]))return!1;return!0}function ef(i,o,l,d,m,v){if(lo=v,Ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ec.current=i===null||i.memoizedState===null?LI:MI,i=l(d,m),hl){v=0;do{if(hl=!1,fl=0,25<=v)throw Error(t(301));v+=1,Jt=$t=null,o.updateQueue=null,ec.current=VI,i=l(d,m)}while(hl)}if(ec.current=ic,o=$t!==null&&$t.next!==null,lo=0,Jt=$t=Ct=null,tc=!1,o)throw Error(t(300));return i}function tf(){var i=fl!==0;return fl=0,i}function ii(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ct.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function vr(){if($t===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var o=Jt===null?Ct.memoizedState:Jt.next;if(o!==null)Jt=o,$t=i;else{if(i===null)throw Error(t(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Jt===null?Ct.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function pl(i,o){return typeof o=="function"?o(i):o}function nf(i){var o=vr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=$t,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var N=S=null,M=null,Y=v;do{var oe=Y.lane;if((lo&oe)===oe)M!==null&&(M=M.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:i(d,Y.action);else{var ae={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};M===null?(N=M=ae,S=d):M=M.next=ae,Ct.lanes|=oe,uo|=oe}Y=Y.next}while(Y!==null&&Y!==v);M===null?S=d:M.next=N,Ar(d,o.memoizedState)||(Ln=!0),o.memoizedState=d,o.baseState=S,o.baseQueue=M,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do v=m.lane,Ct.lanes|=v,uo|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function rf(i){var o=vr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do v=i(v,S.action),S=S.next;while(S!==m);Ar(v,o.memoizedState)||(Ln=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,d]}function fy(){}function py(i,o){var l=Ct,d=vr(),m=o(),v=!Ar(d.memoizedState,m);if(v&&(d.memoizedState=m,Ln=!0),d=d.queue,sf(yy.bind(null,l,d,i),[i]),d.getSnapshot!==o||v||Jt!==null&&Jt.memoizedState.tag&1){if(l.flags|=2048,ml(9,gy.bind(null,l,d,m,o),void 0,null),Yt===null)throw Error(t(349));lo&30||my(l,o,m)}return m}function my(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function gy(i,o,l,d){o.value=l,o.getSnapshot=d,vy(o)&&_y(i)}function yy(i,o,l){return l(function(){vy(o)&&_y(i)})}function vy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Ar(i,l)}catch{return!0}}function _y(i){var o=ji(i,1);o!==null&&Dr(o,i,1,-1)}function wy(i){var o=ii();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:i},o.queue=i,i=i.dispatch=OI.bind(null,Ct,i),[o.memoizedState,i]}function ml(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function Ey(){return vr().memoizedState}function nc(i,o,l,d){var m=ii();Ct.flags|=i,m.memoizedState=ml(1|o,l,void 0,d===void 0?null:d)}function rc(i,o,l,d){var m=vr();d=d===void 0?null:d;var v=void 0;if($t!==null){var S=$t.memoizedState;if(v=S.destroy,d!==null&&Zh(d,S.deps)){m.memoizedState=ml(o,l,v,d);return}}Ct.flags|=i,m.memoizedState=ml(1|o,l,v,d)}function Ty(i,o){return nc(8390656,8,i,o)}function sf(i,o){return rc(2048,8,i,o)}function Sy(i,o){return rc(4,2,i,o)}function xy(i,o){return rc(4,4,i,o)}function Iy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Ry(i,o,l){return l=l!=null?l.concat([i]):null,rc(4,4,Iy.bind(null,o,i),l)}function of(){}function Cy(i,o){var l=vr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Zh(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function ky(i,o){var l=vr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Zh(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function Ay(i,o,l){return lo&21?(Ar(l,o)||(l=Ys(),Ct.lanes|=l,uo|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Ln=!0),i.memoizedState=l)}function jI(i,o){var l=tt;tt=l!==0&&4>l?l:4,i(!0);var d=Xh.transition;Xh.transition={};try{i(!1),o()}finally{tt=l,Xh.transition=d}}function Py(){return vr().memoizedState}function DI(i,o,l){var d=vs(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},by(i))Ny(o,l);else if(l=ly(i,o,l,d),l!==null){var m=kn();Dr(l,i,d,m),jy(l,o,d)}}function OI(i,o,l){var d=vs(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(by(i))Ny(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,N=v(S,l);if(m.hasEagerState=!0,m.eagerState=N,Ar(N,S)){var M=o.interleaved;M===null?(m.next=m,qh(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}l=ly(i,o,m,d),l!==null&&(m=kn(),Dr(l,i,d,m),jy(l,o,d))}}function by(i){var o=i.alternate;return i===Ct||o!==null&&o===Ct}function Ny(i,o){hl=tc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function jy(i,o,l){if(l&4194240){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,rs(i,l)}}var ic={readContext:yr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},LI={readContext:yr,useCallback:function(i,o){return ii().memoizedState=[i,o===void 0?null:o],i},useContext:yr,useEffect:Ty,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,nc(4194308,4,Iy.bind(null,o,i),l)},useLayoutEffect:function(i,o){return nc(4194308,4,i,o)},useInsertionEffect:function(i,o){return nc(4,2,i,o)},useMemo:function(i,o){var l=ii();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=ii();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=DI.bind(null,Ct,i),[d.memoizedState,i]},useRef:function(i){var o=ii();return i={current:i},o.memoizedState=i},useState:wy,useDebugValue:of,useDeferredValue:function(i){return ii().memoizedState=i},useTransition:function(){var i=wy(!1),o=i[0];return i=jI.bind(null,i[1]),ii().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=Ct,m=ii();if(It){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Yt===null)throw Error(t(349));lo&30||my(d,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,Ty(yy.bind(null,d,v,i),[i]),d.flags|=2048,ml(9,gy.bind(null,d,v,l,o),void 0,null),l},useId:function(){var i=ii(),o=Yt.identifierPrefix;if(It){var l=Ni,d=bi;l=(d&~(1<<32-en(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=fl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=NI++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},MI={readContext:yr,useCallback:Cy,useContext:yr,useEffect:sf,useImperativeHandle:Ry,useInsertionEffect:Sy,useLayoutEffect:xy,useMemo:ky,useReducer:nf,useRef:Ey,useState:function(){return nf(pl)},useDebugValue:of,useDeferredValue:function(i){var o=vr();return Ay(o,$t.memoizedState,i)},useTransition:function(){var i=nf(pl)[0],o=vr().memoizedState;return[i,o]},useMutableSource:fy,useSyncExternalStore:py,useId:Py,unstable_isNewReconciler:!1},VI={readContext:yr,useCallback:Cy,useContext:yr,useEffect:sf,useImperativeHandle:Ry,useInsertionEffect:Sy,useLayoutEffect:xy,useMemo:ky,useReducer:rf,useRef:Ey,useState:function(){return rf(pl)},useDebugValue:of,useDeferredValue:function(i){var o=vr();return $t===null?o.memoizedState=i:Ay(o,$t.memoizedState,i)},useTransition:function(){var i=rf(pl)[0],o=vr().memoizedState;return[i,o]},useMutableSource:fy,useSyncExternalStore:py,useId:Py,unstable_isNewReconciler:!1};function br(i,o){if(i&&i.defaultProps){o=de({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function af(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:de({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var sc={isMounted:function(i){return(i=i._reactInternals)?ft(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=kn(),m=vs(i),v=Di(d,m);v.payload=o,l!=null&&(v.callback=l),o=ps(i,v,m),o!==null&&(Dr(o,i,m,d),Yu(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=kn(),m=vs(i),v=Di(d,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=ps(i,v,m),o!==null&&(Dr(o,i,m,d),Yu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=kn(),d=vs(i),m=Di(l,d);m.tag=2,o!=null&&(m.callback=o),o=ps(i,m,d),o!==null&&(Dr(o,i,d,l),Yu(o,i,d))}};function Dy(i,o,l,d,m,v,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,S):o.prototype&&o.prototype.isPureReactComponent?!tl(l,d)||!tl(m,v):!0}function Oy(i,o,l){var d=!1,m=ds,v=o.contextType;return typeof v=="object"&&v!==null?v=yr(v):(m=On(o)?ro:pn.current,d=o.contextTypes,v=(d=d!=null)?ia(i,m):ds),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=sc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function Ly(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&sc.enqueueReplaceState(o,o.state,null)}function lf(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Kh(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=yr(v):(v=On(o)?ro:pn.current,m.context=ia(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(af(i,o,v,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&sc.enqueueReplaceState(m,m.state,null),Xu(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function ha(i,o){try{var l="",d=o;do l+=Fe(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function uf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function cf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var FI=typeof WeakMap=="function"?WeakMap:Map;function My(i,o,l){l=Di(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){hc||(hc=!0,If=d),cf(i,o)},l}function Vy(i,o,l){l=Di(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){cf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){cf(i,o),typeof d!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function Fy(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new FI;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=ZI.bind(null,i,o,l),o.then(i,i))}function Uy(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function By(i,o,l,d,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Di(-1,1),o.tag=2,ps(l,o,1))),l.lanes|=1),i)}var UI=X.ReactCurrentOwner,Ln=!1;function Cn(i,o,l,d){o.child=i===null?ay(o,null,l,d):la(o,i.child,l,d)}function zy(i,o,l,d,m){l=l.render;var v=o.ref;return ca(o,m),d=ef(i,o,l,d,v,m),l=tf(),i!==null&&!Ln?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Oi(i,o,m)):(It&&l&&Mh(o),o.flags|=1,Cn(i,o,d,m),o.child)}function $y(i,o,l,d,m){if(i===null){var v=l.type;return typeof v=="function"&&!Nf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,Hy(i,o,v,d,m)):(i=vc(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:tl,l(S,d)&&i.ref===o.ref)return Oi(i,o,m)}return o.flags|=1,i=ws(v,d),i.ref=o.ref,i.return=o,o.child=i}function Hy(i,o,l,d,m){if(i!==null){var v=i.memoizedProps;if(tl(v,d)&&i.ref===o.ref)if(Ln=!1,o.pendingProps=d=v,(i.lanes&m)!==0)i.flags&131072&&(Ln=!0);else return o.lanes=i.lanes,Oi(i,o,m)}return df(i,o,l,d,m)}function Wy(i,o,l){var d=o.pendingProps,m=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(pa,Yn),Yn|=l;else{if(!(l&1073741824))return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,wt(pa,Yn),Yn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,wt(pa,Yn),Yn|=d}else v!==null?(d=v.baseLanes|l,o.memoizedState=null):d=l,wt(pa,Yn),Yn|=d;return Cn(i,o,m,l),o.child}function qy(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function df(i,o,l,d,m){var v=On(l)?ro:pn.current;return v=ia(o,v),ca(o,m),l=ef(i,o,l,d,v,m),d=tf(),i!==null&&!Ln?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Oi(i,o,m)):(It&&d&&Mh(o),o.flags|=1,Cn(i,o,l,m),o.child)}function Ky(i,o,l,d,m){if(On(l)){var v=!0;$u(o)}else v=!1;if(ca(o,m),o.stateNode===null)ac(i,o),Oy(o,l,d),lf(o,l,d,m),d=!0;else if(i===null){var S=o.stateNode,N=o.memoizedProps;S.props=N;var M=S.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=yr(Y):(Y=On(l)?ro:pn.current,Y=ia(o,Y));var oe=l.getDerivedStateFromProps,ae=typeof oe=="function"||typeof S.getSnapshotBeforeUpdate=="function";ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==d||M!==Y)&&Ly(o,S,d,Y),fs=!1;var se=o.memoizedState;S.state=se,Xu(o,d,S,m),M=o.memoizedState,N!==d||se!==M||Dn.current||fs?(typeof oe=="function"&&(af(o,l,oe,d),M=o.memoizedState),(N=fs||Dy(o,l,N,d,se,M,Y))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=M),S.props=d,S.state=M,S.context=Y,d=N):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{S=o.stateNode,uy(i,o),N=o.memoizedProps,Y=o.type===o.elementType?N:br(o.type,N),S.props=Y,ae=o.pendingProps,se=S.context,M=l.contextType,typeof M=="object"&&M!==null?M=yr(M):(M=On(l)?ro:pn.current,M=ia(o,M));var ye=l.getDerivedStateFromProps;(oe=typeof ye=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==ae||se!==M)&&Ly(o,S,d,M),fs=!1,se=o.memoizedState,S.state=se,Xu(o,d,S,m);var Te=o.memoizedState;N!==ae||se!==Te||Dn.current||fs?(typeof ye=="function"&&(af(o,l,ye,d),Te=o.memoizedState),(Y=fs||Dy(o,l,Y,d,se,Te,M)||!1)?(oe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,Te,M),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,Te,M)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Te),S.props=d,S.state=Te,S.context=M,d=Y):(typeof S.componentDidUpdate!="function"||N===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),d=!1)}return hf(i,o,l,d,v,m)}function hf(i,o,l,d,m,v){qy(i,o);var S=(o.flags&128)!==0;if(!d&&!S)return m&&Xg(o,l,!1),Oi(i,o,v);d=o.stateNode,UI.current=o;var N=S&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&S?(o.child=la(o,i.child,null,v),o.child=la(o,null,N,v)):Cn(i,o,N,v),o.memoizedState=d.state,m&&Xg(o,l,!0),o.child}function Gy(i){var o=i.stateNode;o.pendingContext?Jg(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Jg(i,o.context,!1),Gh(i,o.containerInfo)}function Qy(i,o,l,d,m){return aa(),Bh(m),o.flags|=256,Cn(i,o,l,d),o.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function pf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Jy(i,o,l){var d=o.pendingProps,m=Rt.current,v=!1,S=(o.flags&128)!==0,N;if((N=S)||(N=i!==null&&i.memoizedState===null?!1:(m&2)!==0),N?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),wt(Rt,m&1),i===null)return Uh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(S=d.children,i=d.fallback,v?(d=o.mode,v=o.child,S={mode:"hidden",children:S},!(d&1)&&v!==null?(v.childLanes=0,v.pendingProps=S):v=_c(S,d,0,null),i=po(i,d,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=pf(l),o.memoizedState=ff,i):mf(o,S));if(m=i.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return BI(i,o,S,d,N,m,l);if(v){v=d.fallback,S=o.mode,m=i.child,N=m.sibling;var M={mode:"hidden",children:d.children};return!(S&1)&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=M,o.deletions=null):(d=ws(m,M),d.subtreeFlags=m.subtreeFlags&14680064),N!==null?v=ws(N,v):(v=po(v,S,l,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,S=i.child.memoizedState,S=S===null?pf(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=i.childLanes&~l,o.memoizedState=ff,d}return v=i.child,i=v.sibling,d=ws(v,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function mf(i,o){return o=_c({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function oc(i,o,l,d){return d!==null&&Bh(d),la(o,i.child,null,l),i=mf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function BI(i,o,l,d,m,v,S){if(l)return o.flags&256?(o.flags&=-257,d=uf(Error(t(422))),oc(i,o,S,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=_c({mode:"visible",children:d.children},m,0,null),v=po(v,m,S,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,o.mode&1&&la(o,i.child,null,S),o.child.memoizedState=pf(S),o.memoizedState=ff,v);if(!(o.mode&1))return oc(i,o,S,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var N=d.dgst;return d=N,v=Error(t(419)),d=uf(v,d,void 0),oc(i,o,S,d)}if(N=(S&i.childLanes)!==0,Ln||N){if(d=Yt,d!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|S)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,ji(i,m),Dr(d,i,m,-1))}return bf(),d=uf(Error(t(421))),oc(i,o,S,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=e0.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Jn=us(m.nextSibling),Qn=o,It=!0,Pr=null,i!==null&&(mr[gr++]=bi,mr[gr++]=Ni,mr[gr++]=io,bi=i.id,Ni=i.overflow,io=o),o=mf(o,d.children),o.flags|=4096,o)}function Yy(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Wh(i.return,o,l)}function gf(i,o,l,d,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function Xy(i,o,l){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(Cn(i,o,d.children,l),d=Rt.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Yy(i,l,o);else if(i.tag===19)Yy(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(wt(Rt,d),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Zu(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),gf(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Zu(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}gf(o,!0,l,null,v);break;case"together":gf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ac(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Oi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),uo|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=ws(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=ws(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function zI(i,o,l){switch(o.tag){case 3:Gy(o),aa();break;case 5:hy(o);break;case 1:On(o.type)&&$u(o);break;case 4:Gh(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;wt(Qu,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(wt(Rt,Rt.current&1),o.flags|=128,null):l&o.child.childLanes?Jy(i,o,l):(wt(Rt,Rt.current&1),i=Oi(i,o,l),i!==null?i.sibling:null);wt(Rt,Rt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,i.flags&128){if(d)return Xy(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),wt(Rt,Rt.current),d)break;return null;case 22:case 23:return o.lanes=0,Wy(i,o,l)}return Oi(i,o,l)}var Zy,yf,ev,tv;Zy=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},yf=function(){},ev=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,ao(ri.current);var v=null;switch(l){case"input":m=Gt(i,m),d=Gt(i,d),v=[];break;case"select":m=de({},m,{value:void 0}),d=de({},d,{value:void 0}),v=[];break;case"textarea":m=Wn(i,m),d=Wn(i,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Uu)}Yi(l,d);var S;l=null;for(Y in m)if(!d.hasOwnProperty(Y)&&m.hasOwnProperty(Y)&&m[Y]!=null)if(Y==="style"){var N=m[Y];for(S in N)N.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?v||(v=[]):(v=v||[]).push(Y,null));for(Y in d){var M=d[Y];if(N=m!=null?m[Y]:void 0,d.hasOwnProperty(Y)&&M!==N&&(M!=null||N!=null))if(Y==="style")if(N){for(S in N)!N.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in M)M.hasOwnProperty(S)&&N[S]!==M[S]&&(l||(l={}),l[S]=M[S])}else l||(v||(v=[]),v.push(Y,l)),l=M;else Y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,N=N?N.__html:void 0,M!=null&&N!==M&&(v=v||[]).push(Y,M)):Y==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(Y,""+M):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(M!=null&&Y==="onScroll"&&Et("scroll",i),v||N===M||(v=[])):(v=v||[]).push(Y,M))}l&&(v=v||[]).push("style",l);var Y=v;(o.updateQueue=Y)&&(o.flags|=4)}},tv=function(i,o,l,d){l!==d&&(o.flags|=4)};function gl(i,o){if(!It)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function gn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function $I(i,o,l){var d=o.pendingProps;switch(Vh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(o),null;case 1:return On(o.type)&&zu(),gn(o),null;case 3:return d=o.stateNode,da(),Tt(Dn),Tt(pn),Yh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Ku(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Pr!==null&&(kf(Pr),Pr=null))),yf(i,o),gn(o),null;case 5:Qh(o);var m=ao(dl.current);if(l=o.type,i!==null&&o.stateNode!=null)ev(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return gn(o),null}if(i=ao(ri.current),Ku(o)){d=o.stateNode,l=o.type;var v=o.memoizedProps;switch(d[ni]=o,d[ol]=v,i=(o.mode&1)!==0,l){case"dialog":Et("cancel",d),Et("close",d);break;case"iframe":case"object":case"embed":Et("load",d);break;case"video":case"audio":for(m=0;m<rl.length;m++)Et(rl[m],d);break;case"source":Et("error",d);break;case"img":case"image":case"link":Et("error",d),Et("load",d);break;case"details":Et("toggle",d);break;case"input":Hn(d,v),Et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Et("invalid",d);break;case"textarea":ar(d,v),Et("invalid",d)}Yi(l,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var N=v[S];S==="children"?typeof N=="string"?d.textContent!==N&&(v.suppressHydrationWarning!==!0&&Fu(d.textContent,N,i),m=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(v.suppressHydrationWarning!==!0&&Fu(d.textContent,N,i),m=["children",""+N]):s.hasOwnProperty(S)&&N!=null&&S==="onScroll"&&Et("scroll",d)}switch(l){case"input":Bt(d),Mo(d,v,!0);break;case"textarea":Bt(d),vi(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Uu)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=S.createElement(l,{is:d.is}):(i=S.createElement(l),l==="select"&&(S=i,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):i=S.createElementNS(i,l),i[ni]=o,i[ol]=d,Zy(i,o,!1,!1),o.stateNode=i;e:{switch(S=Wr(l,d),l){case"dialog":Et("cancel",i),Et("close",i),m=d;break;case"iframe":case"object":case"embed":Et("load",i),m=d;break;case"video":case"audio":for(m=0;m<rl.length;m++)Et(rl[m],i);m=d;break;case"source":Et("error",i),m=d;break;case"img":case"image":case"link":Et("error",i),Et("load",i),m=d;break;case"details":Et("toggle",i),m=d;break;case"input":Hn(i,d),m=Gt(i,d),Et("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=de({},d,{value:void 0}),Et("invalid",i);break;case"textarea":ar(i,d),m=Wn(i,d),Et("invalid",i);break;default:m=d}Yi(l,m),N=m;for(v in N)if(N.hasOwnProperty(v)){var M=N[v];v==="style"?Ji(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&_i(i,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&$r(i,M):typeof M=="number"&&$r(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Et("scroll",i):M!=null&&H(i,v,M,S))}switch(l){case"input":Bt(i),Mo(i,d,!1);break;case"textarea":Bt(i),vi(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Xe(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?Sr(i,!!d.multiple,v,!1):d.defaultValue!=null&&Sr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Uu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return gn(o),null;case 6:if(i&&o.stateNode!=null)tv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=ao(dl.current),ao(ri.current),Ku(o)){if(d=o.stateNode,l=o.memoizedProps,d[ni]=o,(v=d.nodeValue!==l)&&(i=Qn,i!==null))switch(i.tag){case 3:Fu(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Fu(d.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[ni]=o,o.stateNode=d}return gn(o),null;case 13:if(Tt(Rt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(It&&Jn!==null&&o.mode&1&&!(o.flags&128))iy(),aa(),o.flags|=98560,v=!1;else if(v=Ku(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[ni]=o}else aa(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;gn(o),v=!1}else Pr!==null&&(kf(Pr),Pr=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||Rt.current&1?Ht===0&&(Ht=3):bf())),o.updateQueue!==null&&(o.flags|=4),gn(o),null);case 4:return da(),yf(i,o),i===null&&il(o.stateNode.containerInfo),gn(o),null;case 10:return Hh(o.type._context),gn(o),null;case 17:return On(o.type)&&zu(),gn(o),null;case 19:if(Tt(Rt),v=o.memoizedState,v===null)return gn(o),null;if(d=(o.flags&128)!==0,S=v.rendering,S===null)if(d)gl(v,!1);else{if(Ht!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(S=Zu(i),S!==null){for(o.flags|=128,gl(v,!1),d=S.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)v=l,i=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,i=S.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return wt(Rt,Rt.current&1|2),o.child}i=i.sibling}v.tail!==null&&rt()>ma&&(o.flags|=128,d=!0,gl(v,!1),o.lanes=4194304)}else{if(!d)if(i=Zu(S),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),gl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!It)return gn(o),null}else 2*rt()-v.renderingStartTime>ma&&l!==1073741824&&(o.flags|=128,d=!0,gl(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(l=v.last,l!==null?l.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=rt(),o.sibling=null,l=Rt.current,wt(Rt,d?l&1|2:l&1),o):(gn(o),null);case 22:case 23:return Pf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?Yn&1073741824&&(gn(o),o.subtreeFlags&6&&(o.flags|=8192)):gn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function HI(i,o){switch(Vh(o),o.tag){case 1:return On(o.type)&&zu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return da(),Tt(Dn),Tt(pn),Yh(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Qh(o),null;case 13:if(Tt(Rt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));aa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Tt(Rt),null;case 4:return da(),null;case 10:return Hh(o.type._context),null;case 22:case 23:return Pf(),null;case 24:return null;default:return null}}var lc=!1,yn=!1,WI=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function fa(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){bt(i,o,d)}else l.current=null}function vf(i,o,l){try{l()}catch(d){bt(i,o,d)}}var nv=!1;function qI(i,o){if(Ah=os,i=Dg(),Eh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,N=-1,M=-1,Y=0,oe=0,ae=i,se=null;t:for(;;){for(var ye;ae!==l||m!==0&&ae.nodeType!==3||(N=S+m),ae!==v||d!==0&&ae.nodeType!==3||(M=S+d),ae.nodeType===3&&(S+=ae.nodeValue.length),(ye=ae.firstChild)!==null;)se=ae,ae=ye;for(;;){if(ae===i)break t;if(se===l&&++Y===m&&(N=S),se===v&&++oe===d&&(M=S),(ye=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=ye}l=N===-1||M===-1?null:{start:N,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ph={focusedElem:i,selectionRange:l},os=!1,Ee=o;Ee!==null;)if(o=Ee,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ee=i;else for(;Ee!==null;){o=Ee;try{var Te=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var xe=Te.memoizedProps,jt=Te.memoizedState,K=o.stateNode,B=K.getSnapshotBeforeUpdate(o.elementType===o.type?xe:br(o.type,xe),jt);K.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var J=o.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){bt(o,o.return,ce)}if(i=o.sibling,i!==null){i.return=o.return,Ee=i;break}Ee=o.return}return Te=nv,nv=!1,Te}function yl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&vf(o,l,v)}m=m.next}while(m!==d)}}function uc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function _f(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function rv(i){var o=i.alternate;o!==null&&(i.alternate=null,rv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[ni],delete o[ol],delete o[Dh],delete o[kI],delete o[AI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function iv(i){return i.tag===5||i.tag===3||i.tag===4}function sv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||iv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Uu));else if(d!==4&&(i=i.child,i!==null))for(wf(i,o,l),i=i.sibling;i!==null;)wf(i,o,l),i=i.sibling}function Ef(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Ef(i,o,l),i=i.sibling;i!==null;)Ef(i,o,l),i=i.sibling}var rn=null,Nr=!1;function ms(i,o,l){for(l=l.child;l!==null;)ov(i,o,l),l=l.sibling}function ov(i,o,l){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(yt,l)}catch{}switch(l.tag){case 5:yn||fa(l,o);case 6:var d=rn,m=Nr;rn=null,ms(i,o,l),rn=d,Nr=m,rn!==null&&(Nr?(i=rn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):rn.removeChild(l.stateNode));break;case 18:rn!==null&&(Nr?(i=rn,l=l.stateNode,i.nodeType===8?jh(i.parentNode,l):i.nodeType===1&&jh(i,l),Cr(i)):jh(rn,l.stateNode));break;case 4:d=rn,m=Nr,rn=l.stateNode.containerInfo,Nr=!0,ms(i,o,l),rn=d,Nr=m;break;case 0:case 11:case 14:case 15:if(!yn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&(v&2||v&4)&&vf(l,o,S),m=m.next}while(m!==d)}ms(i,o,l);break;case 1:if(!yn&&(fa(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){bt(l,o,N)}ms(i,o,l);break;case 21:ms(i,o,l);break;case 22:l.mode&1?(yn=(d=yn)||l.memoizedState!==null,ms(i,o,l),yn=d):ms(i,o,l);break;default:ms(i,o,l)}}function av(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new WI),o.forEach(function(d){var m=t0.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function jr(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=i,S=o,N=S;e:for(;N!==null;){switch(N.tag){case 5:rn=N.stateNode,Nr=!1;break e;case 3:rn=N.stateNode.containerInfo,Nr=!0;break e;case 4:rn=N.stateNode.containerInfo,Nr=!0;break e}N=N.return}if(rn===null)throw Error(t(160));ov(v,S,m),rn=null,Nr=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(Y){bt(m,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)lv(o,i),o=o.sibling}function lv(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(jr(o,i),si(i),d&4){try{yl(3,i,i.return),uc(3,i)}catch(xe){bt(i,i.return,xe)}try{yl(5,i,i.return)}catch(xe){bt(i,i.return,xe)}}break;case 1:jr(o,i),si(i),d&512&&l!==null&&fa(l,l.return);break;case 5:if(jr(o,i),si(i),d&512&&l!==null&&fa(l,l.return),i.flags&32){var m=i.stateNode;try{$r(m,"")}catch(xe){bt(i,i.return,xe)}}if(d&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,S=l!==null?l.memoizedProps:v,N=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{N==="input"&&v.type==="radio"&&v.name!=null&&zr(m,v),Wr(N,S);var Y=Wr(N,v);for(S=0;S<M.length;S+=2){var oe=M[S],ae=M[S+1];oe==="style"?Ji(m,ae):oe==="dangerouslySetInnerHTML"?_i(m,ae):oe==="children"?$r(m,ae):H(m,oe,ae,Y)}switch(N){case"input":or(m,v);break;case"textarea":yi(m,v);break;case"select":var se=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ye=v.value;ye!=null?Sr(m,!!v.multiple,ye,!1):se!==!!v.multiple&&(v.defaultValue!=null?Sr(m,!!v.multiple,v.defaultValue,!0):Sr(m,!!v.multiple,v.multiple?[]:"",!1))}m[ol]=v}catch(xe){bt(i,i.return,xe)}}break;case 6:if(jr(o,i),si(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(xe){bt(i,i.return,xe)}}break;case 3:if(jr(o,i),si(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Cr(o.containerInfo)}catch(xe){bt(i,i.return,xe)}break;case 4:jr(o,i),si(i);break;case 13:jr(o,i),si(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(xf=rt())),d&4&&av(i);break;case 22:if(oe=l!==null&&l.memoizedState!==null,i.mode&1?(yn=(Y=yn)||oe,jr(o,i),yn=Y):jr(o,i),si(i),d&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!oe&&i.mode&1)for(Ee=i,oe=i.child;oe!==null;){for(ae=Ee=oe;Ee!==null;){switch(se=Ee,ye=se.child,se.tag){case 0:case 11:case 14:case 15:yl(4,se,se.return);break;case 1:fa(se,se.return);var Te=se.stateNode;if(typeof Te.componentWillUnmount=="function"){d=se,l=se.return;try{o=d,Te.props=o.memoizedProps,Te.state=o.memoizedState,Te.componentWillUnmount()}catch(xe){bt(d,l,xe)}}break;case 5:fa(se,se.return);break;case 22:if(se.memoizedState!==null){dv(ae);continue}}ye!==null?(ye.return=se,Ee=ye):dv(ae)}oe=oe.sibling}e:for(oe=null,ae=i;;){if(ae.tag===5){if(oe===null){oe=ae;try{m=ae.stateNode,Y?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(N=ae.stateNode,M=ae.memoizedProps.style,S=M!=null&&M.hasOwnProperty("display")?M.display:null,N.style.display=Qi("display",S))}catch(xe){bt(i,i.return,xe)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(xe){bt(i,i.return,xe)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:jr(o,i),si(i),d&4&&av(i);break;case 21:break;default:jr(o,i),si(i)}}function si(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(iv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&($r(m,""),d.flags&=-33);var v=sv(i);Ef(i,v,m);break;case 3:case 4:var S=d.stateNode.containerInfo,N=sv(i);wf(i,N,S);break;default:throw Error(t(161))}}catch(M){bt(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function KI(i,o,l){Ee=i,uv(i)}function uv(i,o,l){for(var d=(i.mode&1)!==0;Ee!==null;){var m=Ee,v=m.child;if(m.tag===22&&d){var S=m.memoizedState!==null||lc;if(!S){var N=m.alternate,M=N!==null&&N.memoizedState!==null||yn;N=lc;var Y=yn;if(lc=S,(yn=M)&&!Y)for(Ee=m;Ee!==null;)S=Ee,M=S.child,S.tag===22&&S.memoizedState!==null?hv(m):M!==null?(M.return=S,Ee=M):hv(m);for(;v!==null;)Ee=v,uv(v),v=v.sibling;Ee=m,lc=N,yn=Y}cv(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,Ee=v):cv(i)}}function cv(i){for(;Ee!==null;){var o=Ee;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:yn||uc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!yn)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:br(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&dy(o,v,d);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}dy(o,S,l)}break;case 5:var N=o.stateNode;if(l===null&&o.flags&4){l=N;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Cr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}yn||o.flags&512&&_f(o)}catch(se){bt(o,o.return,se)}}if(o===i){Ee=null;break}if(l=o.sibling,l!==null){l.return=o.return,Ee=l;break}Ee=o.return}}function dv(i){for(;Ee!==null;){var o=Ee;if(o===i){Ee=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Ee=l;break}Ee=o.return}}function hv(i){for(;Ee!==null;){var o=Ee;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{uc(4,o)}catch(M){bt(o,l,M)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(M){bt(o,m,M)}}var v=o.return;try{_f(o)}catch(M){bt(o,v,M)}break;case 5:var S=o.return;try{_f(o)}catch(M){bt(o,S,M)}}}catch(M){bt(o,o.return,M)}if(o===i){Ee=null;break}var N=o.sibling;if(N!==null){N.return=o.return,Ee=N;break}Ee=o.return}}var GI=Math.ceil,cc=X.ReactCurrentDispatcher,Tf=X.ReactCurrentOwner,_r=X.ReactCurrentBatchConfig,ot=0,Yt=null,Mt=null,sn=0,Yn=0,pa=cs(0),Ht=0,vl=null,uo=0,dc=0,Sf=0,_l=null,Mn=null,xf=0,ma=1/0,Li=null,hc=!1,If=null,gs=null,fc=!1,ys=null,pc=0,wl=0,Rf=null,mc=-1,gc=0;function kn(){return ot&6?rt():mc!==-1?mc:mc=rt()}function vs(i){return i.mode&1?ot&2&&sn!==0?sn&-sn:bI.transition!==null?(gc===0&&(gc=Ys()),gc):(i=tt,i!==0||(i=window.event,i=i===void 0?16:Ga(i.type)),i):1}function Dr(i,o,l,d){if(50<wl)throw wl=0,Rf=null,Error(t(185));ns(i,l,d),(!(ot&2)||i!==Yt)&&(i===Yt&&(!(ot&2)&&(dc|=l),Ht===4&&_s(i,sn)),Vn(i,d),l===1&&ot===0&&!(o.mode&1)&&(ma=rt()+500,Hu&&hs()))}function Vn(i,o){var l=i.callbackNode;xi(i,o);var d=Js(i,i===Yt?sn:0);if(d===0)l!==null&&fn(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&fn(l),o===1)i.tag===0?PI(pv.bind(null,i)):Zg(pv.bind(null,i)),RI(function(){!(ot&6)&&hs()}),l=null;else{switch(is(d)){case 1:l=hr;break;case 4:l=et;break;case 16:l=pt;break;case 536870912:l=Jr;break;default:l=pt}l=Tv(l,fv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function fv(i,o){if(mc=-1,gc=0,ot&6)throw Error(t(327));var l=i.callbackNode;if(ga()&&i.callbackNode!==l)return null;var d=Js(i,i===Yt?sn:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=yc(i,d);else{o=d;var m=ot;ot|=2;var v=gv();(Yt!==i||sn!==o)&&(Li=null,ma=rt()+500,ho(i,o));do try{YI();break}catch(N){mv(i,N)}while(!0);$h(),cc.current=v,ot=m,Mt!==null?o=0:(Yt=null,sn=0,o=Ht)}if(o!==0){if(o===2&&(m=qn(i),m!==0&&(d=m,o=Cf(i,m))),o===1)throw l=vl,ho(i,0),_s(i,d),Vn(i,rt()),l;if(o===6)_s(i,d);else{if(m=i.current.alternate,!(d&30)&&!QI(m)&&(o=yc(i,d),o===2&&(v=qn(i),v!==0&&(d=v,o=Cf(i,v))),o===1))throw l=vl,ho(i,0),_s(i,d),Vn(i,rt()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:fo(i,Mn,Li);break;case 3:if(_s(i,d),(d&130023424)===d&&(o=xf+500-rt(),10<o)){if(Js(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){kn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Nh(fo.bind(null,i,Mn,Li),o);break}fo(i,Mn,Li);break;case 4:if(_s(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var S=31-en(d);v=1<<S,S=o[S],S>m&&(m=S),d&=~v}if(d=m,d=rt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*GI(d/1960))-d,10<d){i.timeoutHandle=Nh(fo.bind(null,i,Mn,Li),d);break}fo(i,Mn,Li);break;case 5:fo(i,Mn,Li);break;default:throw Error(t(329))}}}return Vn(i,rt()),i.callbackNode===l?fv.bind(null,i):null}function Cf(i,o){var l=_l;return i.current.memoizedState.isDehydrated&&(ho(i,o).flags|=256),i=yc(i,o),i!==2&&(o=Mn,Mn=l,o!==null&&kf(o)),i}function kf(i){Mn===null?Mn=i:Mn.push.apply(Mn,i)}function QI(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!Ar(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function _s(i,o){for(o&=~Sf,o&=~dc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-en(o),d=1<<l;i[l]=-1,o&=~d}}function pv(i){if(ot&6)throw Error(t(327));ga();var o=Js(i,0);if(!(o&1))return Vn(i,rt()),null;var l=yc(i,o);if(i.tag!==0&&l===2){var d=qn(i);d!==0&&(o=d,l=Cf(i,d))}if(l===1)throw l=vl,ho(i,0),_s(i,o),Vn(i,rt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,fo(i,Mn,Li),Vn(i,rt()),null}function Af(i,o){var l=ot;ot|=1;try{return i(o)}finally{ot=l,ot===0&&(ma=rt()+500,Hu&&hs())}}function co(i){ys!==null&&ys.tag===0&&!(ot&6)&&ga();var o=ot;ot|=1;var l=_r.transition,d=tt;try{if(_r.transition=null,tt=1,i)return i()}finally{tt=d,_r.transition=l,ot=o,!(ot&6)&&hs()}}function Pf(){Yn=pa.current,Tt(pa)}function ho(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,II(l)),Mt!==null)for(l=Mt.return;l!==null;){var d=l;switch(Vh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&zu();break;case 3:da(),Tt(Dn),Tt(pn),Yh();break;case 5:Qh(d);break;case 4:da();break;case 13:Tt(Rt);break;case 19:Tt(Rt);break;case 10:Hh(d.type._context);break;case 22:case 23:Pf()}l=l.return}if(Yt=i,Mt=i=ws(i.current,null),sn=Yn=o,Ht=0,vl=null,Sf=dc=uo=0,Mn=_l=null,oo!==null){for(o=0;o<oo.length;o++)if(l=oo[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var S=v.next;v.next=m,d.next=S}l.pending=d}oo=null}return i}function mv(i,o){do{var l=Mt;try{if($h(),ec.current=ic,tc){for(var d=Ct.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}tc=!1}if(lo=0,Jt=$t=Ct=null,hl=!1,fl=0,Tf.current=null,l===null||l.return===null){Ht=1,vl=o,Mt=null;break}e:{var v=i,S=l.return,N=l,M=o;if(o=sn,N.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=M,oe=N,ae=oe.tag;if(!(oe.mode&1)&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ye=Uy(S);if(ye!==null){ye.flags&=-257,By(ye,S,N,v,o),ye.mode&1&&Fy(v,Y,o),o=ye,M=Y;var Te=o.updateQueue;if(Te===null){var xe=new Set;xe.add(M),o.updateQueue=xe}else Te.add(M);break e}else{if(!(o&1)){Fy(v,Y,o),bf();break e}M=Error(t(426))}}else if(It&&N.mode&1){var jt=Uy(S);if(jt!==null){!(jt.flags&65536)&&(jt.flags|=256),By(jt,S,N,v,o),Bh(ha(M,N));break e}}v=M=ha(M,N),Ht!==4&&(Ht=2),_l===null?_l=[v]:_l.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var K=My(v,M,o);cy(v,K);break e;case 1:N=M;var B=v.type,J=v.stateNode;if(!(v.flags&128)&&(typeof B.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(gs===null||!gs.has(J)))){v.flags|=65536,o&=-o,v.lanes|=o;var ce=Vy(v,N,o);cy(v,ce);break e}}v=v.return}while(v!==null)}vv(l)}catch(Ie){o=Ie,Mt===l&&l!==null&&(Mt=l=l.return);continue}break}while(!0)}function gv(){var i=cc.current;return cc.current=ic,i===null?ic:i}function bf(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Yt===null||!(uo&268435455)&&!(dc&268435455)||_s(Yt,sn)}function yc(i,o){var l=ot;ot|=2;var d=gv();(Yt!==i||sn!==o)&&(Li=null,ho(i,o));do try{JI();break}catch(m){mv(i,m)}while(!0);if($h(),ot=l,cc.current=d,Mt!==null)throw Error(t(261));return Yt=null,sn=0,Ht}function JI(){for(;Mt!==null;)yv(Mt)}function YI(){for(;Mt!==null&&!Zi();)yv(Mt)}function yv(i){var o=Ev(i.alternate,i,Yn);i.memoizedProps=i.pendingProps,o===null?vv(i):Mt=o,Tf.current=null}function vv(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=HI(l,o),l!==null){l.flags&=32767,Mt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ht=6,Mt=null;return}}else if(l=$I(l,o,Yn),l!==null){Mt=l;return}if(o=o.sibling,o!==null){Mt=o;return}Mt=o=i}while(o!==null);Ht===0&&(Ht=5)}function fo(i,o,l){var d=tt,m=_r.transition;try{_r.transition=null,tt=1,XI(i,o,l,d)}finally{_r.transition=m,tt=d}return null}function XI(i,o,l,d){do ga();while(ys!==null);if(ot&6)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(_t(i,v),i===Yt&&(Mt=Yt=null,sn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||fc||(fc=!0,Tv(pt,function(){return ga(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=_r.transition,_r.transition=null;var S=tt;tt=1;var N=ot;ot|=4,Tf.current=null,qI(i,l),lv(l,i),vI(Ph),os=!!Ah,Ph=Ah=null,i.current=l,KI(l),Ti(),ot=N,tt=S,_r.transition=v}else i.current=l;if(fc&&(fc=!1,ys=i,pc=m),v=i.pendingLanes,v===0&&(gs=null),Qs(l.stateNode),Vn(i,rt()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(hc)throw hc=!1,i=If,If=null,i;return pc&1&&i.tag!==0&&ga(),v=i.pendingLanes,v&1?i===Rf?wl++:(wl=0,Rf=i):wl=0,hs(),null}function ga(){if(ys!==null){var i=is(pc),o=_r.transition,l=tt;try{if(_r.transition=null,tt=16>i?16:i,ys===null)var d=!1;else{if(i=ys,ys=null,pc=0,ot&6)throw Error(t(331));var m=ot;for(ot|=4,Ee=i.current;Ee!==null;){var v=Ee,S=v.child;if(Ee.flags&16){var N=v.deletions;if(N!==null){for(var M=0;M<N.length;M++){var Y=N[M];for(Ee=Y;Ee!==null;){var oe=Ee;switch(oe.tag){case 0:case 11:case 15:yl(8,oe,v)}var ae=oe.child;if(ae!==null)ae.return=oe,Ee=ae;else for(;Ee!==null;){oe=Ee;var se=oe.sibling,ye=oe.return;if(rv(oe),oe===Y){Ee=null;break}if(se!==null){se.return=ye,Ee=se;break}Ee=ye}}}var Te=v.alternate;if(Te!==null){var xe=Te.child;if(xe!==null){Te.child=null;do{var jt=xe.sibling;xe.sibling=null,xe=jt}while(xe!==null)}}Ee=v}}if(v.subtreeFlags&2064&&S!==null)S.return=v,Ee=S;else e:for(;Ee!==null;){if(v=Ee,v.flags&2048)switch(v.tag){case 0:case 11:case 15:yl(9,v,v.return)}var K=v.sibling;if(K!==null){K.return=v.return,Ee=K;break e}Ee=v.return}}var B=i.current;for(Ee=B;Ee!==null;){S=Ee;var J=S.child;if(S.subtreeFlags&2064&&J!==null)J.return=S,Ee=J;else e:for(S=B;Ee!==null;){if(N=Ee,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:uc(9,N)}}catch(Ie){bt(N,N.return,Ie)}if(N===S){Ee=null;break e}var ce=N.sibling;if(ce!==null){ce.return=N.return,Ee=ce;break e}Ee=N.return}}if(ot=m,hs(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(yt,i)}catch{}d=!0}return d}finally{tt=l,_r.transition=o}}return!1}function _v(i,o,l){o=ha(l,o),o=My(i,o,1),i=ps(i,o,1),o=kn(),i!==null&&(ns(i,1,o),Vn(i,o))}function bt(i,o,l){if(i.tag===3)_v(i,i,l);else for(;o!==null;){if(o.tag===3){_v(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(gs===null||!gs.has(d))){i=ha(l,i),i=Vy(o,i,1),o=ps(o,i,1),i=kn(),o!==null&&(ns(o,1,i),Vn(o,i));break}}o=o.return}}function ZI(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=kn(),i.pingedLanes|=i.suspendedLanes&l,Yt===i&&(sn&l)===l&&(Ht===4||Ht===3&&(sn&130023424)===sn&&500>rt()-xf?ho(i,0):Sf|=l),Vn(i,o)}function wv(i,o){o===0&&(i.mode&1?(o=Fo,Fo<<=1,!(Fo&130023424)&&(Fo=4194304)):o=1);var l=kn();i=ji(i,o),i!==null&&(ns(i,o,l),Vn(i,l))}function e0(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),wv(i,l)}function t0(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),wv(i,l)}var Ev;Ev=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Dn.current)Ln=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return Ln=!1,zI(i,o,l);Ln=!!(i.flags&131072)}else Ln=!1,It&&o.flags&1048576&&ey(o,qu,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;ac(i,o),i=o.pendingProps;var m=ia(o,pn.current);ca(o,l),m=ef(null,o,d,i,m,l);var v=tf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,On(d)?(v=!0,$u(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Kh(o),m.updater=sc,o.stateNode=m,m._reactInternals=o,lf(o,d,i,l),o=hf(null,o,d,!0,v,l)):(o.tag=0,It&&v&&Mh(o),Cn(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(ac(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=r0(d),i=br(d,i),m){case 0:o=df(null,o,d,i,l);break e;case 1:o=Ky(null,o,d,i,l);break e;case 11:o=zy(null,o,d,i,l);break e;case 14:o=$y(null,o,d,br(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:br(d,m),df(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:br(d,m),Ky(i,o,d,m,l);case 3:e:{if(Gy(o),i===null)throw Error(t(387));d=o.pendingProps,v=o.memoizedState,m=v.element,uy(i,o),Xu(o,d,null,l);var S=o.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ha(Error(t(423)),o),o=Qy(i,o,d,l,m);break e}else if(d!==m){m=ha(Error(t(424)),o),o=Qy(i,o,d,l,m);break e}else for(Jn=us(o.stateNode.containerInfo.firstChild),Qn=o,It=!0,Pr=null,l=ay(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(aa(),d===m){o=Oi(i,o,l);break e}Cn(i,o,d,l)}o=o.child}return o;case 5:return hy(o),i===null&&Uh(o),d=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,S=m.children,bh(d,m)?S=null:v!==null&&bh(d,v)&&(o.flags|=32),qy(i,o),Cn(i,o,S,l),o.child;case 6:return i===null&&Uh(o),null;case 13:return Jy(i,o,l);case 4:return Gh(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=la(o,null,d,l):Cn(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:br(d,m),zy(i,o,d,m,l);case 7:return Cn(i,o,o.pendingProps,l),o.child;case 8:return Cn(i,o,o.pendingProps.children,l),o.child;case 12:return Cn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,S=m.value,wt(Qu,d._currentValue),d._currentValue=S,v!==null)if(Ar(v.value,S)){if(v.children===m.children&&!Dn.current){o=Oi(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var N=v.dependencies;if(N!==null){S=v.child;for(var M=N.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=Di(-1,l&-l),M.tag=2;var Y=v.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?M.next=M:(M.next=oe.next,oe.next=M),Y.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),Wh(v.return,l,o),N.lanes|=l;break}M=M.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(t(341));S.lanes|=l,N=S.alternate,N!==null&&(N.lanes|=l),Wh(S,l,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Cn(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,ca(o,l),m=yr(m),d=d(m),o.flags|=1,Cn(i,o,d,l),o.child;case 14:return d=o.type,m=br(d,o.pendingProps),m=br(d.type,m),$y(i,o,d,m,l);case 15:return Hy(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:br(d,m),ac(i,o),o.tag=1,On(d)?(i=!0,$u(o)):i=!1,ca(o,l),Oy(o,d,m),lf(o,d,m,l),hf(null,o,d,!0,i,l);case 19:return Xy(i,o,l);case 22:return Wy(i,o,l)}throw Error(t(156,o.tag))};function Tv(i,o){return hn(i,o)}function n0(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(i,o,l,d){return new n0(i,o,l,d)}function Nf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function r0(i){if(typeof i=="function")return Nf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===He)return 14}return 2}function ws(i,o){var l=i.alternate;return l===null?(l=wr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function vc(i,o,l,d,m,v){var S=2;if(d=i,typeof i=="function")Nf(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case b:return po(l.children,m,v,o);case C:S=8,m|=8;break;case A:return i=wr(12,l,o,m|2),i.elementType=A,i.lanes=v,i;case P:return i=wr(13,l,o,m),i.elementType=P,i.lanes=v,i;case De:return i=wr(19,l,o,m),i.elementType=De,i.lanes=v,i;case be:return _c(l,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:S=10;break e;case V:S=9;break e;case $:S=11;break e;case He:S=14;break e;case Ue:S=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=wr(S,l,o,m),o.elementType=i,o.type=d,o.lanes=v,o}function po(i,o,l,d){return i=wr(7,i,d,o),i.lanes=l,i}function _c(i,o,l,d){return i=wr(22,i,d,o),i.elementType=be,i.lanes=l,i.stateNode={isHidden:!1},i}function jf(i,o,l){return i=wr(6,i,null,o),i.lanes=l,i}function Df(i,o,l){return o=wr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function i0(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ts(0),this.expirationTimes=ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Of(i,o,l,d,m,v,S,N,M){return i=new i0(i,o,l,N,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=wr(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kh(v),i}function s0(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function Sv(i){if(!i)return ds;i=i._reactInternals;e:{if(ft(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(On(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(On(l))return Yg(i,l,o)}return o}function xv(i,o,l,d,m,v,S,N,M){return i=Of(l,d,!0,i,m,v,S,N,M),i.context=Sv(null),l=i.current,d=kn(),m=vs(l),v=Di(d,m),v.callback=o??null,ps(l,v,m),i.current.lanes=m,ns(i,m,d),Vn(i,d),i}function wc(i,o,l,d){var m=o.current,v=kn(),S=vs(m);return l=Sv(l),o.context===null?o.context=l:o.pendingContext=l,o=Di(v,S),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=ps(m,o,S),i!==null&&(Dr(i,m,S,v),Yu(i,m,S)),S}function Ec(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Iv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Lf(i,o){Iv(i,o),(i=i.alternate)&&Iv(i,o)}function o0(){return null}var Rv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Mf(i){this._internalRoot=i}Tc.prototype.render=Mf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));wc(i,o,null,null)},Tc.prototype.unmount=Mf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;co(function(){wc(null,i,null,null)}),o[Ai]=null}};function Tc(i){this._internalRoot=i}Tc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Tu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Xr.length&&o!==0&&o<Xr[l].priority;l++);Xr.splice(l,0,i),l===0&&Iu(i)}};function Vf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Sc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Cv(){}function a0(i,o,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var Y=Ec(S);v.call(Y)}}var S=xv(o,d,i,0,null,!1,!1,"",Cv);return i._reactRootContainer=S,i[Ai]=S.current,il(i.nodeType===8?i.parentNode:i),co(),S}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var N=d;d=function(){var Y=Ec(M);N.call(Y)}}var M=Of(i,0,!1,null,null,!1,!1,"",Cv);return i._reactRootContainer=M,i[Ai]=M.current,il(i.nodeType===8?i.parentNode:i),co(function(){wc(o,M,l,d)}),M}function xc(i,o,l,d,m){var v=l._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var N=m;m=function(){var M=Ec(S);N.call(M)}}wc(o,S,i,m)}else S=a0(l,o,i,m,d);return Ec(S)}wu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=es(o.pendingLanes);l!==0&&(rs(o,l|1),Vn(o,rt()),!(ot&6)&&(ma=rt()+500,hs()))}break;case 13:co(function(){var d=ji(i,1);if(d!==null){var m=kn();Dr(d,i,1,m)}}),Lf(i,1)}},Uo=function(i){if(i.tag===13){var o=ji(i,134217728);if(o!==null){var l=kn();Dr(o,i,134217728,l)}Lf(i,134217728)}},Eu=function(i){if(i.tag===13){var o=vs(i),l=ji(i,o);if(l!==null){var d=kn();Dr(l,i,o,d)}Lf(i,o)}},Tu=function(){return tt},Su=function(i,o){var l=tt;try{return tt=i,o()}finally{tt=l}},Xi=function(i,o,l){switch(o){case"input":if(or(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=Bu(d);if(!m)throw Error(t(90));$n(d),or(d,m)}}}break;case"textarea":yi(i,l);break;case"select":o=l.value,o!=null&&Sr(i,!!l.multiple,o,!1)}},Ei=Af,Gs=co;var l0={usingClientEntryPoint:!1,Events:[al,na,Bu,In,Gr,Af]},El={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u0={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=cr(i),i===null?null:i.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||o0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{yt=Ic.inject(u0),Ot=Ic}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0,Fn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vf(o))throw Error(t(200));return s0(i,o,null,l)},Fn.createRoot=function(i,o){if(!Vf(i))throw Error(t(299));var l=!1,d="",m=Rv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Of(i,1,!1,null,null,l,!1,d,m),i[Ai]=o.current,il(i.nodeType===8?i.parentNode:i),new Mf(o)},Fn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=cr(o),i=i===null?null:i.stateNode,i},Fn.flushSync=function(i){return co(i)},Fn.hydrate=function(i,o,l){if(!Sc(o))throw Error(t(200));return xc(null,i,o,!0,l)},Fn.hydrateRoot=function(i,o,l){if(!Vf(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",S=Rv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=xv(o,null,i,1,l??null,m,!1,v,S),i[Ai]=o.current,il(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Tc(o)},Fn.render=function(i,o,l){if(!Sc(o))throw Error(t(200));return xc(null,i,o,!1,l)},Fn.unmountComponentAtNode=function(i){if(!Sc(i))throw Error(t(40));return i._reactRootContainer?(co(function(){xc(null,null,i,!1,function(){i._reactRootContainer=null,i[Ai]=null})}),!0):!1},Fn.unstable_batchedUpdates=Af,Fn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!Sc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return xc(i,o,l,!1,d)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var Ov;function vE(){if(Ov)return Bf.exports;Ov=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bf.exports=g0(),Bf.exports}var Lv;function y0(){if(Lv)return Rc;Lv=1;var n=vE();return Rc.createRoot=n.createRoot,Rc.hydrateRoot=n.hydrateRoot,Rc}var v0=y0(),Sl={},Mv;function _0(){if(Mv)return Sl;Mv=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.parse=u,Sl.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,I){const R=new a,j=T.length;if(j<2)return R;const k=(I==null?void 0:I.decode)||_;let F=0;do{const G=T.indexOf("=",F);if(G===-1)break;const H=T.indexOf(";",F),X=H===-1?j:H;if(G>X){F=T.lastIndexOf(";",G-1)+1;continue}const ne=h(T,F,G),O=p(T,G,ne),b=T.slice(ne,O);if(R[b]===void 0){let C=h(T,G+1,X),A=p(T,X,C);const D=k(T.slice(C,A));R[b]=D}F=X+1}while(F<j);return R}function h(T,I,R){do{const j=T.charCodeAt(I);if(j!==32&&j!==9)return I}while(++I<R);return R}function p(T,I,R){for(;I>R;){const j=T.charCodeAt(--I);if(j!==32&&j!==9)return I+1}return R}function g(T,I,R){const j=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const k=j(I);if(!e.test(k))throw new TypeError(`argument val is invalid: ${I}`);let F=T+"="+k;if(!R)return F;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);F+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);F+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);F+="; Path="+R.path}if(R.expires){if(!E(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);F+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(F+="; HttpOnly"),R.secure&&(F+="; Secure"),R.partitioned&&(F+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return F}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return s.call(T)==="[object Date]"}return Sl}_0();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vv="popstate";function w0(n={}){function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return Bl("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Os(s)}return T0(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function un(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E0(){return Math.random().toString(36).substring(2,10)}function Fv(n,e){return{usr:n.state,key:n.key,idx:e}}function Bl(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$s(e):e,state:t,key:e&&e.key||r||E0()}}function Os({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function $s(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function T0(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",p=null,g=_();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function _(){return(u.state||{idx:null}).idx}function E(){h="POP";let k=_(),F=k==null?null:k-g;g=k,p&&p({action:h,location:j.location,delta:F})}function T(k,F){h="PUSH";let G=Bl(j.location,k,F);g=_()+1;let H=Fv(G,g),X=j.createHref(G);try{u.pushState(H,"",X)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign(X)}a&&p&&p({action:h,location:j.location,delta:1})}function I(k,F){h="REPLACE";let G=Bl(j.location,k,F);g=_();let H=Fv(G,g),X=j.createHref(G);u.replaceState(H,"",X),a&&p&&p({action:h,location:j.location,delta:0})}function R(k){let F=s.location.origin!=="null"?s.location.origin:s.location.href,G=typeof k=="string"?k:Os(k);return G=G.replace(/ $/,"%20"),nt(F,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,F)}let j={get action(){return h},get location(){return n(s,u)},listen(k){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Vv,E),p=k,()=>{s.removeEventListener(Vv,E),p=null}},createHref(k){return e(s,k)},createURL:R,encodeLocation(k){let F=R(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:I,go(k){return u.go(k)}};return j}var S0=new Set(["lazy","caseSensitive","path","id","index","children"]);function x0(n){return n.index===!0}function td(n,e,t=[],r={}){return n.map((s,a)=>{let u=[...t,String(a)],h=typeof s.id=="string"?s.id:u.join("-");if(nt(s.index!==!0||!s.children,"Cannot specify children on an index route"),nt(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),x0(s)){let p={...s,...e(s),id:h};return r[h]=p,p}else{let p={...s,...e(s),id:h,children:void 0};return r[h]=p,s.children&&(p.children=td(s.children,e,u,r)),p}})}function xs(n,e,t="/"){return Vc(n,e,t,!1)}function Vc(n,e,t,r){let s=typeof e=="string"?$s(e):e,a=Ur(s.pathname||"/",t);if(a==null)return null;let u=_E(n);R0(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let g=M0(a);h=O0(u[p],g,r)}return h}function I0(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function _E(n,e=[],t=[],r=""){let s=(a,u,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let g=li([r,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_E(a.children,e,_,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:j0(g,a.index),routesMeta:_})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let p of wE(a.path))s(a,u,p)}),e}function wE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=wE(r.join("/")),h=[];return h.push(...u.map(p=>p===""?a:[a,p].join("/"))),s&&h.push(...u),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function R0(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:D0(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var C0=/^:[\w-]+$/,k0=3,A0=2,P0=1,b0=10,N0=-2,Uv=n=>n==="*";function j0(n,e){let t=n.split("/"),r=t.length;return t.some(Uv)&&(r+=N0),e&&(r+=A0),t.filter(s=>!Uv(s)).reduce((s,a)=>s+(C0.test(a)?k0:a===""?P0:b0),r)}function D0(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function O0(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let p=r[h],g=h===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=nd({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),T=p.route;if(!E&&g&&t&&!r[r.length-1].route.index&&(E=nd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(s,E.params),u.push({params:s,pathname:li([a,E.pathname]),pathnameBase:U0(li([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=li([a,E.pathnameBase]))}return u}function nd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=L0(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:E},T)=>{if(_==="*"){let R=h[T]||"";u=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const I=h[T];return E&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:u,pattern:n}}function L0(n,e=!1,t=!0){un(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function M0(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ur(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function V0(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?$s(n):n;return{pathname:t?t.startsWith("/")?t:F0(t,e):e,search:B0(r),hash:z0(s)}}function F0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Hf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dm(n){let e=EE(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function hm(n,e,t,r=!1){let s;typeof n=="string"?s=$s(n):(s={...n},nt(!s.pathname||!s.pathname.includes("?"),Hf("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Hf("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Hf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;s.pathname=T.join("/")}h=E>=0?e[E]:"/"}let p=V0(s,h),g=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var li=n=>n.join("/").replace(/\/\/+/g,"/"),U0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),B0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,z0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,rd=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function zl(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var TE=["POST","PUT","PATCH","DELETE"],$0=new Set(TE),H0=["GET",...TE],W0=new Set(H0),q0=new Set([301,302,303,307,308]),K0=new Set([307,308]),Wf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},G0={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q0=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),SE="remix-router-transitions",xE=Symbol("ResetLoaderData");function J0(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";nt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||Q0,s={},a=td(n.routes,r,void 0,s),u,h=n.basename||"/",p=n.dataStrategy||tR,g=n.patchRoutesOnNavigation,_={...n.future},E=null,T=new Set,I=null,R=null,j=null,k=n.hydrationData!=null,F=xs(a,n.history.location,h),G=!1,H=null;if(F==null&&!g){let L=Er(404,{pathname:n.history.location.pathname}),{matches:W,route:Q}=Yv(a);F=W,H={[Q.id]:L}}F&&!n.hydrationData&&In(F,a,n.history.location.pathname).active&&(F=null);let X;if(F)if(F.some(L=>L.route.lazy))X=!1;else if(!F.some(L=>L.route.loader))X=!0;else{let L=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let Q=F.findIndex(ie=>W[ie.route.id]!==void 0);X=F.slice(0,Q+1).every(ie=>!Ep(ie.route,L,W))}else X=F.every(Q=>!Ep(Q.route,L,W))}else{X=!1,F=[];let L=In(null,a,n.history.location.pathname);L.active&&L.matches&&(G=!0,F=L.matches)}let ne,O={historyAction:n.history.action,location:n.history.location,matches:F,initialized:X,navigation:Wf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||H,fetchers:new Map,blockers:new Map},b="POP",C=!1,A,D=!1,V=new Map,$=null,P=!1,De=!1,He=new Set,Ue=new Map,be=0,ue=-1,_e=new Map,de=new Set,U=new Map,te=new Map,me=new Set,Ne=new Map,Fe,je=null;function Qe(){if(E=n.history.listen(({action:L,location:W,delta:Q})=>{if(Fe){Fe(),Fe=void 0;return}un(Ne.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=qr({currentLocation:O.location,nextLocation:W,historyAction:L});if(ie&&Q!=null){let fe=new Promise(Se=>{Fe=Se});n.history.go(Q*-1),Wr(ie,{state:"blocked",location:W,proceed(){Wr(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),fe.then(()=>n.history.go(Q))},reset(){let Se=new Map(O.blockers);Se.set(ie,xl),Ze({blockers:Se})}});return}return Gt(L,W)}),t){hR(e,V);let L=()=>fR(e,V);e.addEventListener("pagehide",L),$=()=>e.removeEventListener("pagehide",L)}return O.initialized||Gt("POP",O.location,{initialHydration:!0}),ne}function Xe(){E&&E(),$&&$(),T.clear(),A&&A.abort(),O.fetchers.forEach((L,W)=>_i(W)),O.blockers.forEach((L,W)=>Yi(W))}function ct(L){return T.add(L),()=>T.delete(L)}function Ze(L,W={}){O={...O,...L};let Q=[],ie=[];O.fetchers.forEach((fe,Se)=>{fe.state==="idle"&&(me.has(Se)?Q.push(Se):ie.push(Se))}),me.forEach(fe=>{!O.fetchers.has(fe)&&!Ue.has(fe)&&Q.push(fe)}),[...T].forEach(fe=>fe(O,{deletedFetchers:Q,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),Q.forEach(fe=>_i(fe)),ie.forEach(fe=>O.fetchers.delete(fe))}function Bt(L,W,{flushSync:Q}={}){var pe,Le;let ie=O.actionData!=null&&O.navigation.formMethod!=null&&Or(O.navigation.formMethod)&&O.navigation.state==="loading"&&((pe=L.state)==null?void 0:pe._isRedirect)!==!0,fe;W.actionData?Object.keys(W.actionData).length>0?fe=W.actionData:fe=null:ie?fe=O.actionData:fe=null;let Se=W.loaderData?Qv(O.loaderData,W.loaderData,W.matches||[],W.errors):O.loaderData,Re=O.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Be,ht)=>Re.set(ht,xl)));let ve=C===!0||O.navigation.formMethod!=null&&Or(O.navigation.formMethod)&&((Le=L.state)==null?void 0:Le._isRedirect)!==!0;u&&(a=u,u=void 0),P||b==="POP"||(b==="PUSH"?n.history.push(L,L.state):b==="REPLACE"&&n.history.replace(L,L.state));let ge;if(b==="POP"){let Be=V.get(O.location.pathname);Be&&Be.has(L.pathname)?ge={currentLocation:O.location,nextLocation:L}:V.has(L.pathname)&&(ge={currentLocation:L,nextLocation:O.location})}else if(D){let Be=V.get(O.location.pathname);Be?Be.add(L.pathname):(Be=new Set([L.pathname]),V.set(O.location.pathname,Be)),ge={currentLocation:O.location,nextLocation:L}}Ze({...W,actionData:fe,loaderData:Se,historyAction:b,location:L,initialized:!0,navigation:Wf,revalidation:"idle",restoreScrollPosition:wi(L,W.matches||O.matches),preventScrollReset:ve,blockers:Re},{viewTransitionOpts:ge,flushSync:Q===!0}),b="POP",C=!1,D=!1,P=!1,De=!1,je==null||je.resolve(),je=null}async function $n(L,W){if(typeof L=="number"){n.history.go(L);return}let Q=wp(O.location,O.matches,h,L,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:ie,submission:fe,error:Se}=Bv(!1,Q,W),Re=O.location,ve=Bl(O.location,ie,W&&W.state);ve={...ve,...n.history.encodeLocation(ve)};let ge=W&&W.replace!=null?W.replace:void 0,pe="PUSH";ge===!0?pe="REPLACE":ge===!1||fe!=null&&Or(fe.formMethod)&&fe.formAction===O.location.pathname+O.location.search&&(pe="REPLACE");let Le=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Be=(W&&W.flushSync)===!0,ht=qr({currentLocation:Re,nextLocation:ve,historyAction:pe});if(ht){Wr(ht,{state:"blocked",location:ve,proceed(){Wr(ht,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),$n(L,W)},reset(){let ft=new Map(O.blockers);ft.set(ht,xl),Ze({blockers:ft})}});return}await Gt(pe,ve,{submission:fe,pendingError:Se,preventScrollReset:Le,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Be})}function sr(){je||(je=pR()),vi(),Ze({revalidation:"loading"});let L=je.promise;return O.navigation.state==="submitting"?L:O.navigation.state==="idle"?(Gt(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),L):(Gt(b||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:D===!0}),L)}async function Gt(L,W,Q){A&&A.abort(),A=null,b=L,P=(Q&&Q.startUninterruptedRevalidation)===!0,ur(O.location,O.matches),C=(Q&&Q.preventScrollReset)===!0,D=(Q&&Q.enableViewTransition)===!0;let ie=u||a,fe=Q&&Q.overrideNavigation,Se=Q!=null&&Q.initialHydration&&O.matches&&O.matches.length>0&&!G?O.matches:xs(ie,W,h),Re=(Q&&Q.flushSync)===!0;if(Se&&O.initialized&&!De&&aR(O.location,W)&&!(Q&&Q.submission&&Or(Q.submission.formMethod))){Bt(W,{matches:Se},{flushSync:Re});return}let ve=In(Se,ie,W.pathname);if(ve.active&&ve.matches&&(Se=ve.matches),!Se){let{error:lt,notFoundMatches:Ge,route:St}=Kr(W.pathname);Bt(W,{matches:Ge,loaderData:{},errors:{[St.id]:lt}},{flushSync:Re});return}A=new AbortController;let ge=ya(n.history,W,A.signal,Q&&Q.submission),pe;if(Q&&Q.pendingError)pe=[yo(Se).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&Or(Q.submission.formMethod)){let lt=await Hn(ge,W,Q.submission,Se,ve.active,{replace:Q.replace,flushSync:Re});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[Ge,St]=lt.pendingActionResult;if(Zn(St)&&zl(St.error)&&St.error.status===404){A=null,Bt(W,{matches:lt.matches,loaderData:{},errors:{[Ge]:St.error}});return}}Se=lt.matches||Se,pe=lt.pendingActionResult,fe=qf(W,Q.submission),Re=!1,ve.active=!1,ge=ya(n.history,ge.url,ge.signal)}let{shortCircuited:Le,matches:Be,loaderData:ht,errors:ft}=await zr(ge,W,Se,ve.active,fe,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Re,pe);Le||(A=null,Bt(W,{matches:Be||Se,...Jv(pe),loaderData:ht,errors:ft}))}async function Hn(L,W,Q,ie,fe,Se={}){vi();let Re=cR(W,Q);if(Ze({navigation:Re},{flushSync:Se.flushSync===!0}),fe){let pe=await Gr(ie,W.pathname,L.signal);if(pe.type==="aborted")return{shortCircuited:!0};if(pe.type==="error"){let Le=yo(pe.partialMatches).route.id;return{matches:pe.partialMatches,pendingActionResult:[Le,{type:"error",error:pe.error}]}}else if(pe.matches)ie=pe.matches;else{let{notFoundMatches:Le,error:Be,route:ht}=Kr(W.pathname);return{matches:Le,pendingActionResult:[ht.id,{type:"error",error:Be}]}}}let ve,ge=Pl(ie,W);if(!ge.route.action&&!ge.route.lazy)ve={type:"error",error:Er(405,{method:L.method,pathname:W.pathname,routeId:ge.route.id})};else if(ve=(await ar("action",O,L,[ge],ie,null))[ge.route.id],L.signal.aborted)return{shortCircuited:!0};if(vo(ve)){let pe;return Se&&Se.replace!=null?pe=Se.replace:pe=qv(ve.response.headers.get("Location"),new URL(L.url),h)===O.location.pathname+O.location.search,await Wn(L,ve,!0,{submission:Q,replace:pe}),{shortCircuited:!0}}if(Zn(ve)){let pe=yo(ie,ge.route.id);return(Se&&Se.replace)!==!0&&(b="PUSH"),{matches:ie,pendingActionResult:[pe.route.id,ve]}}return{matches:ie,pendingActionResult:[ge.route.id,ve]}}async function zr(L,W,Q,ie,fe,Se,Re,ve,ge,pe,Le){let Be=fe||qf(W,Se),ht=Se||Re||Zv(Be),ft=!P&&!ge;if(ie){if(ft){let pt=or(Le);Ze({navigation:Be,...pt!==void 0?{actionData:pt}:{}},{flushSync:pe})}let et=await Gr(Q,W.pathname,L.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let pt=yo(et.partialMatches).route.id;return{matches:et.partialMatches,loaderData:{},errors:{[pt]:et.error}}}else if(et.matches)Q=et.matches;else{let{error:pt,notFoundMatches:Qr,route:Jr}=Kr(W.pathname);return{matches:Qr,loaderData:{},errors:{[Jr.id]:pt}}}}let lt=u||a,[Ge,St]=$v(n.history,O,Q,ht,W,ge===!0,De,He,me,U,de,lt,h,Le);if(ue=++be,Ge.length===0&&St.length===0){let et=Qi();return Bt(W,{matches:Q,loaderData:{},errors:Le&&Zn(Le[1])?{[Le[0]]:Le[1].error}:null,...Jv(Le),...et?{fetchers:new Map(O.fetchers)}:{}},{flushSync:pe}),{shortCircuited:!0}}if(ft){let et={};if(!ie){et.navigation=Be;let pt=or(Le);pt!==void 0&&(et.actionData=pt)}St.length>0&&(et.fetchers=Mo(St)),Ze(et,{flushSync:pe})}St.forEach(et=>{dn(et.key),et.controller&&Ue.set(et.key,et.controller)});let cr=()=>St.forEach(et=>dn(et.key));A&&A.signal.addEventListener("abort",cr);let{loaderResults:dr,fetcherResults:hn}=await yi(O,Q,Ge,St,L);if(L.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",cr),St.forEach(et=>Ue.delete(et.key));let fn=Cc(dr);if(fn)return await Wn(L,fn.result,!0,{replace:ve}),{shortCircuited:!0};if(fn=Cc(hn),fn)return de.add(fn.key),await Wn(L,fn.result,!0,{replace:ve}),{shortCircuited:!0};let{loaderData:Zi,errors:Ti}=Gv(O,Q,dr,Le,St,hn);ge&&O.errors&&(Ti={...O.errors,...Ti});let rt=Qi(),Si=Ji(ue),hr=rt||Si||St.length>0;return{matches:Q,loaderData:Zi,errors:Ti,...hr?{fetchers:new Map(O.fetchers)}:{}}}function or(L){if(L&&!Zn(L[1]))return{[L[0]]:L[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function Mo(L){return L.forEach(W=>{let Q=O.fetchers.get(W.key),ie=Il(void 0,Q?Q.data:void 0);O.fetchers.set(W.key,ie)}),new Map(O.fetchers)}async function Gi(L,W,Q,ie){dn(L);let fe=(ie&&ie.flushSync)===!0,Se=u||a,Re=wp(O.location,O.matches,h,Q,W,ie==null?void 0:ie.relative),ve=xs(Se,Re,h),ge=In(ve,Se,Re);if(ge.active&&ge.matches&&(ve=ge.matches),!ve){dt(L,W,Er(404,{pathname:Re}),{flushSync:fe});return}let{path:pe,submission:Le,error:Be}=Bv(!0,Re,ie);if(Be){dt(L,W,Be,{flushSync:fe});return}let ht=Pl(ve,pe),ft=(ie&&ie.preventScrollReset)===!0;if(Le&&Or(Le.formMethod)){await Tr(L,W,pe,ht,ve,ge.active,fe,ft,Le);return}U.set(L,{routeId:W,path:pe}),await Sr(L,W,pe,ht,ve,ge.active,fe,ft,Le)}async function Tr(L,W,Q,ie,fe,Se,Re,ve,ge){vi(),U.delete(L);function pe(yt){if(!yt.route.action&&!yt.route.lazy){let Ot=Er(405,{method:ge.formMethod,pathname:Q,routeId:W});return dt(L,W,Ot,{flushSync:Re}),!0}return!1}if(!Se&&pe(ie))return;let Le=O.fetchers.get(L);gt(L,dR(ge,Le),{flushSync:Re});let Be=new AbortController,ht=ya(n.history,Q,Be.signal,ge);if(Se){let yt=await Gr(fe,Q,ht.signal);if(yt.type==="aborted")return;if(yt.type==="error"){dt(L,W,yt.error,{flushSync:Re});return}else if(yt.matches){if(fe=yt.matches,ie=Pl(fe,Q),pe(ie))return}else{dt(L,W,Er(404,{pathname:Q}),{flushSync:Re});return}}Ue.set(L,Be);let ft=be,Ge=(await ar("action",O,ht,[ie],fe,L))[ie.route.id];if(ht.signal.aborted){Ue.get(L)===Be&&Ue.delete(L);return}if(me.has(L)){if(vo(Ge)||Zn(Ge)){gt(L,Ss(void 0));return}}else{if(vo(Ge))if(Ue.delete(L),ue>ft){gt(L,Ss(void 0));return}else return de.add(L),gt(L,Il(ge)),Wn(ht,Ge,!1,{fetcherSubmission:ge,preventScrollReset:ve});if(Zn(Ge)){dt(L,W,Ge.error);return}}let St=O.navigation.location||O.location,cr=ya(n.history,St,Be.signal),dr=u||a,hn=O.navigation.state!=="idle"?xs(dr,O.navigation.location,h):O.matches;nt(hn,"Didn't find any matches after fetcher action");let fn=++be;_e.set(L,fn);let Zi=Il(ge,Ge.data);O.fetchers.set(L,Zi);let[Ti,rt]=$v(n.history,O,hn,ge,St,!1,De,He,me,U,de,dr,h,[ie.route.id,Ge]);rt.filter(yt=>yt.key!==L).forEach(yt=>{let Ot=yt.key,Qs=O.fetchers.get(Ot),en=Il(void 0,Qs?Qs.data:void 0);O.fetchers.set(Ot,en),dn(Ot),yt.controller&&Ue.set(Ot,yt.controller)}),Ze({fetchers:new Map(O.fetchers)});let Si=()=>rt.forEach(yt=>dn(yt.key));Be.signal.addEventListener("abort",Si);let{loaderResults:hr,fetcherResults:et}=await yi(O,hn,Ti,rt,cr);if(Be.signal.aborted)return;Be.signal.removeEventListener("abort",Si),_e.delete(L),Ue.delete(L),rt.forEach(yt=>Ue.delete(yt.key));let pt=Cc(hr);if(pt)return Wn(cr,pt.result,!1,{preventScrollReset:ve});if(pt=Cc(et),pt)return de.add(pt.key),Wn(cr,pt.result,!1,{preventScrollReset:ve});let{loaderData:Qr,errors:Jr}=Gv(O,hn,hr,void 0,rt,et);if(O.fetchers.has(L)){let yt=Ss(Ge.data);O.fetchers.set(L,yt)}Ji(fn),O.navigation.state==="loading"&&fn>ue?(nt(b,"Expected pending action"),A&&A.abort(),Bt(O.navigation.location,{matches:hn,loaderData:Qr,errors:Jr,fetchers:new Map(O.fetchers)})):(Ze({errors:Jr,loaderData:Qv(O.loaderData,Qr,hn,Jr),fetchers:new Map(O.fetchers)}),De=!1)}async function Sr(L,W,Q,ie,fe,Se,Re,ve,ge){let pe=O.fetchers.get(L);gt(L,Il(ge,pe?pe.data:void 0),{flushSync:Re});let Le=new AbortController,Be=ya(n.history,Q,Le.signal);if(Se){let Ge=await Gr(fe,Q,Be.signal);if(Ge.type==="aborted")return;if(Ge.type==="error"){dt(L,W,Ge.error,{flushSync:Re});return}else if(Ge.matches)fe=Ge.matches,ie=Pl(fe,Q);else{dt(L,W,Er(404,{pathname:Q}),{flushSync:Re});return}}Ue.set(L,Le);let ht=be,lt=(await ar("loader",O,Be,[ie],fe,L))[ie.route.id];if(Ue.get(L)===Le&&Ue.delete(L),!Be.signal.aborted){if(me.has(L)){gt(L,Ss(void 0));return}if(vo(lt))if(ue>ht){gt(L,Ss(void 0));return}else{de.add(L),await Wn(Be,lt,!1,{preventScrollReset:ve});return}if(Zn(lt)){dt(L,W,lt.error);return}gt(L,Ss(lt.data))}}async function Wn(L,W,Q,{submission:ie,fetcherSubmission:fe,preventScrollReset:Se,replace:Re}={}){W.response.headers.has("X-Remix-Revalidate")&&(De=!0);let ve=W.response.headers.get("Location");nt(ve,"Expected a Location header on the redirect Response"),ve=qv(ve,new URL(L.url),h);let ge=Bl(O.location,ve,{_isRedirect:!0});if(t){let lt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))lt=!0;else if(fm.test(ve)){const Ge=n.history.createURL(ve);lt=Ge.origin!==e.location.origin||Ur(Ge.pathname,h)==null}if(lt){Re?e.location.replace(ve):e.location.assign(ve);return}}A=null;let pe=Re===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Le,formAction:Be,formEncType:ht}=O.navigation;!ie&&!fe&&Le&&Be&&ht&&(ie=Zv(O.navigation));let ft=ie||fe;if(K0.has(W.response.status)&&ft&&Or(ft.formMethod))await Gt(pe,ge,{submission:{...ft,formAction:ve},preventScrollReset:Se||C,enableViewTransition:Q?D:void 0});else{let lt=qf(ge,ie);await Gt(pe,ge,{overrideNavigation:lt,fetcherSubmission:fe,preventScrollReset:Se||C,enableViewTransition:Q?D:void 0})}}async function ar(L,W,Q,ie,fe,Se){let Re,ve={};try{Re=await nR(p,L,W,Q,ie,fe,Se,s,r)}catch(ge){return ie.forEach(pe=>{ve[pe.route.id]={type:"error",error:ge}}),ve}for(let[ge,pe]of Object.entries(Re))if(lR(pe)){let Le=pe.result;ve[ge]={type:"redirect",response:sR(Le,Q,ge,fe,h)}}else ve[ge]=await iR(pe);return ve}async function yi(L,W,Q,ie,fe){let Se=ar("loader",L,fe,Q,W,null),Re=Promise.all(ie.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let Be=(await ar("loader",L,ya(n.history,pe.path,pe.controller.signal),[pe.match],pe.matches,pe.key))[pe.match.route.id];return{[pe.key]:Be}}else return Promise.resolve({[pe.key]:{type:"error",error:Er(404,{pathname:pe.path})}})})),ve=await Se,ge=(await Re).reduce((pe,Le)=>Object.assign(pe,Le),{});return{loaderResults:ve,fetcherResults:ge}}function vi(){De=!0,U.forEach((L,W)=>{Ue.has(W)&&He.add(W),dn(W)})}function gt(L,W,Q={}){O.fetchers.set(L,W),Ze({fetchers:new Map(O.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function dt(L,W,Q,ie={}){let fe=yo(O.matches,W);_i(L),Ze({errors:{[fe.route.id]:Q},fetchers:new Map(O.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function lr(L){return te.set(L,(te.get(L)||0)+1),me.has(L)&&me.delete(L),O.fetchers.get(L)||G0}function _i(L){let W=O.fetchers.get(L);Ue.has(L)&&!(W&&W.state==="loading"&&_e.has(L))&&dn(L),U.delete(L),_e.delete(L),de.delete(L),me.delete(L),He.delete(L),O.fetchers.delete(L)}function $r(L){let W=(te.get(L)||0)-1;W<=0?(te.delete(L),me.add(L)):te.set(L,W),Ze({fetchers:new Map(O.fetchers)})}function dn(L){let W=Ue.get(L);W&&(W.abort(),Ue.delete(L))}function Hr(L){for(let W of L){let Q=lr(W),ie=Ss(Q.data);O.fetchers.set(W,ie)}}function Qi(){let L=[],W=!1;for(let Q of de){let ie=O.fetchers.get(Q);nt(ie,`Expected fetcher: ${Q}`),ie.state==="loading"&&(de.delete(Q),L.push(Q),W=!0)}return Hr(L),W}function Ji(L){let W=[];for(let[Q,ie]of _e)if(ie<L){let fe=O.fetchers.get(Q);nt(fe,`Expected fetcher: ${Q}`),fe.state==="loading"&&(dn(Q),_e.delete(Q),W.push(Q))}return Hr(W),W.length>0}function Ks(L,W){let Q=O.blockers.get(L)||xl;return Ne.get(L)!==W&&Ne.set(L,W),Q}function Yi(L){O.blockers.delete(L),Ne.delete(L)}function Wr(L,W){let Q=O.blockers.get(L)||xl;nt(Q.state==="unblocked"&&W.state==="blocked"||Q.state==="blocked"&&W.state==="blocked"||Q.state==="blocked"&&W.state==="proceeding"||Q.state==="blocked"&&W.state==="unblocked"||Q.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${W.state}`);let ie=new Map(O.blockers);ie.set(L,W),Ze({blockers:ie})}function qr({currentLocation:L,nextLocation:W,historyAction:Q}){if(Ne.size===0)return;Ne.size>1&&un(!1,"A router only supports one blocker at a time");let ie=Array.from(Ne.entries()),[fe,Se]=ie[ie.length-1],Re=O.blockers.get(fe);if(!(Re&&Re.state==="proceeding")&&Se({currentLocation:L,nextLocation:W,historyAction:Q}))return fe}function Kr(L){let W=Er(404,{pathname:L}),Q=u||a,{matches:ie,route:fe}=Yv(Q);return{notFoundMatches:ie,route:fe,error:W}}function Xi(L,W,Q){if(I=L,j=W,R=Q||null,!k&&O.navigation===Wf){k=!0;let ie=wi(O.location,O.matches);ie!=null&&Ze({restoreScrollPosition:ie})}return()=>{I=null,j=null,R=null}}function xn(L,W){return R&&R(L,W.map(ie=>I0(ie,O.loaderData)))||L.key}function ur(L,W){if(I&&j){let Q=xn(L,W);I[Q]=j()}}function wi(L,W){if(I){let Q=xn(L,W),ie=I[Q];if(typeof ie=="number")return ie}return null}function In(L,W,Q){if(g)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Vc(W,Q,h,!0)}}else return{active:!0,matches:Vc(W,Q,h,!0)||[]};return{active:!1,matches:null}}async function Gr(L,W,Q){if(!g)return{type:"success",matches:L};let ie=L;for(;;){let fe=u==null,Se=u||a,Re=s;try{await g({signal:Q,path:W,matches:ie,patch:(pe,Le)=>{Q.aborted||Wv(pe,Le,Se,Re,r)}})}catch(pe){return{type:"error",error:pe,partialMatches:ie}}finally{fe&&!Q.aborted&&(a=[...a])}if(Q.aborted)return{type:"aborted"};let ve=xs(Se,W,h);if(ve)return{type:"success",matches:ve};let ge=Vc(Se,W,h,!0);if(!ge||ie.length===ge.length&&ie.every((pe,Le)=>pe.route.id===ge[Le].route.id))return{type:"success",matches:null};ie=ge}}function Ei(L){s={},u=td(L,r,void 0,s)}function Gs(L,W){let Q=u==null;Wv(L,W,u||a,s,r),Q&&(a=[...a],Ze({}))}return ne={get basename(){return h},get future(){return _},get state(){return O},get routes(){return a},get window(){return e},initialize:Qe,subscribe:ct,enableScrollRestoration:Xi,navigate:$n,fetch:Gi,revalidate:sr,createHref:L=>n.history.createHref(L),encodeLocation:L=>n.history.encodeLocation(L),getFetcher:lr,deleteFetcher:$r,dispose:Xe,getBlocker:Ks,deleteBlocker:Yi,patchRoutes:Gs,_internalFetchControllers:Ue,_internalSetRoutes:Ei},ne}function Y0(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function wp(n,e,t,r,s,a){let u,h;if(s){u=[];for(let g of e)if(u.push(g),g.route.id===s){h=g;break}}else u=e,h=e[e.length-1];let p=hm(r||".",dm(u),Ur(n.pathname,t)||n.pathname,a==="path");if(r==null&&(p.search=n.search,p.hash=n.hash),(r==null||r===""||r===".")&&h){let g=pm(p.search);if(h.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&g){let _=new URLSearchParams(p.search),E=_.getAll("index");_.delete("index"),E.filter(I=>I).forEach(I=>_.append("index",I));let T=_.toString();p.search=T?`?${T}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:li([t,p.pathname])),Os(p)}function Bv(n,e,t){if(!t||!Y0(t))return{path:e};if(t.formMethod&&!uR(t.formMethod))return{path:e,error:Er(405,{method:t.formMethod})};let r=()=>({path:e,error:Er(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),u=RE(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Or(a))return r();let E=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((T,[I,R])=>`${T}${I}=${R}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:E}}}else if(t.formEncType==="application/json"){if(!Or(a))return r();try{let E=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:E,text:void 0}}}catch{return r()}}}nt(typeof FormData=="function","FormData is not available in this environment");let h,p;if(t.formData)h=Tp(t.formData),p=t.formData;else if(t.body instanceof FormData)h=Tp(t.body),p=t.body;else if(t.body instanceof URLSearchParams)h=t.body,p=Kv(h);else if(t.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(t.body),p=Kv(h)}catch{return r()}let g={formMethod:a,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Or(g.formMethod))return{path:e,submission:g};let _=$s(e);return n&&_.search&&pm(_.search)&&h.append("index",""),_.search=`?${h}`,{path:Os(_),submission:g}}function zv(n,e,t=!1){let r=n.findIndex(s=>s.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function $v(n,e,t,r,s,a,u,h,p,g,_,E,T,I){let R=I?Zn(I[1])?I[1].error:I[1].data:void 0,j=n.createURL(e.location),k=n.createURL(s),F=t;a&&e.errors?F=zv(t,Object.keys(e.errors)[0],!0):I&&Zn(I[1])&&(F=zv(t,I[0]));let G=I?I[1].statusCode:void 0,H=G&&G>=400,X=F.filter((O,b)=>{let{route:C}=O;if(C.lazy)return!0;if(C.loader==null)return!1;if(a)return Ep(C,e.loaderData,e.errors);if(X0(e.loaderData,e.matches[b],O))return!0;let A=e.matches[b],D=O;return Hv(O,{currentUrl:j,currentParams:A.params,nextUrl:k,nextParams:D.params,...r,actionResult:R,actionStatus:G,defaultShouldRevalidate:H?!1:u||j.pathname+j.search===k.pathname+k.search||j.search!==k.search||Z0(A,D)})}),ne=[];return g.forEach((O,b)=>{if(a||!t.some($=>$.route.id===O.routeId)||p.has(b))return;let C=xs(E,O.path,T);if(!C){ne.push({key:b,routeId:O.routeId,path:O.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(b),D=Pl(C,O.path),V=!1;_.has(b)?V=!1:h.has(b)?(h.delete(b),V=!0):A&&A.state!=="idle"&&A.data===void 0?V=u:V=Hv(D,{currentUrl:j,currentParams:e.matches[e.matches.length-1].params,nextUrl:k,nextParams:t[t.length-1].params,...r,actionResult:R,actionStatus:G,defaultShouldRevalidate:H?!1:u}),V&&ne.push({key:b,routeId:O.routeId,path:O.path,matches:C,match:D,controller:new AbortController})}),[X,ne]}function Ep(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function X0(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function Z0(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Hv(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Wv(n,e,t,r,s){let a;if(n){let p=r[n];nt(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),a=p.children}else a=t;let u=e.filter(p=>!a.some(g=>IE(p,g))),h=td(u,s,[n||"_","patch",String((a==null?void 0:a.length)||"0")],r);a.push(...h)}function IE(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(a=>IE(t,a))}):!1}async function eR(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let s=t[n.id];nt(s,"No route found in manifest");let a={};for(let u in r){let p=s[u]!==void 0&&u!=="hasErrorBoundary";un(!p,`Route "${s.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!p&&!S0.has(u)&&(a[u]=r[u])}Object.assign(s,a),Object.assign(s,{...e(s),lazy:void 0})}async function tR({matches:n}){let e=n.filter(r=>r.shouldLoad);return(await Promise.all(e.map(r=>r.resolve()))).reduce((r,s,a)=>Object.assign(r,{[e[a].route.id]:s}),{})}async function nR(n,e,t,r,s,a,u,h,p,g){let _=a.map(I=>I.route.lazy?eR(I.route,p,h):void 0),E=a.map((I,R)=>{let j=_[R],k=s.some(G=>G.route.id===I.route.id);return{...I,shouldLoad:k,resolve:async G=>(G&&r.method==="GET"&&(I.route.lazy||I.route.loader)&&(k=!0),k?rR(e,r,I,j,G,g):Promise.resolve({type:"data",result:void 0}))}}),T=await n({matches:E,request:r,params:a[0].params,fetcherKey:u,context:g});try{await Promise.all(_)}catch{}return T}async function rR(n,e,t,r,s,a){let u,h,p=g=>{let _,E=new Promise((R,j)=>_=j);h=()=>_(),e.signal.addEventListener("abort",h);let T=R=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):g({request:e,params:t.params,context:a},...R!==void 0?[R]:[]),I=(async()=>{try{return{type:"data",result:await(s?s(j=>T(j)):T())}}catch(R){return{type:"error",result:R}}})();return Promise.race([I,E])};try{let g=t.route[n];if(r)if(g){let _,[E]=await Promise.all([p(g).catch(T=>{_=T}),r]);if(_!==void 0)throw _;u=E}else if(await r,g=t.route[n],g)u=await p(g);else if(n==="action"){let _=new URL(e.url),E=_.pathname+_.search;throw Er(405,{method:e.method,pathname:E,routeId:t.route.id})}else return{type:"data",result:void 0};else if(g)u=await p(g);else{let _=new URL(e.url),E=_.pathname+_.search;throw Er(404,{pathname:E})}}catch(g){return{type:"error",result:g}}finally{h&&e.signal.removeEventListener("abort",h)}return u}async function iR(n){var r,s,a,u,h,p;let{result:e,type:t}=n;if(CE(e)){let g;try{let _=e.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(_){return{type:"error",error:_}}return t==="error"?{type:"error",error:new rd(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return t==="error"?Xv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new rd(((a=e.init)==null?void 0:a.status)||500,void 0,e.data),statusCode:zl(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:zl(e)?e.status:void 0}:Xv(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function sR(n,e,t,r,s){let a=n.headers.get("Location");if(nt(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!fm.test(a)){let u=r.slice(0,r.findIndex(h=>h.route.id===t)+1);a=wp(new URL(e.url),u,s,a),n.headers.set("Location",a)}return n}function qv(n,e,t){if(fm.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=Ur(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function ya(n,e,t,r){let s=n.createURL(RE(e)).toString(),a={signal:t};if(r&&Or(r.formMethod)){let{formMethod:u,formEncType:h}=r;a.method=u.toUpperCase(),h==="application/json"?(a.headers=new Headers({"Content-Type":h}),a.body=JSON.stringify(r.json)):h==="text/plain"?a.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?a.body=Tp(r.formData):a.body=r.formData}return new Request(s,a)}function Tp(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Kv(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function oR(n,e,t,r=!1,s=!1){let a={},u=null,h,p=!1,g={},_=t&&Zn(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let T=E.route.id,I=e[T];if(nt(!vo(I),"Cannot handle redirect results in processLoaderData"),Zn(I)){let R=I.error;if(_!==void 0&&(R=_,_=void 0),u=u||{},s)u[T]=R;else{let j=yo(n,T);u[j.route.id]==null&&(u[j.route.id]=R)}r||(a[T]=xE),p||(p=!0,h=zl(I.error)?I.error.status:500),I.headers&&(g[T]=I.headers)}else a[T]=I.data,I.statusCode&&I.statusCode!==200&&!p&&(h=I.statusCode),I.headers&&(g[T]=I.headers)}),_!==void 0&&t&&(u={[t[0]]:_},a[t[0]]=void 0),{loaderData:a,errors:u,statusCode:h||200,loaderHeaders:g}}function Gv(n,e,t,r,s,a){let{loaderData:u,errors:h}=oR(e,t,r);return s.forEach(p=>{let{key:g,match:_,controller:E}=p,T=a[g];if(nt(T,"Did not find corresponding fetcher result"),!(E&&E.signal.aborted))if(Zn(T)){let I=yo(n.matches,_==null?void 0:_.route.id);h&&h[I.route.id]||(h={...h,[I.route.id]:T.error}),n.fetchers.delete(g)}else if(vo(T))nt(!1,"Unhandled fetcher revalidation redirect");else{let I=Ss(T.data);n.fetchers.set(g,I)}}),{loaderData:u,errors:h}}function Qv(n,e,t,r){let s=Object.entries(e).filter(([,a])=>a!==xE).reduce((a,[u,h])=>(a[u]=h,a),{});for(let a of t){let u=a.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&a.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function Jv(n){return n?Zn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function yo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Yv(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Er(n,{pathname:e,routeId:t,method:r,type:s,message:a}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(h="Unable to encode submission body")):n===403?(u="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",h=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new rd(n||500,u,new Error(h),!0)}function Cc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(vo(s))return{key:r,result:s}}}function RE(n){let e=typeof n=="string"?$s(n):n;return Os({...e,hash:""})}function aR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function lR(n){return CE(n.result)&&q0.has(n.result.status)}function Zn(n){return n.type==="error"}function vo(n){return(n&&n.type)==="redirect"}function Xv(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function CE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function uR(n){return W0.has(n.toUpperCase())}function Or(n){return $0.has(n.toUpperCase())}function pm(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Pl(n,e){let t=typeof e=="string"?$s(e).search:e.search;if(n[n.length-1].route.index&&pm(t||""))return n[n.length-1];let r=EE(n);return r[r.length-1]}function Zv(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function qf(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function cR(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Il(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dR(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ss(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function hR(n,e){try{let t=n.sessionStorage.getItem(SE);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function fR(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(SE,JSON.stringify(t))}catch(r){un(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function pR(){let n,e,t=new Promise((r,s)=>{n=async a=>{r(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var jo=z.createContext(null);jo.displayName="DataRouter";var ru=z.createContext(null);ru.displayName="DataRouterState";var mm=z.createContext({isTransitioning:!1});mm.displayName="ViewTransition";var kE=z.createContext(new Map);kE.displayName="Fetchers";var mR=z.createContext(null);mR.displayName="Await";var gi=z.createContext(null);gi.displayName="Navigation";var Dd=z.createContext(null);Dd.displayName="Location";var qi=z.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var gm=z.createContext(null);gm.displayName="RouteError";function gR(n,{relative:e}={}){nt(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=z.useContext(gi),{hash:s,pathname:a,search:u}=su(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:li([t,a])),r.createHref({pathname:h,search:u,hash:s})}function iu(){return z.useContext(Dd)!=null}function Do(){return nt(iu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Dd).location}var AE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PE(n){z.useContext(gi).static||z.useLayoutEffect(n)}function Hs(){let{isDataRoute:n}=z.useContext(qi);return n?AR():yR()}function yR(){nt(iu(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(jo),{basename:e,navigator:t}=z.useContext(gi),{matches:r}=z.useContext(qi),{pathname:s}=Do(),a=JSON.stringify(dm(r)),u=z.useRef(!1);return PE(()=>{u.current=!0}),z.useCallback((p,g={})=>{if(un(u.current,AE),!u.current)return;if(typeof p=="number"){t.go(p);return}let _=hm(p,JSON.parse(a),s,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:li([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,a,s,n])}z.createContext(null);function su(n,{relative:e}={}){let{matches:t}=z.useContext(qi),{pathname:r}=Do(),s=JSON.stringify(dm(t));return z.useMemo(()=>hm(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function vR(n,e,t,r){nt(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=z.useContext(gi),{matches:u}=z.useContext(qi),h=u[u.length-1],p=h?h.params:{},g=h?h.pathname:"/",_=h?h.pathnameBase:"/",E=h&&h.route;{let G=E&&E.path||"";bE(g,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=Do(),I;I=T;let R=I.pathname||"/",j=R;if(_!=="/"){let G=_.replace(/^\//,"").split("/");j="/"+R.replace(/^\//,"").split("/").slice(G.length).join("/")}let k=!a&&t&&t.matches&&t.matches.length>0?t.matches:xs(n,{pathname:j});return un(E||k!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),un(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),SR(k&&k.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:li([_,s.encodeLocation?s.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?_:li([_,s.encodeLocation?s.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,t,r)}function _R(){let n=kR(),e=zl(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:s},t):null,u)}var wR=z.createElement(_R,null),ER=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(qi.Provider,{value:this.props.routeContext},z.createElement(gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TR({routeContext:n,match:e,children:t}){let r=z.useContext(jo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(qi.Provider,{value:n},t)}function SR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let p=s.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,h=-1;if(t)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:_,errors:E}=t,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||T){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((p,g,_)=>{let E,T=!1,I=null,R=null;t&&(E=a&&g.route.id?a[g.route.id]:void 0,I=g.route.errorElement||wR,u&&(h<0&&_===0?(bE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,R=null):h===_&&(T=!0,R=g.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,_+1)),k=()=>{let F;return E?F=I:T?F=R:g.route.Component?F=z.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=p,z.createElement(TR,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:F})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?z.createElement(ER,{location:t.location,revalidation:t.revalidation,component:I,error:E,children:k(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):k()},null)}function ym(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xR(n){let e=z.useContext(jo);return nt(e,ym(n)),e}function IR(n){let e=z.useContext(ru);return nt(e,ym(n)),e}function RR(n){let e=z.useContext(qi);return nt(e,ym(n)),e}function vm(n){let e=RR(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function CR(){return vm("useRouteId")}function kR(){var r;let n=z.useContext(gm),e=IR("useRouteError"),t=vm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function AR(){let{router:n}=xR("useNavigate"),e=vm("useNavigate"),t=z.useRef(!1);return PE(()=>{t.current=!0}),z.useCallback(async(s,a={})=>{un(t.current,AE),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var e_={};function bE(n,e,t){!e&&!e_[n]&&(e_[n]=!0,un(!1,t))}var t_={};function n_(n,e){!n&&!t_[e]&&(t_[e]=!0,console.warn(e))}function PR(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&un(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:z.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&un(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:z.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&un(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:z.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var bR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function NR({router:n,flushSync:e}){let[t,r]=z.useState(n.state),[s,a]=z.useState(),[u,h]=z.useState({isTransitioning:!1}),[p,g]=z.useState(),[_,E]=z.useState(),[T,I]=z.useState(),R=z.useRef(new Map),j=z.useCallback((H,{deletedFetchers:X,flushSync:ne,viewTransitionOpts:O})=>{H.fetchers.forEach((C,A)=>{C.data!==void 0&&R.current.set(A,C.data)}),X.forEach(C=>R.current.delete(C)),n_(ne===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let b=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(n_(O==null||b,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!O||!b){e&&ne?e(()=>r(H)):z.startTransition(()=>r(H));return}if(e&&ne){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let C=n.window.document.startViewTransition(()=>{e(()=>r(H))});C.finished.finally(()=>{e(()=>{g(void 0),E(void 0),a(void 0),h({isTransitioning:!1})})}),e(()=>E(C));return}_?(p&&p.resolve(),_.skipTransition(),I({state:H,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(a(H),h({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,e,_,p]);z.useLayoutEffect(()=>n.subscribe(j),[n,j]),z.useEffect(()=>{u.isTransitioning&&!u.flushSync&&g(new bR)},[u]),z.useEffect(()=>{if(p&&s&&n.window){let H=s,X=p.promise,ne=n.window.document.startViewTransition(async()=>{z.startTransition(()=>r(H)),await X});ne.finished.finally(()=>{g(void 0),E(void 0),a(void 0),h({isTransitioning:!1})}),E(ne)}},[s,p,n.window]),z.useEffect(()=>{p&&s&&t.location.key===s.location.key&&p.resolve()},[p,_,t.location,s]),z.useEffect(()=>{!u.isTransitioning&&T&&(a(T.state),h({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),I(void 0))},[u.isTransitioning,T]);let k=z.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:H=>n.navigate(H),push:(H,X,ne)=>n.navigate(H,{state:X,preventScrollReset:ne==null?void 0:ne.preventScrollReset}),replace:(H,X,ne)=>n.navigate(H,{replace:!0,state:X,preventScrollReset:ne==null?void 0:ne.preventScrollReset})}),[n]),F=n.basename||"/",G=z.useMemo(()=>({router:n,navigator:k,static:!1,basename:F}),[n,k,F]);return z.createElement(z.Fragment,null,z.createElement(jo.Provider,{value:G},z.createElement(ru.Provider,{value:t},z.createElement(kE.Provider,{value:R.current},z.createElement(mm.Provider,{value:u},z.createElement(OR,{basename:F,location:t.location,navigationType:t.historyAction,navigator:k},z.createElement(jR,{routes:n.routes,future:n.future,state:t})))))),null)}var jR=z.memo(DR);function DR({routes:n,future:e,state:t}){return vR(n,void 0,t,e)}function OR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){nt(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=$s(t));let{pathname:p="/",search:g="",hash:_="",state:E=null,key:T="default"}=t,I=z.useMemo(()=>{let R=Ur(p,u);return R==null?null:{location:{pathname:R,search:g,hash:_,state:E,key:T},navigationType:r}},[u,p,g,_,E,T,r]);return un(I!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:z.createElement(gi.Provider,{value:h},z.createElement(Dd.Provider,{children:e,value:I}))}var Fc="get",Uc="application/x-www-form-urlencoded";function Od(n){return n!=null&&typeof n.tagName=="string"}function LR(n){return Od(n)&&n.tagName.toLowerCase()==="button"}function MR(n){return Od(n)&&n.tagName.toLowerCase()==="form"}function VR(n){return Od(n)&&n.tagName.toLowerCase()==="input"}function FR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UR(n,e){return n.button===0&&(!e||e==="_self")&&!FR(n)}var kc=null;function BR(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var zR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kf(n){return n!=null&&!zR.has(n)?(un(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):n}function $R(n,e){let t,r,s,a,u;if(MR(n)){let h=n.getAttribute("action");r=h?Ur(h,e):null,t=n.getAttribute("method")||Fc,s=Kf(n.getAttribute("enctype"))||Uc,a=new FormData(n)}else if(LR(n)||VR(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(r=p?Ur(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Fc,s=Kf(n.getAttribute("formenctype"))||Kf(h.getAttribute("enctype"))||Uc,a=new FormData(h,n),!BR()){let{name:g,type:_,value:E}=n;if(_==="image"){let T=g?`${g}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else g&&a.append(g,E)}}else{if(Od(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fc,r=null,s=Uc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function _m(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function HR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function qR(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await HR(a,t);return u.links?u.links():[]}return[]}));return JR(r.flat(1).filter(WR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function r_(n,e,t,r,s,a){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,h=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,g)=>u(p,g)||h(p,g)):a==="data"?e.filter((p,g)=>{var E;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(u(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function KR(n,e,{includeHydrateFallback:t}={}){return GR(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function GR(n){return[...new Set(n)]}function QR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function JR(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(QR(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function YR(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function XR(){let n=z.useContext(jo);return _m(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZR(){let n=z.useContext(ru);return _m(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wm=z.createContext(void 0);wm.displayName="FrameworkContext";function NE(){let n=z.useContext(wm);return _m(n,"You must render this element inside a <HydratedRouter> element"),n}function eC(n,e){let t=z.useContext(wm),[r,s]=z.useState(!1),[a,u]=z.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:E}=e,T=z.useRef(null);z.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let j=F=>{F.forEach(G=>{u(G.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[n]),z.useEffect(()=>{if(r){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[r]);let I=()=>{s(!0)},R=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:Rl(h,I),onBlur:Rl(p,R),onMouseEnter:Rl(g,I),onMouseLeave:Rl(_,R),onTouchStart:Rl(E,I)}]:[!1,T,{}]}function Rl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tC({page:n,...e}){let{router:t}=XR(),r=z.useMemo(()=>xs(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?z.createElement(rC,{page:n,matches:r,...e}):null}function nC(n){let{manifest:e,routeModules:t}=NE(),[r,s]=z.useState([]);return z.useEffect(()=>{let a=!1;return qR(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function rC({page:n,matches:e,...t}){let r=Do(),{manifest:s,routeModules:a}=NE(),{loaderData:u,matches:h}=ZR(),p=z.useMemo(()=>r_(n,e,h,s,r,"data"),[n,e,h,s,r]),g=z.useMemo(()=>r_(n,e,h,s,r,"assets"),[n,e,h,s,r]),_=z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,R=!1;if(e.forEach(k=>{var G;let F=s.routes[k.route.id];!F||!F.hasLoader||(!p.some(H=>H.route.id===k.route.id)&&k.route.id in u&&((G=a[k.route.id])!=null&&G.shouldRevalidate)||F.hasClientLoader?R=!0:I.add(k.route.id))}),I.size===0)return[];let j=YR(n);return R&&I.size>0&&j.searchParams.set("_routes",e.filter(k=>I.has(k.route.id)).map(k=>k.route.id).join(",")),[j.pathname+j.search]},[u,r,s,p,e,n,a]),E=z.useMemo(()=>KR(g,s),[g,s]),T=nC(g);return z.createElement(z.Fragment,null,_.map(I=>z.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),E.map(I=>z.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),T.map(({key:I,link:R})=>z.createElement("link",{key:I,...R})))}function iC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jE&&(window.__reactRouterVersion="7.2.0")}catch{}function sC(n,e){return J0({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:w0({window:e==null?void 0:e.window}),hydrationData:oC(),routes:n,mapRouteProperties:PR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function oC(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:aC(n.errors)}),n}function aC(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new rd(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let u=new a(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}var DE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OE=z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:p,to:g,preventScrollReset:_,viewTransition:E,...T},I){let{basename:R}=z.useContext(gi),j=typeof g=="string"&&DE.test(g),k,F=!1;if(typeof g=="string"&&j&&(k=g,jE))try{let A=new URL(window.location.href),D=g.startsWith("//")?new URL(A.protocol+g):new URL(g),V=Ur(D.pathname,R);D.origin===A.origin&&V!=null?g=V+D.search+D.hash:F=!0}catch{un(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=gR(g,{relative:s}),[H,X,ne]=eC(r,T),O=dC(g,{replace:u,state:h,target:p,preventScrollReset:_,relative:s,viewTransition:E});function b(A){e&&e(A),A.defaultPrevented||O(A)}let C=z.createElement("a",{...T,...ne,href:k||G,onClick:F||a?e:b,ref:iC(I,X),target:p,"data-discover":!j&&t==="render"?"true":void 0});return H&&!j?z.createElement(z.Fragment,null,C,z.createElement(tC,{page:G})):C});OE.displayName="Link";var lC=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:p,...g},_){let E=su(u,{relative:g.relative}),T=Do(),I=z.useContext(ru),{navigator:R,basename:j}=z.useContext(gi),k=I!=null&&gC(E)&&h===!0,F=R.encodeLocation?R.encodeLocation(E).pathname:E.pathname,G=T.pathname,H=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(G=G.toLowerCase(),H=H?H.toLowerCase():null,F=F.toLowerCase()),H&&j&&(H=Ur(H,j)||H);const X=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ne=G===F||!s&&G.startsWith(F)&&G.charAt(X)==="/",O=H!=null&&(H===F||!s&&H.startsWith(F)&&H.charAt(F.length)==="/"),b={isActive:ne,isPending:O,isTransitioning:k},C=ne?e:void 0,A;typeof r=="function"?A=r(b):A=[r,ne?"active":null,O?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(b):a;return z.createElement(OE,{...g,"aria-current":C,className:A,ref:_,style:D,to:u,viewTransition:h},typeof p=="function"?p(b):p)});lC.displayName="NavLink";var uC=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=Fc,action:h,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:E,...T},I)=>{let R=pC(),j=mC(h,{relative:g}),k=u.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&DE.test(h),G=H=>{if(p&&p(H),H.defaultPrevented)return;H.preventDefault();let X=H.nativeEvent.submitter,ne=(X==null?void 0:X.getAttribute("formmethod"))||u;R(X||H.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:s,state:a,relative:g,preventScrollReset:_,viewTransition:E})};return z.createElement("form",{ref:I,method:k,action:j,onSubmit:r?p:G,...T,"data-discover":!F&&n==="render"?"true":void 0})});uC.displayName="Form";function cC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LE(n){let e=z.useContext(jo);return nt(e,cC(n)),e}function dC(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=Hs(),p=Do(),g=su(n,{relative:a});return z.useCallback(_=>{if(UR(_,e)){_.preventDefault();let E=t!==void 0?t:Os(p)===Os(g);h(n,{replace:E,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[p,h,g,t,r,e,n,s,a,u])}var hC=0,fC=()=>`__${String(++hC)}__`;function pC(){let{router:n}=LE("useSubmit"),{basename:e}=z.useContext(gi),t=CR();return z.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:p,body:g}=$R(r,e);if(s.navigate===!1){let _=s.fetcherKey||fC();await n.fetch(_,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function mC(n,{relative:e}={}){let{basename:t}=z.useContext(gi),r=z.useContext(qi);nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...su(n||".",{relative:e})},u=Do();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(E=>E).forEach(E=>h.append("index",E));let _=h.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:li([t,a.pathname])),Os(a)}function gC(n,e={}){let t=z.useContext(mm);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=LE("useViewTransitionState"),s=su(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ur(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Ur(t.nextLocation.pathname,r)||t.nextLocation.pathname;return nd(s.pathname,u)!=null||nd(s.pathname,a)!=null}new TextEncoder;var yC=vE();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vC(n){return z.createElement(NR,{flushSync:yC.flushSync,...n})}const _C=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},wC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],p=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,p=s+2<n.length,g=p?n[s+2]:0,_=a>>2,E=(a&3)<<4|h>>4;let T=(h&15)<<2|g>>6,I=g&63;p||(I=64,u||(T=64)),r.push(t[_],t[E],t[T],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ME(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||g==null||E==null)throw new EC;const T=a<<2|h>>4;if(r.push(T),g!==64){const I=h<<4&240|g>>2;if(r.push(I),E!==64){const R=g<<6&192|E;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class EC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TC=function(n){const e=ME(n);return VE.encodeByteArray(e,!0)},id=function(n){return TC(n).replace(/\./g,"")},FE=function(n){try{return VE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=()=>SC().__FIREBASE_DEFAULTS__,IC=()=>{if(typeof process>"u"||typeof i_>"u")return;const n=i_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&FE(n[1]);return e&&JSON.parse(e)},Ld=()=>{try{return _C()||xC()||IC()||RC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UE=n=>{var e,t;return(t=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},CC=n=>{const e=UE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},BE=()=>{var n;return(n=Ld())===null||n===void 0?void 0:n.config},zE=n=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(n){return n.endsWith(".cloudworkstations.dev")}async function $E(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[id(JSON.stringify(t)),id(JSON.stringify(u)),""].join(".")}const Ol={};function PC(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?n.emulator.push(e):n.prod.push(e);return n}function bC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let s_=!1;function HE(n,e){if(typeof window>"u"||typeof document>"u"||!ou(window.location.host)||Ol[n]===e||Ol[n]||s_)return;Ol[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=PC().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{s_=!0,u()},T}function _(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=bC(r),I=t("text"),R=document.getElementById(I)||document.createElement("span"),j=t("learnmore"),k=document.getElementById(j)||document.createElement("a"),F=t("preprendIcon"),G=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;h(H),_(k,j);const X=g();p(G,F),H.append(G,R,k,X),document.body.appendChild(H)}a?(R.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function jC(){var n;const e=(n=Ld())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MC(){const n=Tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function VC(){return!jC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FC(){try{return typeof indexedDB=="object"}catch{return!1}}function UC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="FirebaseError";class Ki extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=BC,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?zC(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Ki(s,h,r)}}function zC(n,e){return n.replace($C,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const $C=/\{\$([^}]+)}/g;function HC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(o_(a)&&o_(u)){if(!xo(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function o_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function WC(n,e){const t=new qC(n,e);return t.subscribe.bind(t)}class qC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");KC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Gf),s.error===void 0&&(s.error=Gf),s.complete===void 0&&(s.complete=Gf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(n){return n&&n._delegate?n._delegate:n}class Io{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new kC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JC(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function QC(n){return n===mo?void 0:n}function JC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new GC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Je||(Je={}));const XC={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},ZC=Je.INFO,ek={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},tk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=ek[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=ZC,this._logHandler=tk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const nk=(n,e)=>e.some(t=>n instanceof t);let a_,l_;function rk(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ik(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,Sp=new WeakMap,qE=new WeakMap,Qf=new WeakMap,Tm=new WeakMap;function sk(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(As(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&WE.set(t,n)}).catch(()=>{}),Tm.set(e,n),e}function ok(n){if(Sp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Sp.set(n,e)}let xp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return As(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ak(n){xp=n(xp)}function lk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Jf(this),e,...t);return qE.set(r,e.sort?e.sort():[e]),As(r)}:ik().includes(n)?function(...e){return n.apply(Jf(this),e),As(WE.get(this))}:function(...e){return As(n.apply(Jf(this),e))}}function uk(n){return typeof n=="function"?lk(n):(n instanceof IDBTransaction&&ok(n),nk(n,rk())?new Proxy(n,xp):n)}function As(n){if(n instanceof IDBRequest)return sk(n);if(Qf.has(n))return Qf.get(n);const e=uk(n);return e!==n&&(Qf.set(n,e),Tm.set(e,n)),e}const Jf=n=>Tm.get(n);function ck(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=As(u);return r&&u.addEventListener("upgradeneeded",p=>{r(As(u.result),p.oldVersion,p.newVersion,As(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),s&&p.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const dk=["get","getKey","getAll","getAllKeys","count"],hk=["put","add","delete","clear"],Yf=new Map;function u_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yf.get(e))return Yf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=hk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||dk.includes(t)))return;const a=async function(u,...h){const p=this.transaction(u,s?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),s&&p.done]))[0]};return Yf.set(e,a),a}ak(n=>({...n,get:(e,t,r)=>u_(e,t)||n.get(e,t,r),has:(e,t)=>!!u_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function pk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ip="@firebase/app",c_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Em("@firebase/app"),mk="@firebase/app-compat",gk="@firebase/analytics-compat",yk="@firebase/analytics",vk="@firebase/app-check-compat",_k="@firebase/app-check",wk="@firebase/auth",Ek="@firebase/auth-compat",Tk="@firebase/database",Sk="@firebase/data-connect",xk="@firebase/database-compat",Ik="@firebase/functions",Rk="@firebase/functions-compat",Ck="@firebase/installations",kk="@firebase/installations-compat",Ak="@firebase/messaging",Pk="@firebase/messaging-compat",bk="@firebase/performance",Nk="@firebase/performance-compat",jk="@firebase/remote-config",Dk="@firebase/remote-config-compat",Ok="@firebase/storage",Lk="@firebase/storage-compat",Mk="@firebase/firestore",Vk="@firebase/ai",Fk="@firebase/firestore-compat",Uk="firebase",Bk="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="[DEFAULT]",zk={[Ip]:"fire-core",[mk]:"fire-core-compat",[yk]:"fire-analytics",[gk]:"fire-analytics-compat",[_k]:"fire-app-check",[vk]:"fire-app-check-compat",[wk]:"fire-auth",[Ek]:"fire-auth-compat",[Tk]:"fire-rtdb",[Sk]:"fire-data-connect",[xk]:"fire-rtdb-compat",[Ik]:"fire-fn",[Rk]:"fire-fn-compat",[Ck]:"fire-iid",[kk]:"fire-iid-compat",[Ak]:"fire-fcm",[Pk]:"fire-fcm-compat",[bk]:"fire-perf",[Nk]:"fire-perf-compat",[jk]:"fire-rc",[Dk]:"fire-rc-compat",[Ok]:"fire-gcs",[Lk]:"fire-gcs-compat",[Mk]:"fire-fst",[Fk]:"fire-fst-compat",[Vk]:"fire-vertex","fire-js":"fire-js",[Uk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=new Map,$k=new Map,Cp=new Map;function d_(n,e){try{n.container.addComponent(e)}catch(t){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ra(n){const e=n.name;if(Cp.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,n);for(const t of sd.values())d_(t,n);for(const t of $k.values())d_(t,n);return!0}function Sm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Lr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new au("app","Firebase",Hk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=Bk;function KE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rp,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ps.create("bad-app-name",{appName:String(s)});if(t||(t=BE()),!t)throw Ps.create("no-options");const a=sd.get(s);if(a){if(xo(t,a.options)&&xo(r,a.config))return a;throw Ps.create("duplicate-app",{appName:s})}const u=new YC(s);for(const p of Cp.values())u.addComponent(p);const h=new Wk(t,r,u);return sd.set(s,h),h}function GE(n=Rp){const e=sd.get(n);if(!e&&n===Rp&&BE())return KE();if(!e)throw Ps.create("no-app",{appName:n});return e}function bs(n,e,t){var r;let s=(r=zk[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(h.join(" "));return}Ra(new Io(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="firebase-heartbeat-database",Kk=1,$l="firebase-heartbeat-store";let Xf=null;function QE(){return Xf||(Xf=ck(qk,Kk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($l)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ps.create("idb-open",{originalErrorMessage:n.message})})),Xf}async function Gk(n){try{const t=(await QE()).transaction($l),r=await t.objectStore($l).get(JE(n));return await t.done,r}catch(e){if(e instanceof Ki)Bi.warn(e.message);else{const t=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(t.message)}}}async function h_(n,e){try{const r=(await QE()).transaction($l,"readwrite");await r.objectStore($l).put(e,JE(n)),await r.done}catch(t){if(t instanceof Ki)Bi.warn(t.message);else{const r=Ps.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(r.message)}}}function JE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=1024,Jk=30;class Yk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=f_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>Jk){const u=e1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=f_(),{heartbeatsToSend:r,unsentEntries:s}=Xk(this._heartbeatsCache.heartbeats),a=id(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Bi.warn(t),""}}}function f_(){return new Date().toISOString().substring(0,10)}function Xk(n,e=Qk){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),p_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),p_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Zk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FC()?UC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Gk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return h_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return h_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function p_(n){return id(JSON.stringify({version:2,heartbeats:n})).length}function e1(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(n){Ra(new Io("platform-logger",e=>new fk(e),"PRIVATE")),Ra(new Io("heartbeat",e=>new Yk(e),"PRIVATE")),bs(Ip,c_,n),bs(Ip,c_,"esm2017"),bs("fire-js","")}t1("");function xm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function YE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n1=YE,XE=new au("auth","Firebase",YE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new Em("@firebase/auth");function r1(n,...e){od.logLevel<=Je.WARN&&od.warn(`Auth (${Ma}): ${n}`,...e)}function Bc(n,...e){od.logLevel<=Je.ERROR&&od.error(`Auth (${Ma}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,...e){throw Rm(n,...e)}function Fr(n,...e){return Rm(n,...e)}function Im(n,e,t){const r=Object.assign(Object.assign({},n1()),{[e]:t});return new au("auth","Firebase",r).create(e,{appName:n.name})}function To(n){return Im(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function i1(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&fi(n,"argument-error"),Im(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XE.create(n,...e)}function Ve(n,e,...t){if(!n)throw Rm(e,...t)}function Vi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bc(e),new Error(e)}function zi(n,e){n||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function s1(){return m_()==="http:"||m_()==="https:"}function m_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s1()||OC()||"connection"in navigator)?navigator.onLine:!0}function a1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t){this.shortDelay=e,this.longDelay=t,zi(t>e,"Short delay should be less than long delay!"),this.isMobile=NC()||LC()}get(){return o1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n,e){zi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],c1=new uu(3e4,6e4);function km(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Va(n,e,t,r,s={}){return eT(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=lu(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},a);return DC()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ou(n.emulatorConfig.host)&&(g.credentials="include"),ZE.fetch()(await tT(n,n.config.apiHost,t,h),g)})}async function eT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},l1),e);try{const s=new h1(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Ac(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[p,g]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Ac(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Ac(n,"user-disabled",u);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Im(n,_,g);fi(n,_)}}catch(s){if(s instanceof Ki)throw s;fi(n,"network-request-failed",{message:String(s)})}}async function d1(n,e,t,r,s={}){const a=await Va(n,e,t,r,s);return"mfaPendingCredential"in a&&fi(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function tT(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?Cm(n.config,s):`${n.config.apiScheme}://${s}`;return u1.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class h1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),c1.get())})}}function Ac(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Fr(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(n,e){return Va(n,"POST","/v1/accounts:delete",e)}async function ad(n,e){return Va(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p1(n,e=!1){const t=Pn(n),r=await t.getIdToken(e),s=Am(r);Ve(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Ll(Zf(s.auth_time)),issuedAtTime:Ll(Zf(s.iat)),expirationTime:Ll(Zf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Zf(n){return Number(n)*1e3}function Am(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const s=FE(t);return s?JSON.parse(s):(Bc("Failed to decode base64 JWT payload"),null)}catch(s){return Bc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function g_(n){const e=Am(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ki&&m1(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function m1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Hl(n,ad(t,{idToken:r}));Ve(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?nT(a.providerUserInfo):[],h=v1(n.providerData,u),p=n.isAnonymous,g=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=p?g:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Ap(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function y1(n){const e=Pn(n);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v1(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function nT(n){return n.map(e=>{var{providerId:t}=e,r=xm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(n,e){const t=await eT(n,{},async()=>{const r=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await tT(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",ZE.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function w1(n,e){return Va(n,"POST","/v2/accounts:revokeToken",km(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=g_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await _1(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Ta;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ve(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ve(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Vr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ap(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return p1(this,e)}reload(){return y1(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(To(this.auth));const e=await this.getIdToken();return await Hl(this,f1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,p,g,_;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,j=(h=t.tenantId)!==null&&h!==void 0?h:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,F=(g=t.createdAt)!==null&&g!==void 0?g:void 0,G=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:H,emailVerified:X,isAnonymous:ne,providerData:O,stsTokenManager:b}=t;Ve(H&&b,e,"internal-error");const C=Ta.fromJSON(this.name,b);Ve(typeof H=="string",e,"internal-error"),Ts(E,e.name),Ts(T,e.name),Ve(typeof X=="boolean",e,"internal-error"),Ve(typeof ne=="boolean",e,"internal-error"),Ts(I,e.name),Ts(R,e.name),Ts(j,e.name),Ts(k,e.name),Ts(F,e.name),Ts(G,e.name);const A=new Vr({uid:H,auth:e,email:T,emailVerified:X,displayName:E,isAnonymous:ne,photoURL:R,phoneNumber:I,tenantId:j,stsTokenManager:C,createdAt:F,lastLoginAt:G});return O&&Array.isArray(O)&&(A.providerData=O.map(D=>Object.assign({},D))),k&&(A._redirectEventId=k),A}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ta;s.updateFromServerResponse(t);const a=new Vr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ld(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ve(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?nT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new Ta;h.updateFromIdToken(r);const p=new Vr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ap(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;function Fi(n){zi(n instanceof Function,"Expected a class definition");let e=y_.get(n);return e?(zi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,y_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rT.type="NONE";const v_=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n,e,t){return`firebase:${n}:${e}:${t}`}class Sa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=zc(this.userKey,s.apiKey,a),this.fullPersistenceKey=zc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ad(this.auth,{idToken:e}).catch(()=>{});return t?Vr._fromGetAccountInfoResponse(this.auth,t,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Sa(Fi(v_),e,r);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=s[0]||Fi(v_);const u=zc(r,e.config.apiKey,e.name);let h=null;for(const g of t)try{const _=await g._get(u);if(_){let E;if(typeof _=="string"){const T=await ad(e,{idToken:_}).catch(()=>{});if(!T)break;E=await Vr._fromGetAccountInfoResponse(e,T,_)}else E=Vr._fromJSON(e,_);g!==a&&(h=E),a=g;break}}catch{}const p=s.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Sa(a,e,r):(a=p[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(u)}catch{}})),new Sa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(cT(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||oT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iT(n=Tn()){return/firefox\//i.test(n)}function sT(n=Tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oT(n=Tn()){return/crios\//i.test(n)}function aT(n=Tn()){return/iemobile/i.test(n)}function lT(n=Tn()){return/android/i.test(n)}function uT(n=Tn()){return/blackberry/i.test(n)}function cT(n=Tn()){return/webos/i.test(n)}function Pm(n=Tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function E1(n=Tn()){var e;return Pm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T1(){return MC()&&document.documentMode===10}function dT(n=Tn()){return Pm(n)||lT(n)||cT(n)||uT(n)||/windows phone/i.test(n)||aT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(n,e=[]){let t;switch(n){case"Browser":t=__(Tn());break;case"Worker":t=`${__(Tn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const p=e(a);u(p)}catch(p){h(p)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(n,e={}){return Va(n,"GET","/v2/passwordPolicy",km(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=6;class R1{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:I1,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.beforeStateQueue=new S1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fi(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Sa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ad(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Lr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&(p!=null&&p.user)&&(s=p.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ld(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(To(this));const t=e?Pn(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(To(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(To(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x1(this),t=new R1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await w1(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fi(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await Sa.create(this,[Fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,s);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&r1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Md(n){return Pn(n)}class w_{constructor(e){this.auth=e,this.observer=null,this.addObserver=WC(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k1(n){bm=n}function A1(n){return bm.loadJS(n)}function P1(){return bm.gapiScript}function b1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(n,e){const t=Sm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(xo(a,e??{}))return s;fi(s,"already-initialized")}return t.initialize({options:e})}function j1(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Fi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function D1(n,e,t){const r=Md(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=fT(e),{host:u,port:h}=O1(e),p=h===null?"":`:${h}`,g={url:`${a}//${u}${p}/`},_=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(xo(g,r.config.emulator)&&xo(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,ou(u)?($E(`${a}//${u}${p}`),HE("Auth",!0)):L1()}function fT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function O1(n){const e=fT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:E_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:E_(u)}}}function E_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function L1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(n,e){return d1(n,"POST","/v1/accounts:signInWithIdp",km(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="http://localhost";class Ro extends pT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=xm(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Ro(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return xa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,xa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xa(e,t)}buildRequest(){const e={requestUri:M1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Nm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends cu{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ro._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends cu{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends cu{constructor(){super("twitter.com")}static credential(e,t){return Ro._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Cs.credential(t,r)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Vr._fromIdTokenResponse(e,r,s),u=T_(r);return new Ca({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=T_(r);return new Ca({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function T_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends Ki{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ud.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ud(e,t,r,s)}}function mT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ud._fromErrorAndOperation(n,a,e,r):a})}async function V1(n,e,t=!1){const r=await Hl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ca._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(n,e,t=!1){const{auth:r}=n;if(Lr(r.app))return Promise.reject(To(r));const s="reauthenticate";try{const a=await Hl(n,mT(r,s,e,n),t);Ve(a.idToken,r,"internal-error");const u=Am(a.idToken);Ve(u,r,"internal-error");const{sub:h}=u;return Ve(n.uid===h,r,"user-mismatch"),Ca._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(n,e,t=!1){if(Lr(n.app))return Promise.reject(To(n));const r="signIn",s=await mT(n,r,e),a=await Ca._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function B1(n,e,t,r){return Pn(n).onIdTokenChanged(e,t,r)}function z1(n,e,t){return Pn(n).beforeAuthStateChanged(e,t)}function gT(n,e,t,r){return Pn(n).onAuthStateChanged(e,t,r)}function $1(n){return Pn(n).signOut()}const cd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cd,"1"),this.storage.removeItem(cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=1e3,W1=10;class vT extends yT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);T1()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,W1):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},H1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vT.type="LOCAL";const q1=vT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends yT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_T.type="SESSION";const wT=_T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Vd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async g=>g(t.origin,a)),p=await K1(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,p)=>{const g=jm("",20);s.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function Q1(n){ui().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function J1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function X1(){return ET()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firebaseLocalStorageDb",Z1=1,dd="firebaseLocalStorage",ST="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fd(n,e){return n.transaction([dd],e?"readwrite":"readonly").objectStore(dd)}function eA(){const n=indexedDB.deleteDatabase(TT);return new du(n).toPromise()}function Pp(){const n=indexedDB.open(TT,Z1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(dd,{keyPath:ST})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(dd)?e(r):(r.close(),await eA(),e(await Pp()))})})}async function S_(n,e,t){const r=Fd(n,!0).put({[ST]:e,value:t});return new du(r).toPromise()}async function tA(n,e){const t=Fd(n,!1).get(e),r=await new du(t).toPromise();return r===void 0?null:r.value}function x_(n,e){const t=Fd(n,!0).delete(e);return new du(t).toPromise()}const nA=800,rA=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ET()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(X1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await J1(),!this.activeServiceWorker)return;this.sender=new G1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pp();return await S_(e,cd,"1"),await x_(e,cd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>S_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>tA(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>x_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Fd(s,!1).getAll();return new du(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const iA=xT;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n,e){return e?Fi(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends pT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sA(n){return U1(n.auth,new Dm(n),n.bypassAuthState)}function oA(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),F1(t,new Dm(n),n.bypassAuthState)}async function aA(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),V1(t,new Dm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sA;case"linkViaPopup":case"linkViaRedirect":return aA;case"reauthViaPopup":case"reauthViaRedirect":return oA;default:fi(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new uu(2e3,1e4);async function CT(n,e,t){if(Lr(n.app))return Promise.reject(Fr(n,"operation-not-supported-in-this-environment"));const r=Md(n);i1(n,e,Nm);const s=IT(r,t);return new _o(r,"signInViaPopup",e,s).executeNotNull()}class _o extends RT{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lA.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="pendingRedirect",$c=new Map;class cA extends RT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await dA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dA(n,e){const t=pA(e),r=fA(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function hA(n,e){$c.set(n._key(),e)}function fA(n){return Fi(n._redirectPersistence)}function pA(n){return zc(uA,n.config.apiKey,n.name)}async function mA(n,e,t=!1){if(Lr(n.app))return Promise.reject(To(n));const r=Md(n),s=IT(r,e),u=await new cA(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=10*60*1e3;class yA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!kT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gA&&this.cachedEventUids.clear(),this.cachedEventUids.has(I_(e))}saveEventToCache(e){this.cachedEventUids.add(I_(e)),this.lastProcessedEventTime=Date.now()}}function I_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(n,e={}){return Va(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EA=/^https?/;async function TA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _A(n);for(const t of e)try{if(SA(t))return}catch{}fi(n,"unauthorized-domain")}function SA(n){const e=kp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!EA.test(t))return!1;if(wA.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new uu(3e4,6e4);function R_(){const n=ui().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function IA(n){return new Promise((e,t)=>{var r,s,a;function u(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),t(Fr(n,"network-request-failed"))},timeout:xA.get()})}if(!((s=(r=ui().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ui().gapi)===null||a===void 0)&&a.load)u();else{const h=b1("iframefcb");return ui()[h]=()=>{gapi.load?u():t(Fr(n,"network-request-failed"))},A1(`${P1()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function RA(n){return Hc=Hc||IA(n),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new uu(5e3,15e3),kA="__/auth/iframe",AA="emulator/auth/iframe",PA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NA(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Cm(e,AA):`https://${n.config.authDomain}/${kA}`,r={apiKey:e.apiKey,appName:n.name,v:Ma},s=bA.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${lu(r).slice(1)}`}async function jA(n){const e=await RA(n),t=ui().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:NA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PA,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Fr(n,"network-request-failed"),h=ui().setTimeout(()=>{a(u)},CA.get());function p(){ui().clearTimeout(h),s(r)}r.ping(p).then(p,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OA=500,LA=600,MA="_blank",VA="http://localhost";class C_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FA(n,e,t,r=OA,s=LA){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p=Object.assign(Object.assign({},DA),{width:r.toString(),height:s.toString(),top:a,left:u}),g=Tn().toLowerCase();t&&(h=oT(g)?MA:t),iT(g)&&(e=e||VA,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[I,R])=>`${T}${I}=${R},`,"");if(E1(g)&&h!=="_self")return UA(e||"",h),new C_(null);const E=window.open(e||"",h,_);Ve(E,n,"popup-blocked");try{E.focus()}catch{}return new C_(E)}function UA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="__/auth/handler",zA="emulator/auth/handler",$A=encodeURIComponent("fac");async function k_(n,e,t,r,s,a){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ma,eventId:s};if(e instanceof Nm){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",HC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof cu){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await n._getAppCheckToken(),g=p?`#${$A}=${encodeURIComponent(p)}`:"";return`${HA(n)}?${lu(h).slice(1)}${g}`}function HA({config:n}){return n.emulator?Cm(n,zA):`https://${n.authDomain}/${BA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class WA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wT,this._completeRedirectFn=mA,this._overrideRedirectResult=hA}async _openPopup(e,t,r,s){var a;zi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await k_(e,t,r,kp(),s);return FA(e,u,jm())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await k_(e,t,r,kp(),s);return Q1(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(zi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await jA(e),r=new yA(e);return t.register("authEvent",s=>(Ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ep,{type:ep},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[ep];u!==void 0&&t(!!u),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dT()||sT()||Pm()}}const qA=WA;var A_="@firebase/auth",P_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QA(n){Ra(new Io("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(n)},g=new C1(r,s,a,p);return j1(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ra(new Io("auth-internal",e=>{const t=Md(e.getProvider("auth").getImmediate());return(r=>new KA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(A_,P_,GA(n)),bs(A_,P_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=5*60,YA=zE("authIdTokenMaxAge")||JA;let b_=null;const XA=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YA)return;const s=t==null?void 0:t.token;b_!==s&&(b_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ZA(n=GE()){const e=Sm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=N1(n,{popupRedirectResolver:qA,persistence:[iA,q1,wT]}),r=zE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=XA(a.toString());z1(t,u,()=>u(t.currentUser)),B1(t,h=>u(h))}}const s=UE("auth");return s&&D1(t,`http://${s}`),t}function eP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}k1({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Fr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",eP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QA("Browser");var tP="firebase",nP="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(tP,nP,"app");var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,AT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function A(){}A.prototype=C.prototype,b.D=C.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(D,V,$){for(var P=Array(arguments.length-2),De=2;De<arguments.length;De++)P[De-2]=arguments[De];return C.prototype[V].apply(D,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,C,A){A||(A=0);var D=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)D[V]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(V=0;16>V;++V)D[V]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=b.g[0],A=b.g[1],V=b.g[2];var $=b.g[3],P=C+($^A&(V^$))+D[0]+3614090360&4294967295;C=A+(P<<7&4294967295|P>>>25),P=$+(V^C&(A^V))+D[1]+3905402710&4294967295,$=C+(P<<12&4294967295|P>>>20),P=V+(A^$&(C^A))+D[2]+606105819&4294967295,V=$+(P<<17&4294967295|P>>>15),P=A+(C^V&($^C))+D[3]+3250441966&4294967295,A=V+(P<<22&4294967295|P>>>10),P=C+($^A&(V^$))+D[4]+4118548399&4294967295,C=A+(P<<7&4294967295|P>>>25),P=$+(V^C&(A^V))+D[5]+1200080426&4294967295,$=C+(P<<12&4294967295|P>>>20),P=V+(A^$&(C^A))+D[6]+2821735955&4294967295,V=$+(P<<17&4294967295|P>>>15),P=A+(C^V&($^C))+D[7]+4249261313&4294967295,A=V+(P<<22&4294967295|P>>>10),P=C+($^A&(V^$))+D[8]+1770035416&4294967295,C=A+(P<<7&4294967295|P>>>25),P=$+(V^C&(A^V))+D[9]+2336552879&4294967295,$=C+(P<<12&4294967295|P>>>20),P=V+(A^$&(C^A))+D[10]+4294925233&4294967295,V=$+(P<<17&4294967295|P>>>15),P=A+(C^V&($^C))+D[11]+2304563134&4294967295,A=V+(P<<22&4294967295|P>>>10),P=C+($^A&(V^$))+D[12]+1804603682&4294967295,C=A+(P<<7&4294967295|P>>>25),P=$+(V^C&(A^V))+D[13]+4254626195&4294967295,$=C+(P<<12&4294967295|P>>>20),P=V+(A^$&(C^A))+D[14]+2792965006&4294967295,V=$+(P<<17&4294967295|P>>>15),P=A+(C^V&($^C))+D[15]+1236535329&4294967295,A=V+(P<<22&4294967295|P>>>10),P=C+(V^$&(A^V))+D[1]+4129170786&4294967295,C=A+(P<<5&4294967295|P>>>27),P=$+(A^V&(C^A))+D[6]+3225465664&4294967295,$=C+(P<<9&4294967295|P>>>23),P=V+(C^A&($^C))+D[11]+643717713&4294967295,V=$+(P<<14&4294967295|P>>>18),P=A+($^C&(V^$))+D[0]+3921069994&4294967295,A=V+(P<<20&4294967295|P>>>12),P=C+(V^$&(A^V))+D[5]+3593408605&4294967295,C=A+(P<<5&4294967295|P>>>27),P=$+(A^V&(C^A))+D[10]+38016083&4294967295,$=C+(P<<9&4294967295|P>>>23),P=V+(C^A&($^C))+D[15]+3634488961&4294967295,V=$+(P<<14&4294967295|P>>>18),P=A+($^C&(V^$))+D[4]+3889429448&4294967295,A=V+(P<<20&4294967295|P>>>12),P=C+(V^$&(A^V))+D[9]+568446438&4294967295,C=A+(P<<5&4294967295|P>>>27),P=$+(A^V&(C^A))+D[14]+3275163606&4294967295,$=C+(P<<9&4294967295|P>>>23),P=V+(C^A&($^C))+D[3]+4107603335&4294967295,V=$+(P<<14&4294967295|P>>>18),P=A+($^C&(V^$))+D[8]+1163531501&4294967295,A=V+(P<<20&4294967295|P>>>12),P=C+(V^$&(A^V))+D[13]+2850285829&4294967295,C=A+(P<<5&4294967295|P>>>27),P=$+(A^V&(C^A))+D[2]+4243563512&4294967295,$=C+(P<<9&4294967295|P>>>23),P=V+(C^A&($^C))+D[7]+1735328473&4294967295,V=$+(P<<14&4294967295|P>>>18),P=A+($^C&(V^$))+D[12]+2368359562&4294967295,A=V+(P<<20&4294967295|P>>>12),P=C+(A^V^$)+D[5]+4294588738&4294967295,C=A+(P<<4&4294967295|P>>>28),P=$+(C^A^V)+D[8]+2272392833&4294967295,$=C+(P<<11&4294967295|P>>>21),P=V+($^C^A)+D[11]+1839030562&4294967295,V=$+(P<<16&4294967295|P>>>16),P=A+(V^$^C)+D[14]+4259657740&4294967295,A=V+(P<<23&4294967295|P>>>9),P=C+(A^V^$)+D[1]+2763975236&4294967295,C=A+(P<<4&4294967295|P>>>28),P=$+(C^A^V)+D[4]+1272893353&4294967295,$=C+(P<<11&4294967295|P>>>21),P=V+($^C^A)+D[7]+4139469664&4294967295,V=$+(P<<16&4294967295|P>>>16),P=A+(V^$^C)+D[10]+3200236656&4294967295,A=V+(P<<23&4294967295|P>>>9),P=C+(A^V^$)+D[13]+681279174&4294967295,C=A+(P<<4&4294967295|P>>>28),P=$+(C^A^V)+D[0]+3936430074&4294967295,$=C+(P<<11&4294967295|P>>>21),P=V+($^C^A)+D[3]+3572445317&4294967295,V=$+(P<<16&4294967295|P>>>16),P=A+(V^$^C)+D[6]+76029189&4294967295,A=V+(P<<23&4294967295|P>>>9),P=C+(A^V^$)+D[9]+3654602809&4294967295,C=A+(P<<4&4294967295|P>>>28),P=$+(C^A^V)+D[12]+3873151461&4294967295,$=C+(P<<11&4294967295|P>>>21),P=V+($^C^A)+D[15]+530742520&4294967295,V=$+(P<<16&4294967295|P>>>16),P=A+(V^$^C)+D[2]+3299628645&4294967295,A=V+(P<<23&4294967295|P>>>9),P=C+(V^(A|~$))+D[0]+4096336452&4294967295,C=A+(P<<6&4294967295|P>>>26),P=$+(A^(C|~V))+D[7]+1126891415&4294967295,$=C+(P<<10&4294967295|P>>>22),P=V+(C^($|~A))+D[14]+2878612391&4294967295,V=$+(P<<15&4294967295|P>>>17),P=A+($^(V|~C))+D[5]+4237533241&4294967295,A=V+(P<<21&4294967295|P>>>11),P=C+(V^(A|~$))+D[12]+1700485571&4294967295,C=A+(P<<6&4294967295|P>>>26),P=$+(A^(C|~V))+D[3]+2399980690&4294967295,$=C+(P<<10&4294967295|P>>>22),P=V+(C^($|~A))+D[10]+4293915773&4294967295,V=$+(P<<15&4294967295|P>>>17),P=A+($^(V|~C))+D[1]+2240044497&4294967295,A=V+(P<<21&4294967295|P>>>11),P=C+(V^(A|~$))+D[8]+1873313359&4294967295,C=A+(P<<6&4294967295|P>>>26),P=$+(A^(C|~V))+D[15]+4264355552&4294967295,$=C+(P<<10&4294967295|P>>>22),P=V+(C^($|~A))+D[6]+2734768916&4294967295,V=$+(P<<15&4294967295|P>>>17),P=A+($^(V|~C))+D[13]+1309151649&4294967295,A=V+(P<<21&4294967295|P>>>11),P=C+(V^(A|~$))+D[4]+4149444226&4294967295,C=A+(P<<6&4294967295|P>>>26),P=$+(A^(C|~V))+D[11]+3174756917&4294967295,$=C+(P<<10&4294967295|P>>>22),P=V+(C^($|~A))+D[2]+718787259&4294967295,V=$+(P<<15&4294967295|P>>>17),P=A+($^(V|~C))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+V&4294967295,b.g[3]=b.g[3]+$&4294967295}r.prototype.u=function(b,C){C===void 0&&(C=b.length);for(var A=C-this.blockSize,D=this.B,V=this.h,$=0;$<C;){if(V==0)for(;$<=A;)s(this,b,$),$+=this.blockSize;if(typeof b=="string"){for(;$<C;)if(D[V++]=b.charCodeAt($++),V==this.blockSize){s(this,D),V=0;break}}else for(;$<C;)if(D[V++]=b[$++],V==this.blockSize){s(this,D),V=0;break}}this.h=V,this.o+=C},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var A=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=A&255,A/=256;for(this.u(b),b=Array(16),C=A=0;4>C;++C)for(var D=0;32>D;D+=8)b[A++]=this.g[C]>>>D&255;return b};function a(b,C){var A=h;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=C(b)}function u(b,C){this.h=C;for(var A=[],D=!0,V=b.length-1;0<=V;V--){var $=b[V]|0;D&&$==C||(A[V]=$,D=!1)}this.g=A}var h={};function p(b){return-128<=b&&128>b?a(b,function(C){return new u([C|0],0>C?-1:0)}):new u([b|0],0>b?-1:0)}function g(b){if(isNaN(b)||!isFinite(b))return E;if(0>b)return k(g(-b));for(var C=[],A=1,D=0;b>=A;D++)C[D]=b/A|0,A*=4294967296;return new u(C,0)}function _(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return k(_(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(C,8)),D=E,V=0;V<b.length;V+=8){var $=Math.min(8,b.length-V),P=parseInt(b.substring(V,V+$),C);8>$?($=g(Math.pow(C,$)),D=D.j($).add(g(P))):(D=D.j(A),D=D.add(g(P)))}return D}var E=p(0),T=p(1),I=p(16777216);n=u.prototype,n.m=function(){if(j(this))return-k(this).m();for(var b=0,C=1,A=0;A<this.g.length;A++){var D=this.i(A);b+=(0<=D?D:4294967296+D)*C,C*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(R(this))return"0";if(j(this))return"-"+k(this).toString(b);for(var C=g(Math.pow(b,6)),A=this,D="";;){var V=X(A,C).g;A=F(A,V.j(C));var $=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=V,R(A))return $+D;for(;6>$.length;)$="0"+$;D=$+D}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function R(b){if(b.h!=0)return!1;for(var C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function j(b){return b.h==-1}n.l=function(b){return b=F(this,b),j(b)?-1:R(b)?0:1};function k(b){for(var C=b.g.length,A=[],D=0;D<C;D++)A[D]=~b.g[D];return new u(A,~b.h).add(T)}n.abs=function(){return j(this)?k(this):this},n.add=function(b){for(var C=Math.max(this.g.length,b.g.length),A=[],D=0,V=0;V<=C;V++){var $=D+(this.i(V)&65535)+(b.i(V)&65535),P=($>>>16)+(this.i(V)>>>16)+(b.i(V)>>>16);D=P>>>16,$&=65535,P&=65535,A[V]=P<<16|$}return new u(A,A[A.length-1]&-2147483648?-1:0)};function F(b,C){return b.add(k(C))}n.j=function(b){if(R(this)||R(b))return E;if(j(this))return j(b)?k(this).j(k(b)):k(k(this).j(b));if(j(b))return k(this.j(k(b)));if(0>this.l(I)&&0>b.l(I))return g(this.m()*b.m());for(var C=this.g.length+b.g.length,A=[],D=0;D<2*C;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<b.g.length;V++){var $=this.i(D)>>>16,P=this.i(D)&65535,De=b.i(V)>>>16,He=b.i(V)&65535;A[2*D+2*V]+=P*He,G(A,2*D+2*V),A[2*D+2*V+1]+=$*He,G(A,2*D+2*V+1),A[2*D+2*V+1]+=P*De,G(A,2*D+2*V+1),A[2*D+2*V+2]+=$*De,G(A,2*D+2*V+2)}for(D=0;D<C;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=C;D<2*C;D++)A[D]=0;return new u(A,0)};function G(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function H(b,C){this.g=b,this.h=C}function X(b,C){if(R(C))throw Error("division by zero");if(R(b))return new H(E,E);if(j(b))return C=X(k(b),C),new H(k(C.g),k(C.h));if(j(C))return C=X(b,k(C)),new H(k(C.g),C.h);if(30<b.g.length){if(j(b)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var A=T,D=C;0>=D.l(b);)A=ne(A),D=ne(D);var V=O(A,1),$=O(D,1);for(D=O(D,2),A=O(A,2);!R(D);){var P=$.add(D);0>=P.l(b)&&(V=V.add(A),$=P),D=O(D,1),A=O(A,1)}return C=F(b,V.j(C)),new H(V,C)}for(V=E;0<=b.l(C);){for(A=Math.max(1,Math.floor(b.m()/C.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),$=g(A),P=$.j(C);j(P)||0<P.l(b);)A-=D,$=g(A),P=$.j(C);R($)&&($=T),V=V.add($),b=F(b,P)}return new H(V,b)}n.A=function(b){return X(this,b).h},n.and=function(b){for(var C=Math.max(this.g.length,b.g.length),A=[],D=0;D<C;D++)A[D]=this.i(D)&b.i(D);return new u(A,this.h&b.h)},n.or=function(b){for(var C=Math.max(this.g.length,b.g.length),A=[],D=0;D<C;D++)A[D]=this.i(D)|b.i(D);return new u(A,this.h|b.h)},n.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),A=[],D=0;D<C;D++)A[D]=this.i(D)^b.i(D);return new u(A,this.h^b.h)};function ne(b){for(var C=b.g.length+1,A=[],D=0;D<C;D++)A[D]=b.i(D)<<1|b.i(D-1)>>>31;return new u(A,b.h)}function O(b,C){var A=C>>5;C%=32;for(var D=b.g.length-A,V=[],$=0;$<D;$++)V[$]=0<C?b.i($+A)>>>C|b.i($+A+1)<<32-C:b.i($+A);return new u(V,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,Ns=u}).apply(typeof N_<"u"?N_:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PT,bl,bT,Wc,bp,NT,jT,DT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var x=0;x<c.length-1;x++){var q=c[x];if(!(q in w))break e;w=w[q]}c=c[c.length-1],x=w[c],y=y(x),y!=x&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,x=!1,q={next:function(){if(!x&&w<c.length){var Z=w++;return{value:y(Z,c[Z]),done:!1}}return x=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,w){return c.call.apply(c.bind,arguments)}function E(c,y,w){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,x),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function T(c,y,w){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,T.apply(null,arguments)}function I(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var x=w.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function R(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(x,q,Z){for(var he=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)he[mt-2]=arguments[mt];return y.prototype[q].apply(x,he)}}function j(c){const y=c.length;if(0<y){const w=Array(y);for(let x=0;x<y;x++)w[x]=c[x];return w}return[]}function k(c,y){for(let w=1;w<arguments.length;w++){const x=arguments[w];if(p(x)){const q=c.length||0,Z=x.length||0;c.length=q+Z;for(let he=0;he<Z;he++)c[q+he]=x[he]}else c.push(x)}}class F{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var ne=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function O(c,y,w){for(const x in c)y.call(w,c[x],x,c)}function b(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function C(c){const y={};for(const w in c)y[w]=c[w];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let w,x;for(let q=1;q<arguments.length;q++){x=arguments[q];for(w in x)c[w]=x[w];for(let Z=0;Z<A.length;Z++)w=A[Z],Object.prototype.hasOwnProperty.call(x,w)&&(c[w]=x[w])}}function V(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function $(c){h.setTimeout(()=>{throw c},0)}function P(){var c=_e;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class De{constructor(){this.h=this.g=null}add(y,w){const x=He.get();x.set(y,w),this.h?this.h.next=x:this.g=x,this.h=x}}var He=new F(()=>new Ue,c=>c.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let be,ue=!1,_e=new De,de=()=>{const c=h.Promise.resolve(void 0);be=()=>{c.then(U)}};var U=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(w){$(w)}var y=He;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ue=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return c}();function Fe(c,y){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ne){e:{try{X(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:je[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Fe.aa.h.call(this)}}R(Fe,me);var je={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function ct(c,y,w,x,q){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!x,this.ha=q,this.key=++Xe,this.da=this.fa=!1}function Ze(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bt(c){this.src=c,this.g={},this.h=0}Bt.prototype.add=function(c,y,w,x,q){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var he=sr(c,y,x,q);return-1<he?(y=c[he],w||(y.fa=!1)):(y=new ct(y,this.src,Z,!!x,q),y.fa=w,c.push(y)),y};function $n(c,y){var w=y.type;if(w in c.g){var x=c.g[w],q=Array.prototype.indexOf.call(x,y,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(x,q,1),Z&&(Ze(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function sr(c,y,w,x){for(var q=0;q<c.length;++q){var Z=c[q];if(!Z.da&&Z.listener==y&&Z.capture==!!w&&Z.ha==x)return q}return-1}var Gt="closure_lm_"+(1e6*Math.random()|0),Hn={};function zr(c,y,w,x,q){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)zr(c,y[Z],w,x,q);return null}return w=vi(w),c&&c[Qe]?c.K(y,w,g(x)?!!x.capture:!1,q):or(c,y,w,!1,x,q)}function or(c,y,w,x,q,Z){if(!y)throw Error("Invalid event type");var he=g(q)?!!q.capture:!!q,mt=ar(c);if(mt||(c[Gt]=mt=new Bt(c)),w=mt.add(y,w,x,he,Z),w.proxy)return w;if(x=Mo(),w.proxy=x,x.src=c,x.listener=w,c.addEventListener)Ne||(q=he),q===void 0&&(q=!1),c.addEventListener(y.toString(),x,q);else if(c.attachEvent)c.attachEvent(Sr(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Mo(){function c(w){return y.call(c.src,c.listener,w)}const y=Wn;return c}function Gi(c,y,w,x,q){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Gi(c,y[Z],w,x,q);else x=g(x)?!!x.capture:!!x,w=vi(w),c&&c[Qe]?(c=c.i,y=String(y).toString(),y in c.g&&(Z=c.g[y],w=sr(Z,w,x,q),-1<w&&(Ze(Z[w]),Array.prototype.splice.call(Z,w,1),Z.length==0&&(delete c.g[y],c.h--)))):c&&(c=ar(c))&&(y=c.g[y.toString()],c=-1,y&&(c=sr(y,w,x,q)),(w=-1<c?y[c]:null)&&Tr(w))}function Tr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Qe])$n(y.i,c);else{var w=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(w,x,c.capture):y.detachEvent?y.detachEvent(Sr(w),x):y.addListener&&y.removeListener&&y.removeListener(x),(w=ar(y))?($n(w,c),w.h==0&&(w.src=null,y[Gt]=null)):Ze(c)}}}function Sr(c){return c in Hn?Hn[c]:Hn[c]="on"+c}function Wn(c,y){if(c.da)c=!0;else{y=new Fe(y,this);var w=c.listener,x=c.ha||c.src;c.fa&&Tr(c),c=w.call(x,y)}return c}function ar(c){return c=c[Gt],c instanceof Bt?c:null}var yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function vi(c){return typeof c=="function"?c:(c[yi]||(c[yi]=function(y){return c.handleEvent(y)}),c[yi])}function gt(){te.call(this),this.i=new Bt(this),this.M=this,this.F=null}R(gt,te),gt.prototype[Qe]=!0,gt.prototype.removeEventListener=function(c,y,w,x){Gi(this,c,y,w,x)};function dt(c,y){var w,x=c.F;if(x)for(w=[];x;x=x.F)w.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new me(y,c);else if(y instanceof me)y.target=y.target||c;else{var q=y;y=new me(x,c),D(y,q)}if(q=!0,w)for(var Z=w.length-1;0<=Z;Z--){var he=y.g=w[Z];q=lr(he,x,!0,y)&&q}if(he=y.g=c,q=lr(he,x,!0,y)&&q,q=lr(he,x,!1,y)&&q,w)for(Z=0;Z<w.length;Z++)he=y.g=w[Z],q=lr(he,x,!1,y)&&q}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],x=0;x<w.length;x++)Ze(w[x]);delete c.g[y],c.h--}}this.F=null},gt.prototype.K=function(c,y,w,x){return this.i.add(String(c),y,!1,w,x)},gt.prototype.L=function(c,y,w,x){return this.i.add(String(c),y,!0,w,x)};function lr(c,y,w,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Z=0;Z<y.length;++Z){var he=y[Z];if(he&&!he.da&&he.capture==w){var mt=he.listener,zt=he.ha||he.src;he.fa&&$n(c.i,he),q=mt.call(zt,x)!==!1&&q}}return q&&!x.defaultPrevented}function _i(c,y,w){if(typeof c=="function")w&&(c=T(c,w));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function $r(c){c.g=_i(()=>{c.g=null,c.i&&(c.i=!1,$r(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class dn extends te{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(c){te.call(this),this.h=c,this.g={}}R(Hr,te);var Qi=[];function Ji(c){O(c.g,function(y,w){this.g.hasOwnProperty(w)&&Tr(y)},c),c.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),Ji(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=h.JSON.stringify,Yi=h.JSON.parse,Wr=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function qr(){}qr.prototype.h=null;function Kr(c){return c.h||(c.h=c.i())}function Xi(){}var xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){me.call(this,"d")}R(ur,me);function wi(){me.call(this,"c")}R(wi,me);var In={},Gr=null;function Ei(){return Gr=Gr||new gt}In.La="serverreachability";function Gs(c){me.call(this,In.La,c)}R(Gs,me);function L(c){const y=Ei();dt(y,new Gs(y))}In.STAT_EVENT="statevent";function W(c,y){me.call(this,In.STAT_EVENT,c),this.stat=y}R(W,me);function Q(c){const y=Ei();dt(y,new W(y,c))}In.Ma="timingevent";function ie(c,y){me.call(this,In.Ma,c),this.size=y}R(ie,me);function fe(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function Re(c,y,w,x,q,Z){c.info(function(){if(c.g)if(Z)for(var he="",mt=Z.split("&"),zt=0;zt<mt.length;zt++){var it=mt[zt].split("=");if(1<it.length){var Qt=it[0];it=it[1];var Lt=Qt.split("_");he=2<=Lt.length&&Lt[1]=="type"?he+(Qt+"="+it+"&"):he+(Qt+"=redacted&")}}else he=null;else he=Z;return"XMLHTTP REQ ("+x+") [attempt "+q+"]: "+y+`
`+w+`
`+he})}function ve(c,y,w,x,q,Z,he){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+q+"]: "+y+`
`+w+`
`+Z+" "+he})}function ge(c,y,w,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Le(c,w)+(x?" "+x:"")})}function pe(c,y){c.info(function(){return"TIMEOUT: "+y})}Se.prototype.info=function(){};function Le(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var x=w[c];if(!(2>x.length)){var q=x[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var he=1;he<q.length;he++)q[he]=""}}}}return Ks(w)}catch{return y}}var Be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ht={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ft;function lt(){}R(lt,qr),lt.prototype.g=function(){return new XMLHttpRequest},lt.prototype.i=function(){return{}},ft=new lt;function Ge(c,y,w,x){this.j=c,this.i=y,this.l=w,this.R=x||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var cr={},dr={};function hn(c,y,w){c.L=1,c.v=rs(qn(y)),c.m=w,c.P=!0,fn(c,null)}function fn(c,y){c.F=Date.now(),rt(c),c.A=qn(c.v);var w=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),ss(w.i,"t",x),c.C=0,w=c.j.J,c.h=new St,c.g=bu(c.j,w?y:null,!c.m),0<c.O&&(c.M=new dn(T(c.Y,c,c.g),c.O)),y=c.U,w=c.g,x=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Qi[0]=q.toString()),q=Qi);for(var Z=0;Z<q.length;Z++){var he=zr(w,q[Z],x||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),L(),Re(c.i,c.u,c.A,c.l,c.R,c.m)}Ge.prototype.ca=function(c){c=c.target;const y=this.M;y&&jn(c)==3?y.j():this.Y(c)},Ge.prototype.Y=function(c){try{if(c==this.g)e:{const Lt=jn(this.g);var y=this.g.Ba();const pr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Qa(this.g)))){this.J||Lt!=4||y==7||(y==8||0>=pr?L(3):L(2)),hr(this);var w=this.g.Z();this.X=w;t:if(Zi(this)){var x=Qa(this.g);c="";var q=x.length,Z=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pt(this),et(this);var he="";break t}this.h.i=new h.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(x[y],{stream:!(Z&&y==q-1)});x.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=w==200,ve(this.i,this.u,this.A,this.l,this.R,Lt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,zt=this.g;if((mt=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(mt)){var it=mt;break t}}it=null}if(w=it)ge(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qr(this,w);else{this.o=!1,this.s=3,Q(12),pt(this),et(this);break e}}if(this.P){w=!0;let Gn;for(;!this.J&&this.C<he.length;)if(Gn=Ti(this,he),Gn==dr){Lt==4&&(this.s=4,Q(14),w=!1),ge(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==cr){this.s=4,Q(15),ge(this.i,this.l,he,"[Invalid Chunk]"),w=!1;break}else ge(this.i,this.l,Gn,null),Qr(this,Gn);if(Zi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||he.length!=0||this.h.h||(this.s=1,Q(16),w=!1),this.o=this.o&&w,!w)ge(this.i,this.l,he,"[Invalid Chunked Response]"),pt(this),et(this);else if(0<he.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Ya(Qt),Qt.M=!0,Q(11))}}else ge(this.i,this.l,he,null),Qr(this,he);Lt==4&&pt(this),this.o&&!this.J&&(Lt==4?Go(this.j,this):(this.o=!1,rt(this)))}else $o(this.g),w==400&&0<he.indexOf("Unknown SID")?(this.s=3,Q(12)):(this.s=0,Q(13)),pt(this),et(this)}}}catch{}finally{}};function Zi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ti(c,y){var w=c.C,x=y.indexOf(`
`,w);return x==-1?dr:(w=Number(y.substring(w,x)),isNaN(w)?cr:(x+=1,x+w>y.length?dr:(y=y.slice(x,x+w),c.C=x+w,y)))}Ge.prototype.cancel=function(){this.J=!0,pt(this)};function rt(c){c.S=Date.now()+c.I,Si(c,c.I)}function Si(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=fe(T(c.ba,c),y)}function hr(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Ge.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pe(this.i,this.A),this.L!=2&&(L(),Q(17)),pt(this),this.s=2,et(this)):Si(this,this.S-c)};function et(c){c.j.G==0||c.J||Go(c.j,c)}function pt(c){hr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ji(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Qr(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||en(w.h,c))){if(!c.K&&en(w.h,c)&&w.G==3){try{var x=w.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var q=x;if(q[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Ko(w),kr(w);else break e;qo(w),Q(18)}}else w.za=q[1],0<w.za-w.T&&37500>q[2]&&w.F&&w.v==0&&!w.C&&(w.C=fe(T(w.Za,w),6e3));if(1>=Qs(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ki(w,11)}else if((c.K||w.g==c)&&Ko(w),!G(y))for(q=w.Da.g.parse(y),y=0;y<q.length;y++){let it=q[y];if(w.T=it[0],it=it[1],w.G==2)if(it[0]=="c"){w.K=it[1],w.ia=it[2];const Qt=it[3];Qt!=null&&(w.la=Qt,w.j.info("VER="+w.la));const Lt=it[4];Lt!=null&&(w.Aa=Lt,w.j.info("SVER="+w.Aa));const pr=it[5];pr!=null&&typeof pr=="number"&&0<pr&&(x=1.5*pr,w.L=x,w.j.info("backChannelRequestTimeoutMs_="+x)),x=w;const Gn=c.g;if(Gn){const to=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(to){var Z=x.h;Z.g||to.indexOf("spdy")==-1&&to.indexOf("quic")==-1&&to.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Wa(Z,Z.h),Z.h=null))}if(x.D){const Jo=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(x.ya=Jo,_t(x.I,x.D,Jo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),x=w;var he=c;if(x.qa=Pu(x,x.J?x.ia:null,x.W),he.K){vu(x.h,he);var mt=he,zt=x.L;zt&&(mt.I=zt),mt.B&&(hr(mt),rt(mt)),x.g=he}else eo(x);0<w.i.length&&ei(w)}else it[0]!="stop"&&it[0]!="close"||ki(w,7);else w.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?ki(w,7):nn(w):it[0]!="noop"&&w.l&&w.l.ta(it),w.v=0)}}L(4)}catch{}}var Jr=class{constructor(c,y){this.g=c,this.map=y}};function yt(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ot(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Qs(c){return c.h?1:c.g?c.g.size:0}function en(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Wa(c,y){c.g?c.g.add(y):c.h=y}function vu(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}yt.prototype.cancel=function(){if(this.i=_u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function _u(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return j(c.i)}function Vo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],w=c.length,x=0;x<w;x++)y.push(c[x]);return y}y=[],w=0;for(x in c)y[w++]=c[x];return y}function Fo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const x in c)y[w++]=x;return y}}}function es(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=Fo(c),x=Vo(c),q=x.length,Z=0;Z<q;Z++)y.call(void 0,x[Z],w&&w[Z],c)}var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ph(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var x=c[w].indexOf("="),q=null;if(0<=x){var Z=c[w].substring(0,x);q=c[w].substring(x+1)}else Z=c[w];y(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function xi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xi){this.h=c.h,Ys(this,c.j),this.o=c.o,this.g=c.g,ts(this,c.s),this.l=c.l;var y=c.i,w=new Yr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),ns(this,w),this.m=c.m}else c&&(y=String(c).match(Js))?(this.h=!1,Ys(this,y[1]||"",!0),this.o=tt(y[2]||""),this.g=tt(y[3]||"",!0),ts(this,y[4]),this.l=tt(y[5]||"",!0),ns(this,y[6]||"",!0),this.m=tt(y[7]||"")):(this.h=!1,this.i=new Yr(null,this.h))}xi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(is(y,Uo,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(is(y,Uo,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(is(w,w.charAt(0)=="/"?Tu:Eu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",is(w,qa)),c.join("")};function qn(c){return new xi(c)}function Ys(c,y,w){c.j=w?tt(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ts(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ns(c,y,w){y instanceof Yr?(c.i=y,Xr(c.i,c.h)):(w||(y=is(y,Su)),c.i=new Yr(y,c.h))}function _t(c,y,w){c.i.set(y,w)}function rs(c){return _t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function tt(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function is(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,wu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,Eu=/[#\?:]/g,Tu=/[#\?]/g,Su=/[#\?@]/g,qa=/#/g;function Yr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function tn(c){c.g||(c.g=new Map,c.h=0,c.i&&ph(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=Yr.prototype,n.add=function(c,y){tn(this),this.i=null,c=fr(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function xr(c,y){tn(c),y=fr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ir(c,y){return tn(c),y=fr(c,y),c.g.has(y)}n.forEach=function(c,y){tn(this),this.g.forEach(function(w,x){w.forEach(function(q){c.call(y,q,x,this)},this)},this)},n.na=function(){tn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let x=0;x<y.length;x++){const q=c[x];for(let Z=0;Z<q.length;Z++)w.push(y[x])}return w},n.V=function(c){tn(this);let y=[];if(typeof c=="string")Ir(this,c)&&(y=y.concat(this.g.get(fr(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},n.set=function(c,y){return tn(this),this.i=null,c=fr(this,c),Ir(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ss(c,y,w){xr(c,y),0<w.length&&(c.i=null,c.g.set(fr(c,y),j(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var x=y[w];const Z=encodeURIComponent(String(x)),he=this.V(x);for(x=0;x<he.length;x++){var q=Z;he[x]!==""&&(q+="="+encodeURIComponent(String(he[x]))),c.push(q)}}return this.i=c.join("&")};function fr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Xr(c,y){y&&!c.j&&(tn(c),c.i=null,c.g.forEach(function(w,x){var q=x.toLowerCase();x!=q&&(xr(this,x),ss(this,q,w))},c)),c.j=y}function mh(c,y){const w=new Se;if(h.Image){const x=new Image;x.onload=I(Nn,w,"TestLoadImage: loaded",!0,y,x),x.onerror=I(Nn,w,"TestLoadImage: error",!1,y,x),x.onabort=I(Nn,w,"TestLoadImage: abort",!1,y,x),x.ontimeout=I(Nn,w,"TestLoadImage: timeout",!1,y,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function xu(c,y){const w=new Se,x=new AbortController,q=setTimeout(()=>{x.abort(),Nn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(Z=>{clearTimeout(q),Z.ok?Nn(w,"TestPingServer: ok",!0,y):Nn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Nn(w,"TestPingServer: error",!1,y)})}function Nn(c,y,w,x,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),x(w)}catch{}}function gh(){this.g=new Wr}function Iu(c,y,w){const x=w||"";try{es(c,function(q,Z){let he=q;g(q)&&(he=Ks(q)),y.push(x+Z+"="+encodeURIComponent(he))})}catch(q){throw y.push(x+"type="+encodeURIComponent("_badmap")),q}}function Ii(c){this.l=c.Ub||null,this.j=c.eb||!1}R(Ii,qr),Ii.prototype.g=function(){return new Xs(this.l,this.j)},Ii.prototype.i=function(c){return function(){return c}}({});function Xs(c,y){gt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Xs,gt),n=Xs.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Cr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ru(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ru(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Rr(this):Cr(this),this.readyState==3&&Ru(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Rr(this))},n.Qa=function(c){this.g&&(this.response=c,Rr(this))},n.ga=function(){this.g&&Rr(this)};function Rr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Cr(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Cr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ri(c){let y="";return O(c,function(w,x){y+=x,y+=":",y+=w,y+=`\r
`}),y}function os(c,y,w){e:{for(x in w){var x=!1;break e}x=!0}x||(w=Ri(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):_t(c,y,w))}function xt(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(xt,gt);var yh=/^https?$/i,Ka=["POST","PUT"];n=xt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,w,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ft.g(),this.v=this.o?Kr(this.o):Kr(ft),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Z){Zs(this,Z);return}if(c=w||"",w=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var q in x)w.set(q,x[q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Z of x.keys())w.set(Z,x.get(Z));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(w.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ka,y,void 0))||x||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,he]of w)this.g.setRequestHeader(Z,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Zs(this,Z)}};function Zs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Bo(c),Kn(c)}function Bo(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),Kn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},n.bb=function(){Ga(this)};function Ga(c){if(c.h&&typeof u<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)_i(c.Ea,0,c);else if(dt(c,"readystatechange"),jn(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var x;if(x=he===0){var q=String(c.D).match(Js)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),x=!yh.test(q?q.toLowerCase():"")}w=x}if(w)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var Z=2<jn(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",Bo(c)}}finally{Kn(c)}}}}function Kn(c,y){if(c.g){zo(c);const w=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||dt(c,"ready");try{w.onreadystatechange=x}catch{}}}function zo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Yi(y)}};function Qa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $o(c){const y={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(G(c[x]))continue;var w=V(c[x]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Z=y[q]||[];y[q]=Z,Z.push(w)}b(y,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function Ja(c){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,c),this.cb=Zr("retryDelaySeedMs",1e4,c),this.Wa=Zr("forwardChannelMaxRetries",2,c),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yt(c&&c.concurrentRequestLimit),this.Da=new gh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ja.prototype,n.la=8,n.G=1,n.connect=function(c,y,w,x){Q(0),this.W=c,this.H=y||{},w&&x!==void 0&&(this.H.OSID=w,this.H.OAID=x),this.F=this.X,this.I=Pu(this,null,this.W),ei(this)};function nn(c){if(Ho(c),c.G==3){var y=c.U++,w=qn(c.I);if(_t(w,"SID",c.K),_t(w,"RID",y),_t(w,"TYPE","terminate"),Ci(c,w),y=new Ge(c,c.j,y),y.L=2,y.v=rs(qn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.v,w=!0),w||(y.g=bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),rt(y)}Au(c)}function kr(c){c.g&&(Ya(c),c.g.cancel(),c.g=null)}function Ho(c){kr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Ko(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function ei(c){if(!Ot(c.h)&&!c.s){c.s=!0;var y=c.Ga;be||de(),ue||(be(),ue=!0),_e.add(y,c),c.B=0}}function vh(c,y){return Qs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=fe(T(c.Ga,c,y),ku(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Ge(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=C(Z),D(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var x=this.i[w];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=as(this,q,y),w=qn(this.I),_t(w,"RID",c),_t(w,"CVER",22),this.D&&_t(w,"X-HTTP-Session-Id",this.D),Ci(this,w),Z&&(this.O?y="headers="+encodeURIComponent(String(Ri(Z)))+"&"+y:this.m&&os(w,this.m,Z)),Wa(this.h,q),this.Ua&&_t(w,"TYPE","init"),this.P?(_t(w,"$req",y),_t(w,"SID","null"),q.T=!0,hn(q,w,null)):hn(q,w,y),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||Ot(this.h)||Wo(this))};function Wo(c,y){var w;y?w=y.l:w=c.U++;const x=qn(c.I);_t(x,"SID",c.K),_t(x,"RID",w),_t(x,"AID",c.T),Ci(c,x),c.m&&c.o&&os(x,c.m,c.o),w=new Ge(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=as(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Wa(c.h,w),hn(w,x,y)}function Ci(c,y){c.H&&O(c.H,function(w,x){_t(y,x,w)}),c.l&&es({},function(w,x){_t(y,x,w)})}function as(c,y,w){w=Math.min(c.i.length,w);var x=c.l?T(c.l.Na,c.l,c):null;e:{var q=c.i;let Z=-1;for(;;){const he=["count="+w];Z==-1?0<w?(Z=q[0].g,he.push("ofs="+Z)):Z=0:he.push("ofs="+Z);let mt=!0;for(let zt=0;zt<w;zt++){let it=q[zt].g;const Qt=q[zt].map;if(it-=Z,0>it)Z=Math.max(0,q[zt].g-100),mt=!1;else try{Iu(Qt,he,"req"+it+"_")}catch{x&&x(Qt)}}if(mt){x=he.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,x}function eo(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;be||de(),ue||(be(),ue=!0),_e.add(y,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=fe(T(c.Fa,c),ku(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=fe(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Q(10),kr(this),Cu(this))};function Ya(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Cu(c){c.g=new Ge(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=qn(c.qa);_t(y,"RID","rpc"),_t(y,"SID",c.K),_t(y,"AID",c.T),_t(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&_t(y,"TO",c.ja),_t(y,"TYPE","xmlhttp"),Ci(c,y),c.m&&c.o&&os(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=rs(qn(y)),w.m=null,w.P=!0,fn(w,c)}n.Za=function(){this.C!=null&&(this.C=null,kr(this),qo(this),Q(19))};function Ko(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Go(c,y){var w=null;if(c.g==y){Ko(c),Ya(c),c.g=null;var x=2}else if(en(c.h,y))w=y.D,vu(c.h,y),x=1;else return;if(c.G!=0){if(y.o)if(x==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;x=Ei(),dt(x,new ie(x,w)),ei(c)}else eo(c);else if(q=y.s,q==3||q==0&&0<y.X||!(x==1&&vh(c,y)||x==2&&qo(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),q){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function ku(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function ki(c,y){if(c.j.info("Error code "+y),y==2){var w=T(c.fb,c),x=c.Xa;const q=!x;x=new xi(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ys(x,"https"),rs(x),q?mh(x.toString(),w):xu(x.toString(),w)}else Q(2);c.G=0,c.l&&c.l.sa(y),Au(c),Ho(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Q(2)):(this.j.info("Failed to ping google.com"),Q(1))};function Au(c){if(c.G=0,c.ka=[],c.l){const y=_u(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Pu(c,y,w){var x=w instanceof xi?qn(w):new xi(w);if(x.g!="")y&&(x.g=y+"."+x.g),ts(x,x.s);else{var q=h.location;x=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Z=new xi(null);x&&Ys(Z,x),y&&(Z.g=y),q&&ts(Z,q),w&&(Z.l=w),x=Z}return w=c.D,y=c.ya,w&&y&&_t(x,w,y),_t(x,"VER",c.la),Ci(c,x),x}function bu(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new xt(new Ii({eb:w})):new xt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xa(){}n=Xa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qo(){}Qo.prototype.g=function(c,y){return new Rn(c,y)};function Rn(c,y){gt.call(this),this.g=new Ja(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!G(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ti(this)}R(Rn,gt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){nn(this.g)},Rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Ks(c),c=w);y.i.push(new Jr(y.Ya++,c)),y.G==3&&ei(y)},Rn.prototype.N=function(){this.g.l=null,delete this.j,nn(this.g),delete this.g,Rn.aa.N.call(this)};function Nu(c){ur.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}R(Nu,ur);function ju(){wi.call(this),this.status=1}R(ju,wi);function ti(c){this.g=c}R(ti,Xa),ti.prototype.ua=function(){dt(this.g,"a")},ti.prototype.ta=function(c){dt(this.g,new Nu(c))},ti.prototype.sa=function(c){dt(this.g,new ju)},ti.prototype.ra=function(){dt(this.g,"b")},Qo.prototype.createWebChannel=Qo.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,DT=function(){return new Qo},jT=function(){return Ei()},NT=In,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Be.NO_ERROR=0,Be.TIMEOUT=8,Be.HTTP_ERROR=6,Wc=Be,ht.COMPLETE="complete",bT=ht,Xi.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,bl=Xi,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,PT=xt}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const j_="@firebase/firestore",D_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new Em("@firebase/firestore");function va(){return Co.logLevel}function we(n,...e){if(Co.logLevel<=Je.DEBUG){const t=e.map(Om);Co.debug(`Firestore (${Fa}): ${n}`,...t)}}function $i(n,...e){if(Co.logLevel<=Je.ERROR){const t=e.map(Om);Co.error(`Firestore (${Fa}): ${n}`,...t)}}function ka(n,...e){if(Co.logLevel<=Je.WARN){const t=e.map(Om);Co.warn(`Firestore (${Fa}): ${n}`,...t)}}function Om(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,OT(n,r,t)}function OT(n,e,t){let r=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw $i(r),new Error(r)}function ut(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||OT(e,s,r)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_n.UNAUTHENTICATED))}shutdown(){}}class iP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sP{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ut(this.o===void 0,42304);let r=this.i;const s=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new js;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new js,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},h=p=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new js)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new LT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class oP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new oP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ut(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new O_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=uP(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function qe(n,e){return n<e?-1:n>e?1:0}function Np(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return qe(r,s);{const a=MT(),u=cP(a.encode(L_(n,t)),a.encode(L_(e,t)));return u!==0?u:qe(r,s)}}t+=r>65535?2:1}return qe(n.length,e.length)}function L_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function cP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return qe(n[t],e[t]);return qe(n.length,e.length)}function Aa(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=-62135596800,V_=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*V_);return new qt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<M_)throw new Ae(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-M_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new qt(0,0))}static max(){return new ze(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="__name__";class ai{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=ai.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return qe(e.length,t.length)}static compareSegments(e,t){const r=ai.isNumericId(e),s=ai.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ai.extractNumericId(e).compare(ai.extractNumericId(t)):Np(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class Nt extends ai{construct(e,t,r){return new Nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Nt(t)}static emptyPath(){return new Nt([])}}const dP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ai{construct(e,t,r){return new ln(e,t,r)}static isValidIdentifier(e){return dP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F_}static keyField(){return new ln([F_])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Ae(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Ae(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ae(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new Ae(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Nt.fromString(e))}static fromName(e){return new Pe(Nt.fromString(e).popFirst(5))}static empty(){return new Pe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function hP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=ze.fromTimestamp(r===1e9?new qt(t+1,0):new qt(t,r));return new Ls(s,Pe.empty(),e)}function fP(n){return new Ls(n.readTime,n.key,Wl)}class Ls{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ls(ze.min(),Pe.empty(),Wl)}static max(){return new Ls(ze.max(),Pe.empty(),Wl)}}function pP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==mP)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},p=>r(p))}),u=!0,a===s&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(s=>s?re.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new re((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let p=0;p<a;p++){const g=p;t(e[g]).next(_=>{u[g]=_,++h,h===a&&r(u)},_=>s(_))}})}static doWhile(e,t){return new re((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function yP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ba(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ud.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function Bd(n){return n==null}function hd(n){return n===0&&1/n==-1/0}function vP(n){return typeof n=="number"&&Number.isInteger(n)&&!hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="";function _P(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=U_(e)),e=wP(n.get(t),e);return U_(e)}function wP(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case FT:t+="";break;default:t+=a}}return t}function U_(n){return n+FT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ws(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??an.RED,this.left=s??an.EMPTY,this.right=a??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new an(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return an.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(e){return new z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new er([])}unionWith(e){let t=new Kt(ln.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new BT("Invalid base64 string: "+a):a}}(e);return new cn(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const EP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(n){if(ut(!!n,39018),typeof n=="string"){let e=0;const t=EP.exec(n);if(ut(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vs(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="server_timestamp",$T="__type__",HT="__previous_value__",WT="__local_write_time__";function Mm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$T])===null||t===void 0?void 0:t.stringValue)===zT}function zd(n){const e=n.mapValue.fields[HT];return Mm(e)?zd(e):e}function ql(n){const e=Ms(n.mapValue.fields[WT].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,t,r,s,a,u,h,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const fd="(default)";class Kl{constructor(e,t){this.projectId=e,this.database=t||fd}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===fd}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="__type__",SP="__max__",Nc={mapValue:{}},KT="__vector__",pd="value";function Fs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mm(n)?4:IP(n)?9007199254740991:xP(n)?10:11:Oe(28295,{value:n})}function pi(n,e){if(n===e)return!0;const t=Fs(n);if(t!==Fs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ql(n).isEqual(ql(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ms(s.timestampValue),h=Ms(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Vs(s.bytesValue).isEqual(Vs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Dt(s.geoPointValue.latitude)===Dt(a.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Dt(s.integerValue)===Dt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Dt(s.doubleValue),h=Dt(a.doubleValue);return u===h?hd(u)===hd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Aa(n.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(B_(u)!==B_(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!pi(u[p],h[p])))return!1;return!0}(n,e);default:return Oe(52216,{left:n})}}function Gl(n,e){return(n.values||[]).find(t=>pi(t,e))!==void 0}function Pa(n,e){if(n===e)return 0;const t=Fs(n),r=Fs(e);if(t!==r)return qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=Dt(a.integerValue||a.doubleValue),p=Dt(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return $_(n.timestampValue,e.timestampValue);case 4:return $_(ql(n),ql(e));case 5:return Np(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Vs(a),p=Vs(u);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),p=u.split("/");for(let g=0;g<h.length&&g<p.length;g++){const _=qe(h[g],p[g]);if(_!==0)return _}return qe(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=qe(Dt(a.latitude),Dt(u.latitude));return h!==0?h:qe(Dt(a.longitude),Dt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return H_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,p,g,_;const E=a.fields||{},T=u.fields||{},I=(h=E[pd])===null||h===void 0?void 0:h.arrayValue,R=(p=T[pd])===null||p===void 0?void 0:p.arrayValue,j=qe(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:H_(I,R)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Nc.mapValue&&u===Nc.mapValue)return 0;if(a===Nc.mapValue)return 1;if(u===Nc.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),g=u.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const T=Np(p[E],_[E]);if(T!==0)return T;const I=Pa(h[p[E]],g[_[E]]);if(I!==0)return I}return qe(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Oe(23264,{Pe:t})}}function $_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Ms(n),r=Ms(e),s=qe(t.seconds,r.seconds);return s!==0?s:qe(t.nanos,r.nanos)}function H_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Pa(t[s],r[s]);if(a)return a}return qe(t.length,r.length)}function ba(n){return jp(n)}function jp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ms(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Vs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=jp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${jp(t.fields[u])}`;return s+"}"}(n.mapValue):Oe(61005,{value:n})}function qc(n){switch(Fs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zd(n);return e?16+qc(e):16;case 5:return 2*n.stringValue.length;case 6:return Vs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+qc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ws(r.fields,(a,u)=>{s+=a.length+qc(u)}),s}(n.mapValue);default:throw Oe(13486,{value:n})}}function Dp(n){return!!n&&"integerValue"in n}function Vm(n){return!!n&&"arrayValue"in n}function W_(n){return!!n&&"nullValue"in n}function q_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kc(n){return!!n&&"mapValue"in n}function xP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qT])===null||t===void 0?void 0:t.stringValue)===KT}function Ml(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ws(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ml(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ml(n.arrayValue.values[t]);return e}return Object.assign({},n)}function IP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===SP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(t)}setAll(e){let t=ln.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Ml(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Kc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Kc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ws(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Bn(Ml(this.value))}}function GT(n){const e=[];return Ws(n.fields,(t,r)=>{const s=new ln([t]);if(Kc(r)){const a=GT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new wn(e,0,ze.min(),ze.min(),ze.min(),Bn.empty(),0)}static newFoundDocument(e,t,r,s){return new wn(e,1,t,ze.min(),r,s,0)}static newNoDocument(e,t){return new wn(e,2,t,ze.min(),ze.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,ze.min(),ze.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t){this.position=e,this.inclusive=t}}function K_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Pe.comparator(Pe.fromName(u.referenceValue),t.key):r=Pa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function G_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t="asc"){this.field=e,this.dir=t}}function RP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{}class Wt extends QT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new kP(e,t,r):t==="array-contains"?new bP(e,r):t==="in"?new NP(e,r):t==="not-in"?new jP(e,r):t==="array-contains-any"?new DP(e,r):new Wt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new AP(e,r):new PP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Pa(t,this.value)):t!==null&&Fs(this.value)===Fs(t)&&this.matchesComparison(Pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends QT{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new mi(e,t)}matches(e){return JT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function JT(n){return n.op==="and"}function YT(n){return CP(n)&&JT(n)}function CP(n){for(const e of n.filters)if(e instanceof mi)return!1;return!0}function Op(n){if(n instanceof Wt)return n.field.canonicalString()+n.op.toString()+ba(n.value);if(YT(n))return n.filters.map(e=>Op(e)).join(",");{const e=n.filters.map(t=>Op(t)).join(",");return`${n.op}(${e})`}}function XT(n,e){return n instanceof Wt?function(r,s){return s instanceof Wt&&r.op===s.op&&r.field.isEqual(s.field)&&pi(r.value,s.value)}(n,e):n instanceof mi?function(r,s){return s instanceof mi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&XT(u,s.filters[h]),!0):!1}(n,e):void Oe(19439)}function ZT(n){return n instanceof Wt?function(t){return`${t.field.canonicalString()} ${t.op} ${ba(t.value)}`}(n):n instanceof mi?function(t){return t.op.toString()+" {"+t.getFilters().map(ZT).join(" ,")+"}"}(n):"Filter"}class kP extends Wt{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class AP extends Wt{constructor(e,t){super(e,"in",t),this.keys=eS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PP extends Wt{constructor(e,t){super(e,"not-in",t),this.keys=eS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class bP extends Wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vm(t)&&Gl(t.arrayValue,this.value)}}class NP extends Wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gl(this.value.arrayValue,t)}}class jP extends Wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gl(this.value.arrayValue,t)}}class DP extends Wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.Ie=null}}function Q_(n,e=null,t=[],r=[],s=null,a=null,u=null){return new OP(n,e,t,r,s,a,u)}function Fm(n){const e=$e(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Op(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ba(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ba(r)).join(",")),e.Ie=t}return e.Ie}function Um(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!G_(n.startAt,e.startAt)&&G_(n.endAt,e.endAt)}function Lp(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function LP(n,e,t,r,s,a,u,h){return new $d(n,e,t,r,s,a,u,h)}function Bm(n){return new $d(n)}function J_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function MP(n){return n.collectionGroup!==null}function Vl(n){const e=$e(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Kt(ln.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new gd(a,r))}),t.has(ln.keyField().canonicalString())||e.Ee.push(new gd(ln.keyField(),r))}return e.Ee}function ci(n){const e=$e(n);return e.de||(e.de=VP(e,Vl(n))),e.de}function VP(n,e){if(n.limitType==="F")return Q_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new gd(s.field,a)});const t=n.endAt?new md(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new md(n.startAt.position,n.startAt.inclusive):null;return Q_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Mp(n,e,t){return new $d(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hd(n,e){return Um(ci(n),ci(e))&&n.limitType===e.limitType}function tS(n){return`${Fm(ci(n))}|lt:${n.limitType}`}function _a(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>ZT(s)).join(", ")}]`),Bd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ba(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ba(s)).join(",")),`Target(${r})`}(ci(n))}; limitType=${n.limitType})`}function Wd(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Vl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,p){const g=K_(u,h,p);return u.inclusive?g<=0:g<0}(r.startAt,Vl(r),s)||r.endAt&&!function(u,h,p){const g=K_(u,h,p);return u.inclusive?g>=0:g>0}(r.endAt,Vl(r),s))}(n,e)}function FP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nS(n){return(e,t)=>{let r=!1;for(const s of Vl(n)){const a=UP(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function UP(n,e,t){const r=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(a,u,h){const p=u.data.field(a),g=h.data.field(a);return p!==null&&g!==null?Pa(p,g):Oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=new At(Pe.comparator);function Hi(){return BP}const rS=new At(Pe.comparator);function Nl(...n){let e=rS;for(const t of n)e=e.insert(t.key,t);return e}function iS(n){let e=rS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wo(){return Fl()}function sS(){return Fl()}function Fl(){return new Oo(n=>n.toString(),(n,e)=>n.isEqual(e))}const zP=new At(Pe.comparator),$P=new Kt(Pe.comparator);function Ye(...n){let e=$P;for(const t of n)e=e.add(t);return e}const HP=new Kt(qe);function WP(){return HP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function oS(n){return{integerValue:""+n}}function qP(n,e){return vP(e)?oS(e):zm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this._=void 0}}function KP(n,e,t){return n instanceof yd?function(s,a){const u={fields:{[$T]:{stringValue:zT},[WT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Mm(a)&&(a=zd(a)),a&&(u.fields[HT]=a),{mapValue:u}}(t,e):n instanceof Ql?lS(n,e):n instanceof Jl?uS(n,e):function(s,a){const u=aS(s,a),h=Y_(u)+Y_(s.Re);return Dp(u)&&Dp(s.Re)?oS(h):zm(s.serializer,h)}(n,e)}function GP(n,e,t){return n instanceof Ql?lS(n,e):n instanceof Jl?uS(n,e):t}function aS(n,e){return n instanceof vd?function(r){return Dp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class yd extends qd{}class Ql extends qd{constructor(e){super(),this.elements=e}}function lS(n,e){const t=cS(e);for(const r of n.elements)t.some(s=>pi(s,r))||t.push(r);return{arrayValue:{values:t}}}class Jl extends qd{constructor(e){super(),this.elements=e}}function uS(n,e){let t=cS(e);for(const r of n.elements)t=t.filter(s=>!pi(s,r));return{arrayValue:{values:t}}}class vd extends qd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Y_(n){return Dt(n.integerValue||n.doubleValue)}function cS(n){return Vm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function QP(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Ql&&s instanceof Ql||r instanceof Jl&&s instanceof Jl?Aa(r.elements,s.elements,pi):r instanceof vd&&s instanceof vd?pi(r.Re,s.Re):r instanceof yd&&s instanceof yd}(n.transform,e.transform)}class JP{constructor(e,t){this.version=e,this.transformResults=t}}class di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Kd{}function dS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fS(n.key,di.none()):new hu(n.key,n.data,di.none());{const t=n.data,r=Bn.empty();let s=new Kt(ln.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new qs(n.key,r,new er(s.toArray()),di.none())}}function YP(n,e,t){n instanceof hu?function(s,a,u){const h=s.value.clone(),p=Z_(s.fieldTransforms,a,u.transformResults);h.setAll(p),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof qs?function(s,a,u){if(!Gc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Z_(s.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(hS(s)),p.setAll(h),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ul(n,e,t,r){return n instanceof hu?function(a,u,h,p){if(!Gc(a.precondition,u))return h;const g=a.value.clone(),_=ew(a.fieldTransforms,p,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof qs?function(a,u,h,p){if(!Gc(a.precondition,u))return h;const g=ew(a.fieldTransforms,p,u),_=u.data;return _.setAll(hS(a)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,r):function(a,u,h){return Gc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function XP(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=aS(r.transform,s||null);a!=null&&(t===null&&(t=Bn.empty()),t.set(r.field,a))}return t||null}function X_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Aa(r,s,(a,u)=>QP(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hu extends Kd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qs extends Kd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Z_(n,e,t){const r=new Map;ut(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,GP(u,h,t[s]))}return r}function ew(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,KP(a,u,e))}return r}class fS extends Kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZP extends Kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&YP(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ul(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ul(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sS();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const p=dS(u,h);p!==null&&r.set(s.key,p),u.isValidDocument()||u.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(t,r)=>X_(t,r))&&Aa(this.baseMutations,e.baseMutations,(t,r)=>X_(t,r))}}class $m{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ut(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return zP}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new $m(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,st;function rb(n){switch(n){case le.OK:return Oe(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function pS(n){if(n===void 0)return $i("GRPC error has no .code"),le.UNKNOWN;switch(n){case Vt.OK:return le.OK;case Vt.CANCELLED:return le.CANCELLED;case Vt.UNKNOWN:return le.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return le.INTERNAL;case Vt.UNAVAILABLE:return le.UNAVAILABLE;case Vt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Vt.NOT_FOUND:return le.NOT_FOUND;case Vt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Vt.ABORTED:return le.ABORTED;case Vt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Vt.DATA_LOSS:return le.DATA_LOSS;default:return Oe(39323,{code:n})}}(st=Vt||(Vt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Ns([4294967295,4294967295],0);function tw(n){const e=MT().encode(n),t=new AT;return t.update(e),new Uint8Array(t.digest())}function nw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ns([t,r],0),new Ns([s,a],0)]}class Hm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jl(`Invalid padding: ${t}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new jl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ns.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(Ns.fromNumber(r)));return s.compare(ib)===1&&(s=new Ns([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=tw(e),[r,s]=nw(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.be(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Hm(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=tw(e),[r,s]=nw(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Gd(ze.min(),s,new At(qe),Hi(),Ye())}}class fu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fu(r,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class mS{constructor(e,t){this.targetId=e,this.Ce=t}}class gS{constructor(e,t,r=cn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class rw{constructor(){this.Fe=0,this.Me=iw(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ye(),t=Ye(),r=Ye();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Oe(38017,{changeType:a})}}),new fu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=iw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ut(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sb{constructor(e){this.ze=e,this.je=new Map,this.He=Hi(),this.Je=jc(),this.Ye=jc(),this.Ze=new At(qe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const a=s.target;if(Lp(a))if(r===0){const u=new Pe(a.path);this.tt(t,u,wn.newNoDocument(u,ze.min()))}else ut(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),p=h?this.lt(h,e,u):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=Vs(r).toUint8Array()}catch(p){if(p instanceof BT)return ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Hm(u,s,a)}catch(p){return ka(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,a,null),s++)}),s}It(e){const t=new Map;this.je.forEach((a,u)=>{const h=this._t(u);if(h){if(a.current&&Lp(h.target)){const p=new Pe(h.target.path);this.Et(p).has(u)||this.dt(u,p)||this.tt(u,p,wn.newNoDocument(p,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let r=Ye();this.Ye.forEach((a,u)=>{let h=!0;u.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new Gd(e,t,this.Ze,this.He,r);return this.He=Hi(),this.Je=jc(),this.Ye=jc(),this.Ze=new At(qe),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new rw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Kt(qe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Kt(qe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new rw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function jc(){return new At(Pe.comparator)}function iw(){return new At(Pe.comparator)}const ob={asc:"ASCENDING",desc:"DESCENDING"},ab={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lb={and:"AND",or:"OR"};class ub{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vp(n,e){return n.useProto3Json||Bd(e)?e:{value:e}}function _d(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cb(n,e){return _d(n,e.toTimestamp())}function hi(n){return ut(!!n,49232),ze.fromTimestamp(function(t){const r=Ms(t);return new qt(r.seconds,r.nanos)}(n))}function Wm(n,e){return Fp(n,e).canonicalString()}function Fp(n,e){const t=function(s){return new Nt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function vS(n){const e=Nt.fromString(n);return ut(SS(e),10190,{key:e.toString()}),e}function Up(n,e){return Wm(n.databaseId,e.path)}function tp(n,e){const t=vS(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(wS(t))}function _S(n,e){return Wm(n.databaseId,e)}function db(n){const e=vS(n);return e.length===4?Nt.emptyPath():wS(e)}function Bp(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wS(n){return ut(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sw(n,e,t){return{name:Up(n,e),fields:t.value.mapValue.fields}}function hb(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(g,_){return g.useProto3Json?(ut(_===void 0||typeof _=="string",58123),cn.fromBase64String(_||"")):(ut(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),cn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const _=g.code===void 0?le.UNKNOWN:pS(g.code);return new Ae(_,g.message||"")}(u);t=new gS(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=tp(n,r.document.name),a=hi(r.document.updateTime),u=r.document.createTime?hi(r.document.createTime):ze.min(),h=new Bn({mapValue:{fields:r.document.fields}}),p=wn.newFoundDocument(s,a,u,h),g=r.targetIds||[],_=r.removedTargetIds||[];t=new Qc(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=tp(n,r.document),a=r.readTime?hi(r.readTime):ze.min(),u=wn.newNoDocument(s,a),h=r.removedTargetIds||[];t=new Qc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=tp(n,r.document),a=r.removedTargetIds||[];t=new Qc([],a,s,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new nb(s,a),h=r.targetId;t=new mS(h,u)}}return t}function fb(n,e){let t;if(e instanceof hu)t={update:sw(n,e.key,e.value)};else if(e instanceof fS)t={delete:Up(n,e.key)};else if(e instanceof qs)t={update:sw(n,e.key,e.data),updateMask:Tb(e.fieldMask)};else{if(!(e instanceof ZP))return Oe(16599,{ft:e.type});t={verify:Up(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof yd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ql)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Jl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof vd)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Oe(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:cb(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)}(n,e.precondition)),t}function pb(n,e){return n&&n.length>0?(ut(e!==void 0,14353),n.map(t=>function(s,a){let u=s.updateTime?hi(s.updateTime):hi(a);return u.isEqual(ze.min())&&(u=hi(a)),new JP(u,s.transformResults||[])}(t,e))):[]}function mb(n,e){return{documents:[_S(n,e.path)]}}function gb(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_S(n,s);const a=function(g){if(g.length!==0)return TS(mi.create(g,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:wa(T.field),direction:_b(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Vp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:s}}function yb(n){let e=db(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ut(r===1,65062);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const T=ES(E);return T instanceof mi&&YT(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(T=>function(R){return new gd(Ea(R.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(E){let T;return T=typeof E=="object"?E.value:E,Bd(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(E){const T=!!E.before,I=E.values||[];return new md(I,T)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const T=!E.before,I=E.values||[];return new md(I,T)}(t.endAt)),LP(e,s,u,a,h,"F",p,g)}function vb(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ES(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ea(t.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ea(t.unaryFilter.field);return Wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ea(t.unaryFilter.field);return Wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ea(t.unaryFilter.field);return Wt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Wt.create(Ea(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mi.create(t.compositeFilter.filters.map(r=>ES(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(t.compositeFilter.op))}(n):Oe(30097,{filter:n})}function _b(n){return ob[n]}function wb(n){return ab[n]}function Eb(n){return lb[n]}function wa(n){return{fieldPath:n.canonicalString()}}function Ea(n){return ln.fromServerFormat(n.fieldPath)}function TS(n){return n instanceof Wt?function(t){if(t.op==="=="){if(q_(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NAN"}};if(W_(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(q_(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NAN"}};if(W_(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(t.field),op:wb(t.op),value:t.value}}}(n):n instanceof mi?function(t){const r=t.getFilters().map(s=>TS(s));return r.length===1?r[0]:{compositeFilter:{op:Eb(t.op),filters:r}}}(n):Oe(54877,{filter:n})}function Tb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t,r,s,a=ze.min(),u=ze.min(),h=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.wt=e}}function xb(n){const e=yb({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.Cn=new Rb}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Ls.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class Rb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Kt(Nt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Kt(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xS=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(xS,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Na(0)}static lr(){return new Na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="LruGarbageCollector",Cb=1048576;function lw([n,e],[t,r]){const s=qe(n,t);return s===0?qe(e,r):s}class kb{constructor(e){this.Er=e,this.buffer=new Kt(lw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ab{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){we(aw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ba(t)?we(aw,"Ignoring IndexedDB error during garbage collection: ",t):await Ua(t)}await this.mr(3e5)})}}class Pb{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Ud.le);const r=new kb(t);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(ow)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ow):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,s,a,u,h,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,u=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(r=E,h=Date.now(),this.removeTargets(e,r,t))).next(E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(g=Date.now(),va()<=Je.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:E})))}}function bb(n,e){return new Pb(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.changes=new Oo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ul(r.mutation,s,er.empty(),qt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ye()){const s=wo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Nl();return a.forEach((h,p)=>{u=u.insert(h,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ye()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=Hi();const u=Fl(),h=function(){return Fl()}();return t.forEach((p,g)=>{const _=r.get(g.key);s.has(g.key)&&(_===void 0||_.mutation instanceof qs)?a=a.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),Ul(_.mutation,g,_.mutation.getFieldMask(),qt.now())):u.set(g.key,er.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((g,_)=>u.set(g,_)),t.forEach((g,_)=>{var E;return h.set(g,new jb(_,(E=u.get(g))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Fl();let s=new At((u,h)=>u-h),a=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=r.get(p)||er.empty();_=h.applyToLocalView(g,_),r.set(p,_);const E=(s.get(h.batchId)||Ye()).add(p);s=s.insert(h.batchId,E)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,_=p.value,E=sS();_.forEach(T=>{if(!a.has(T)){const I=dS(t.get(T),r.get(T));I!==null&&E.set(T,I),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,E))}return re.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):MP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):re.resolve(wo());let h=Wl,p=a;return u.next(g=>re.forEach(g,(_,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,p,g,Ye())).next(_=>({batchId:h,changes:iS(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(r=>{let s=Nl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Nl();return this.indexManager.getCollectionParents(e,a).next(h=>re.forEach(h,p=>{const g=function(E,T){return new $d(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,s).next(_=>{_.forEach((E,T)=>{u=u.insert(E,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((p,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,wn.newInvalidDocument(_)))});let h=Nl();return u.forEach((p,g)=>{const _=a.get(p);_!==void 0&&Ul(_.mutation,g,er.empty(),qt.now()),Wd(t,g)&&(h=h.insert(p,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return re.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:hi(s.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:xb(s.bundledQuery),readTime:hi(s.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.overlays=new At(Pe.comparator),this.Qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wo();return re.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.St(e,t,a)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const s=wo(),a=t.length+1,u=new Pe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&p.largestBatchId>r&&s.set(p.getKey(),p)}return re.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new At((g,_)=>g-_);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=a.get(g.largestBatchId);_===null&&(_=wo(),a=a.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=wo(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>h.set(g,_)),!(h.size()>=s)););return re.resolve(h)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new tb(t,r));let a=this.Qr.get(t);a===void 0&&(a=Ye(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.$r=new Kt(Zt.Ur),this.Kr=new Kt(Zt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Zt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Zt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Pe(new Nt([])),r=new Zt(t,e),s=new Zt(t,e+1),a=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),a.push(u.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Pe(new Nt([])),r=new Zt(t,e),s=new Zt(t,e+1);let a=Ye();return this.Kr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Zt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Pe.comparator(e.key,t.key)||qe(e.Zr,t.Zr)}static Wr(e,t){return qe(e.Zr,t.Zr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Kt(Zt.Ur)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new eb(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Xr=this.Xr.add(new Zt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ti(r),a=s<0?0:s;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Lm:this.nr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zt(t,0),s=new Zt(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,s],u=>{const h=this.ei(u.Zr);a.push(h)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kt(qe);return t.forEach(s=>{const a=new Zt(s,0),u=new Zt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,u],h=>{r=r.add(h.Zr)})}),re.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Pe.isDocumentKey(a)||(a=a.child(""));const u=new Zt(new Pe(a),0);let h=new Kt(qe);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===s&&(h=h.add(p.Zr)),!0)},u),re.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ut(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return re.forEach(t.mutations,s=>{const a=new Zt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Zt(t,0),s=this.Xr.firstAfterOrEqual(r);return re.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.ii=e,this.docs=function(){return new At(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let r=Hi();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():wn.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Hi();const u=t.path,h=new Pe(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||pP(fP(_),r)<=0||(s.has(_.key)||Wd(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Oe(9500)}si(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ub(this)}getSize(e){return re.resolve(this.size)}}class Ub extends Nb{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.persistence=e,this.oi=new Oo(t=>Fm(t),Um),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this._i=0,this.ai=new qm,this.targetCount=0,this.ui=Na.cr()}forEachTarget(e,t){return this.oi.forEach((r,s)=>t(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),re.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Na(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Tr(t),re.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),re.waitFor(a).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t){this.ci={},this.overlays={},this.li=new Ud(0),this.hi=!1,this.hi=!0,this.Pi=new Mb,this.referenceDelegate=e(this),this.Ti=new Bb(this),this.indexManager=new Ib,this.remoteDocumentCache=function(s){return new Fb(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Sb(t),this.Ei=new Ob(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new Vb(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const s=new zb(this.li.next());return this.referenceDelegate.di(),r(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,t){return re.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class zb extends gP{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Vi=new qm,this.mi=null}static fi(e){return new Km(e)}get gi(){if(this.mi)return this.mi;throw Oe(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.gi,r=>{const s=Pe.fromPath(r);return this.pi(e,s).next(a=>{a||t.removeEntry(s,ze.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return re.or([()=>re.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class wd{constructor(e,t){this.persistence=e,this.yi=new Oo(r=>_P(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=bb(this,t)}static fi(e,t){return new wd(e,t)}di(){}Ai(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return re.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(a=>a?re.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,t).next(h=>{h||(r++,a.removeEntry(u,ze.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),re.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qc(e.data.value)),t}Dr(e,t,r){return re.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ds=r,this.As=s}static Rs(e,t){let r=Ye(),s=Ye();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Gm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return VC()?8:yP(Tn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ws(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.bs(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new $b;return this.Ss(e,t,u).next(h=>{if(a.result=h,this.fs)return this.Ds(e,t,u,h.size)})}).next(()=>a.result)}Ds(e,t,r,s){return r.documentReadCount<this.gs?(va()<=Je.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",_a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),re.resolve()):(va()<=Je.DEBUG&&we("QueryEngine","Query:",_a(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(va()<=Je.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",_a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(t))):re.resolve())}ws(e,t){if(J_(t))return re.resolve(null);let r=ci(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Mp(t,null,"F"),r=ci(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ye(...a);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(p=>{const g=this.vs(t,h);return this.Cs(t,g,u,p.readTime)?this.ws(e,Mp(t,null,"F")):this.Fs(e,g,t,p)}))})))}bs(e,t,r,s){return J_(t)||s.isEqual(ze.min())?re.resolve(null):this.ys.getDocuments(e,r).next(a=>{const u=this.vs(t,a);return this.Cs(t,u,r,s)?re.resolve(null):(va()<=Je.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_a(t)),this.Fs(e,u,t,hP(s,Wl)).next(h=>h))})}vs(e,t){let r=new Kt(nS(e));return t.forEach((s,a)=>{Wd(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return va()<=Je.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",_a(t)),this.ys.getDocumentsMatchingQuery(e,t,Ls.min(),r)}Fs(e,t,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="LocalStore",Wb=3e8;class qb{constructor(e,t,r,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new At(qe),this.Os=new Oo(a=>Fm(a),Um),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Db(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Kb(n,e,t,r){return new qb(n,e,t,r)}async function RS(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let p=Ye();for(const g of s){u.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of a){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next(g=>({ks:g,removedBatchIds:u,addedBatchIds:h}))})})}function Gb(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,p,g,_){const E=g.batch,T=E.keys();let I=re.resolve();return T.forEach(R=>{I=I.next(()=>_.getEntry(p,R)).next(j=>{const k=g.docVersions.get(R);ut(k!==null,48541),j.version.compareTo(k)<0&&(E.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),_.addEntry(j)))})}),I.next(()=>h.mutationQueue.removeMutationBatch(p,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let p=Ye();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(p=p.add(h.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function CS(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Qb(n,e){const t=$e(n),r=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const h=[];e.targetChanges.forEach((_,E)=>{const T=s.get(E);if(!T)return;h.push(t.Ti.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.Ti.addMatchingKeys(a,_.addedDocuments,E)));let I=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(cn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,r)),s=s.insert(E,I),function(j,k,F){return j.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=Wb?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,I,_)&&h.push(t.Ti.updateTargetData(a,I))});let p=Hi(),g=Ye();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),h.push(Jb(a,u,e.documentUpdates).next(_=>{p=_.qs,g=_.Qs})),!r.isEqual(ze.min())){const _=t.Ti.getLastRemoteSnapshotVersion(a).next(E=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(_)}return re.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,g)).next(()=>p)}).then(a=>(t.xs=s,a))}function Jb(n,e,t){let r=Ye(),s=Ye();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Hi();return t.forEach((h,p)=>{const g=a.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(h)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):we(Qm,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)}),{qs:u,Qs:s}})}function Yb(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xb(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ti.getTargetData(r,e).next(a=>a?(s=a,re.resolve(s)):t.Ti.allocateTargetId(r).next(u=>(s=new ks(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function zp(n,e,t){const r=$e(n),s=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Ba(u))throw u;we(Qm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function uw(n,e,t){const r=$e(n);let s=ze.min(),a=Ye();return r.persistence.runTransaction("Execute query","readwrite",u=>function(p,g,_){const E=$e(p),T=E.Os.get(_);return T!==void 0?re.resolve(E.xs.get(T)):E.Ti.getTargetData(g,_)}(r,u,ci(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(p=>{a=p})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?s:ze.min(),t?a:Ye())).next(h=>(Zb(r,FP(e),h),{documents:h,$s:a})))}function Zb(n,e,t){let r=n.Ns.get(e)||ze.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class cw{constructor(){this.activeTargetIds=WP()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eN{constructor(){this.xo=new cw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new cw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="ConnectivityMonitor";class hw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){we(dw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){we(dw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function $p(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",nN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===fd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,t,r,s,a){const u=$p(),h=this.jo(e,t.toUriEncodedString());we(np,`Sending RPC '${e}' ${u}:`,h,r);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,s,a);const{host:g}=new URL(h),_=ou(g);return this.Jo(e,h,p,r,_).then(E=>(we(np,`Received RPC '${e}' ${u}: `,E),E),E=>{throw ka(np,`RPC '${e}' ${u} failed with error: `,E,"url: ",h,"request:",r),E})}Yo(e,t,r,s,a,u){return this.zo(e,t,r,s,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}jo(e,t){const r=nN[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class sN extends rN{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const u=$p();return new Promise((h,p)=>{const g=new PT;g.setWithCredentials(!0),g.listenOnce(bT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Wc.NO_ERROR:const E=g.getResponseJson();we(vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case Wc.TIMEOUT:we(vn,`RPC '${e}' ${u} timed out`),p(new Ae(le.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const T=g.getStatus();if(we(vn,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I==null?void 0:I.error;if(R&&R.status&&R.message){const j=function(F){const G=F.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(G)>=0?G:le.UNKNOWN}(R.status);p(new Ae(j,R.message))}else p(new Ae(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ae(le.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{h_:e,streamId:u,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{we(vn,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(s);we(vn,`RPC '${e}' ${u} sending request:`,s),g.send(t,"POST",_,r,15)})}I_(e,t,r){const s=$p(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=DT(),h=jT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=a.join("");we(vn,`Creating RPC '${e}' stream ${s}: ${_}`,p);const E=u.createWebChannel(_,p);this.E_(E);let T=!1,I=!1;const R=new iN({Zo:k=>{I?we(vn,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(T||(we(vn,`Opening RPC '${e}' stream ${s} transport.`),E.open(),T=!0),we(vn,`RPC '${e}' stream ${s} sending:`,k),E.send(k))},Xo:()=>E.close()}),j=(k,F,G)=>{k.listen(F,H=>{try{G(H)}catch(X){setTimeout(()=>{throw X},0)}})};return j(E,bl.EventType.OPEN,()=>{I||(we(vn,`RPC '${e}' stream ${s} transport opened.`),R.__())}),j(E,bl.EventType.CLOSE,()=>{I||(I=!0,we(vn,`RPC '${e}' stream ${s} transport closed`),R.u_(),this.d_(E))}),j(E,bl.EventType.ERROR,k=>{I||(I=!0,ka(vn,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),R.u_(new Ae(le.UNAVAILABLE,"The operation could not be completed")))}),j(E,bl.EventType.MESSAGE,k=>{var F;if(!I){const G=k.data[0];ut(!!G,16349);const H=G,X=(H==null?void 0:H.error)||((F=H[0])===null||F===void 0?void 0:F.error);if(X){we(vn,`RPC '${e}' stream ${s} received error:`,X);const ne=X.status;let O=function(A){const D=Vt[A];if(D!==void 0)return pS(D)}(ne),b=X.message;O===void 0&&(O=le.INTERNAL,b="Unknown error status: "+ne+" with message "+X.message),I=!0,R.u_(new Ae(O,b)),E.close()}else we(vn,`RPC '${e}' stream ${s} received:`,G),R.c_(G)}}),j(h,NT.STAT_EVENT,k=>{k.stat===bp.PROXY?we(vn,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===bp.NOPROXY&&we(vn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n){return new ub(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,r=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=s,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,t-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="PersistentStream";class AS{constructor(e,t,r,s,a,u,h,p){this.xi=e,this.S_=r,this.D_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new kS(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?($i(t.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===t&&this.z_(r,s)},r=>{e(()=>{const s=new Ae(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return we(fw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(we(fw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oN extends AS{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=hb(this.serializer,e),r=function(a){if(!("targetChange"in a))return ze.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ze.min():u.readTime?hi(u.readTime):ze.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=Bp(this.serializer),t.addTarget=function(a,u){let h;const p=u.target;if(h=Lp(p)?{documents:mb(a,p)}:{query:gb(a,p).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=yS(a,u.resumeToken);const g=Vp(a,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(ze.min())>0){h.readTime=_d(a,u.snapshotVersion.toTimestamp());const g=Vp(a,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const r=vb(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=Bp(this.serializer),t.removeTarget=e,this.Q_(t)}}class aN extends AS{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=pb(e.writeResults,e.commitTime),r=hi(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=Bp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fb(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{}class uN extends lN{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Ae(le.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.zo(e,Fp(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(le.UNKNOWN,a.toString())})}Yo(e,t,r,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,Fp(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(le.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class cN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?($i(t),this.ua=!1):we("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="RemoteStore";class dN{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(u=>{r.enqueueAndForget(async()=>{Lo(this)&&(we(ko,"Restarting streams for network reachability change."),await async function(p){const g=$e(p);g.da.add(4),await pu(g),g.Va.set("Unknown"),g.da.delete(4),await Jd(g)}(this))})}),this.Va=new cN(r,s)}}async function Jd(n){if(Lo(n))for(const e of n.Aa)await e(!0)}async function pu(n){for(const e of n.Aa)await e(!1)}function PS(n,e){const t=$e(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Zm(t)?Xm(t):za(t).N_()&&Ym(t,e))}function Jm(n,e){const t=$e(n),r=za(t);t.Ea.delete(e),r.N_()&&bS(t,e),t.Ea.size===0&&(r.N_()?r.k_():Lo(t)&&t.Va.set("Unknown"))}function Ym(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}za(n).Z_(e)}function bS(n,e){n.ma.Ke(e),za(n).X_(e)}function Xm(n){n.ma=new sb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),za(n).start(),n.Va.ca()}function Zm(n){return Lo(n)&&!za(n).O_()&&n.Ea.size>0}function Lo(n){return $e(n).da.size===0}function NS(n){n.ma=void 0}async function hN(n){n.Va.set("Online")}async function fN(n){n.Ea.forEach((e,t)=>{Ym(n,e)})}async function pN(n,e){NS(n),Zm(n)?(n.Va.Pa(e),Xm(n)):n.Va.set("Unknown")}async function mN(n,e,t){if(n.Va.set("Online"),e instanceof gS&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.Ea.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ea.delete(h),s.ma.removeTarget(h))}(n,e)}catch(r){we(ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ed(n,r)}else if(e instanceof Qc?n.ma.Xe(e):e instanceof mS?n.ma.ot(e):n.ma.nt(e),!t.isEqual(ze.min()))try{const r=await CS(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.ma.It(u);return h.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.Ea.get(g);_&&a.Ea.set(g,_.withResumeToken(p.resumeToken,u))}}),h.targetMismatches.forEach((p,g)=>{const _=a.Ea.get(p);if(!_)return;a.Ea.set(p,_.withResumeToken(cn.EMPTY_BYTE_STRING,_.snapshotVersion)),bS(a,p);const E=new ks(_.target,p,g,_.sequenceNumber);Ym(a,E)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){we(ko,"Failed to raise snapshot:",r),await Ed(n,r)}}async function Ed(n,e,t){if(!Ba(e))throw e;n.da.add(1),await pu(n),n.Va.set("Offline"),t||(t=()=>CS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we(ko,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Jd(n)})}function jS(n,e){return e().catch(t=>Ed(n,t,e))}async function Yd(n){const e=$e(n),t=Us(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Lm;for(;gN(e);)try{const s=await Yb(e.localStore,r);if(s===null){e.Ia.length===0&&t.k_();break}r=s.batchId,yN(e,s)}catch(s){await Ed(e,s)}DS(e)&&OS(e)}function gN(n){return Lo(n)&&n.Ia.length<10}function yN(n,e){n.Ia.push(e);const t=Us(n);t.N_()&&t.ea&&t.ta(e.mutations)}function DS(n){return Lo(n)&&!Us(n).O_()&&n.Ia.length>0}function OS(n){Us(n).start()}async function vN(n){Us(n).ia()}async function _N(n){const e=Us(n);for(const t of n.Ia)e.ta(t.mutations)}async function wN(n,e,t){const r=n.Ia.shift(),s=$m.from(r,e,t);await jS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Yd(n)}async function EN(n,e){e&&Us(n).ea&&await async function(r,s){if(function(u){return rb(u)&&u!==le.ABORTED}(s.code)){const a=r.Ia.shift();Us(r).L_(),await jS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Yd(r)}}(n,e),DS(n)&&OS(n)}async function pw(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),we(ko,"RemoteStore received new credentials");const r=Lo(t);t.da.add(3),await pu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Jd(t)}async function TN(n,e){const t=$e(n);e?(t.da.delete(2),await Jd(t)):e||(t.da.add(2),await pu(t),t.Va.set("Unknown"))}function za(n){return n.fa||(n.fa=function(t,r,s){const a=$e(t);return a.oa(),new oN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{e_:hN.bind(null,n),n_:fN.bind(null,n),i_:pN.bind(null,n),Y_:mN.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Zm(n)?Xm(n):n.Va.set("Unknown")):(await n.fa.stop(),NS(n))})),n.fa}function Us(n){return n.ga||(n.ga=function(t,r,s){const a=$e(t);return a.oa(),new aN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:vN.bind(null,n),i_:EN.bind(null,n),na:_N.bind(null,n),ra:wN.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Yd(n)):(await n.ga.stop(),n.Ia.length>0&&(we(ko,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new eg(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(n,e){if($i("AsyncQueue",`${e}: ${n}`),Ba(n))return new Ae(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{static emptySet(e){return new Ia(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=Nl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.pa=new At(Pe.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Oe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class ja{constructor(e,t,r,s,a,u,h,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ja(e,t,Ia.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class xN{constructor(){this.queries=gw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=$e(t),a=s.queries;s.queries=gw(),a.forEach((u,h)=>{for(const p of h.Sa)p.onError(r)})})(this,new Ae(le.ABORTED,"Firestore shutting down"))}}function gw(){return new Oo(n=>tS(n),Hd)}async function IN(n,e){const t=$e(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Da()&&e.va()&&(r=2):(a=new SN,r=e.va()?0:1);try{switch(r){case 0:a.ba=await t.onListen(s,!0);break;case 1:a.ba=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=tg(u,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&ng(t)}async function RN(n,e){const t=$e(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.va()?0:1:!a.Da()&&e.va()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function CN(n,e){const t=$e(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.Sa)h.Ma(s)&&(r=!0);u.ba=s}}r&&ng(t)}function kN(n,e,t){const r=$e(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function ng(n){n.Ca.forEach(e=>{e.next()})}var Hp,yw;(yw=Hp||(Hp={})).xa="default",yw.Cache="cache";class AN{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.key=e}}class MS{constructor(e){this.key=e}}class PN{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.Za=nS(e),this.Xa=new Ia(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new mw,s=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,E)=>{const T=s.get(_),I=Wd(this.query,E)?E:null,R=!!T&&this.mutatedKeys.has(T.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;T&&I?T.data.isEqual(I.data)?R!==j&&(r.track({type:3,doc:I}),k=!0):this.ru(T,I)||(r.track({type:2,doc:I}),k=!0,(p&&this.Za(I,p)>0||g&&this.Za(I,g)<0)&&(h=!0)):!T&&I?(r.track({type:0,doc:I}),k=!0):T&&!I&&(r.track({type:1,doc:T}),k=!0,(p||g)&&(h=!0)),k&&(I?(u=u.add(I),a=j?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{Xa:u,nu:r,Cs:h,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((_,E)=>function(I,R){const j=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:k})}};return j(I)-j(R)}(_.type,E.type)||this.Za(_.doc,E.doc)),this.iu(r),s=s!=null&&s;const h=t&&!s?this.su():[],p=this.Ya.size===0&&this.current&&!s?1:0,g=p!==this.Ja;return this.Ja=p,u.length!==0||g?{snapshot:new ja(this.query,e.Xa,a,u,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new mw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new MS(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new LS(r))}),t}au(e){this.Ha=e.$s,this.Ya=Ye();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ja.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const rg="SyncEngine";class bN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class NN{constructor(e){this.key=e,this.cu=!1}}class jN{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new Oo(h=>tS(h),Hd),this.Pu=new Map,this.Tu=new Set,this.Iu=new At(Pe.comparator),this.Eu=new Map,this.du=new qm,this.Au={},this.Ru=new Map,this.Vu=Na.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function DN(n,e,t=!0){const r=$S(n);let s;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.uu()):s=await VS(r,e,t,!0),s}async function ON(n,e){const t=$S(n);await VS(t,e,!0,!1)}async function VS(n,e,t,r){const s=await Xb(n.localStore,ci(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await LN(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&PS(n.remoteStore,s),h}async function LN(n,e,t,r,s){n.fu=(E,T,I)=>async function(j,k,F,G){let H=k.view.tu(F);H.Cs&&(H=await uw(j.localStore,k.query,!1).then(({documents:b})=>k.view.tu(b,H)));const X=G&&G.targetChanges.get(k.targetId),ne=G&&G.targetMismatches.get(k.targetId)!=null,O=k.view.applyChanges(H,j.isPrimaryClient,X,ne);return _w(j,k.targetId,O.ou),O.snapshot}(n,E,T,I);const a=await uw(n.localStore,e,!0),u=new PN(e,a.$s),h=u.tu(a.documents),p=fu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),g=u.applyChanges(h,n.isPrimaryClient,p);_w(n,t,g.ou);const _=new bN(e,t,u);return n.hu.set(e,_),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),g.snapshot}async function MN(n,e,t){const r=$e(n),s=r.hu.get(e),a=r.Pu.get(s.targetId);if(a.length>1)return r.Pu.set(s.targetId,a.filter(u=>!Hd(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Jm(r.remoteStore,s.targetId),Wp(r,s.targetId)}).catch(Ua)):(Wp(r,s.targetId),await zp(r.localStore,s.targetId,!0))}async function VN(n,e){const t=$e(n),r=t.hu.get(e),s=t.Pu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Jm(t.remoteStore,r.targetId))}async function FN(n,e,t){const r=qN(n);try{const s=await function(u,h){const p=$e(u),g=qt.now(),_=h.reduce((I,R)=>I.add(R.key),Ye());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=Hi(),j=Ye();return p.Bs.getEntries(I,_).next(k=>{R=k,R.forEach((F,G)=>{G.isValidDocument()||(j=j.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,R)).next(k=>{E=k;const F=[];for(const G of h){const H=XP(G,E.get(G.key).overlayedDocument);H!=null&&F.push(new qs(G.key,H,GT(H.value.mapValue),di.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,F,h)}).next(k=>{T=k;const F=k.applyToLocalDocumentSet(E,j);return p.documentOverlayCache.saveOverlays(I,k.batchId,F)})}).then(()=>({batchId:T.batchId,changes:iS(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,p){let g=u.Au[u.currentUser.toKey()];g||(g=new At(qe)),g=g.insert(h,p),u.Au[u.currentUser.toKey()]=g}(r,s.batchId,t),await mu(r,s.changes),await Yd(r.remoteStore)}catch(s){const a=tg(s,"Failed to persist write");t.reject(a)}}async function FS(n,e){const t=$e(n);try{const r=await Qb(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Eu.get(a);u&&(ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?ut(u.cu,14607):s.removedDocuments.size>0&&(ut(u.cu,42227),u.cu=!1))}),await mu(t,r,e)}catch(r){await Ua(r)}}function vw(n,e,t){const r=$e(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.hu.forEach((a,u)=>{const h=u.view.Fa(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const p=$e(u);p.onlineState=h;let g=!1;p.queries.forEach((_,E)=>{for(const T of E.Sa)T.Fa(h)&&(g=!0)}),g&&ng(p)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UN(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Eu.get(e),a=s&&s.key;if(a){let u=new At(Pe.comparator);u=u.insert(a,wn.newNoDocument(a,ze.min()));const h=Ye().add(a),p=new Gd(ze.min(),new Map,new At(qe),u,h);await FS(r,p),r.Iu=r.Iu.remove(a),r.Eu.delete(e),ig(r)}else await zp(r.localStore,e,!1).then(()=>Wp(r,e,t)).catch(Ua)}async function BN(n,e){const t=$e(n),r=e.batch.batchId;try{const s=await Gb(t.localStore,e);BS(t,r,null),US(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await mu(t,s)}catch(s){await Ua(s)}}async function zN(n,e,t){const r=$e(n);try{const s=await function(u,h){const p=$e(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,h).next(E=>(ut(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(r.localStore,e);BS(r,e,t),US(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await mu(r,s)}catch(s){await Ua(s)}}function US(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function BS(n,e,t){const r=$e(n);let s=r.Au[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Wp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||zS(n,r)})}function zS(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Jm(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),ig(n))}function _w(n,e,t){for(const r of t)r instanceof LS?(n.du.addReference(r.key,e),$N(n,r)):r instanceof MS?(we(rg,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||zS(n,r.key)):Oe(19791,{pu:r})}function $N(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(we(rg,"New document in limbo: "+t),n.Tu.add(r),ig(n))}function ig(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Pe(Nt.fromString(e)),r=n.Vu.next();n.Eu.set(r,new NN(t)),n.Iu=n.Iu.insert(t,r),PS(n.remoteStore,new ks(ci(Bm(t.path)),r,"TargetPurposeLimboResolution",Ud.le))}}async function mu(n,e,t){const r=$e(n),s=[],a=[],u=[];r.hu.isEmpty()||(r.hu.forEach((h,p)=>{u.push(r.fu(p,e,t).then(g=>{var _;if((g||t)&&r.isPrimaryClient){const E=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){s.push(g);const E=Gm.Rs(p.targetId,g);a.push(E)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(p,g){const _=$e(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>re.forEach(g,T=>re.forEach(T.ds,I=>_.persistence.referenceDelegate.addReference(E,T.targetId,I)).next(()=>re.forEach(T.As,I=>_.persistence.referenceDelegate.removeReference(E,T.targetId,I)))))}catch(E){if(!Ba(E))throw E;we(Qm,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const I=_.xs.get(T),R=I.snapshotVersion,j=I.withLastLimboFreeSnapshotVersion(R);_.xs=_.xs.insert(T,j)}}}(r.localStore,a))}async function HN(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){we(rg,"User change. New user:",e.toKey());const r=await RS(t.localStore,e);t.currentUser=e,function(a,u){a.Ru.forEach(h=>{h.forEach(p=>{p.reject(new Ae(le.CANCELLED,u))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(t,r.ks)}}function WN(n,e){const t=$e(n),r=t.Eu.get(e);if(r&&r.cu)return Ye().add(r.key);{let s=Ye();const a=t.Pu.get(e);if(!a)return s;for(const u of a){const h=t.hu.get(u);s=s.unionWith(h.view.eu)}return s}}function $S(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UN.bind(null,e),e.lu.Y_=CN.bind(null,e.eventManager),e.lu.gu=kN.bind(null,e.eventManager),e}function qN(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zN.bind(null,e),e}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return Kb(this.persistence,new Hb,e.initialUser,this.serializer)}Su(e){return new IS(Km.fi,this.serializer)}bu(e){return new eN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class KN extends Td{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ut(this.persistence.referenceDelegate instanceof wd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ab(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new IS(r=>wd.fi(r,t),this.serializer)}}class qp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HN.bind(null,this.syncEngine),await TN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xN}()}createDatastore(e){const t=Qd(e.databaseInfo.databaseId),r=function(a){return new sN(a)}(e.databaseInfo);return function(a,u,h,p){return new uN(a,u,h,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new dN(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>vw(this.syncEngine,t,0),function(){return hw.C()?new hw:new tN}())}createSyncEngine(e,t){return function(s,a,u,h,p,g,_){const E=new jN(s,a,u,h,p,g);return _&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=$e(s);we(ko,"RemoteStore shutting down."),a.da.add(5),await pu(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}qp.provider={build:()=>new qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="FirestoreClient";class QN{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=_n.UNAUTHENTICATED,this.clientId=VT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{we(Bs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(we(Bs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=tg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ip(n,e){n.asyncQueue.verifyOperationInProgress(),we(Bs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ww(n,e){n.asyncQueue.verifyOperationInProgress();const t=await JN(n);we(Bs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>pw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>pw(e.remoteStore,s)),n._onlineComponents=e}async function JN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(Bs,"Using user provided OfflineComponentProvider");try{await ip(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ka("Error using user provided cache. Falling back to memory cache: "+t),await ip(n,new Td)}}else we(Bs,"Using default OfflineComponentProvider"),await ip(n,new KN(void 0));return n._offlineComponents}async function HS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(Bs,"Using user provided OnlineComponentProvider"),await ww(n,n._uninitializedComponentsProvider._online)):(we(Bs,"Using default OnlineComponentProvider"),await ww(n,new qp))),n._onlineComponents}function YN(n){return HS(n).then(e=>e.syncEngine)}async function XN(n){const e=await HS(n),t=e.eventManager;return t.onListen=DN.bind(null,e.syncEngine),t.onUnlisten=MN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ON.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VN.bind(null,e.syncEngine),t}function ZN(n,e,t={}){const r=new js;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,p,g){const _=new GN({next:T=>{_.xu(),u.enqueueAndForget(()=>RN(a,E));const I=T.docs.has(h);!I&&T.fromCache?g.reject(new Ae(le.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&p&&p.source==="server"?g.reject(new Ae(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new AN(Bm(h.path),_,{includeMetadataChanges:!0,Qa:!0});return IN(a,E)}(await XN(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(n,e,t){if(!t)throw new Ae(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tj(n,e,t,r){if(e===!0&&r===!0)throw new Ae(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Tw(n){if(!Pe.isDocumentKey(n))throw new Ae(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function Ao(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sg(n);throw new Ae(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firestore.googleapis.com",Sw=!0;class xw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=Sw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Sw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Cb)throw new Ae(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ae(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ae(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ae(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class og{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rP;switch(r.type){case"firstParty":return new aP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Ew.get(t);r&&(we("ComponentProvider","Removing Datastore"),Ew.delete(t),r.terminate())}(this),Promise.resolve()}}function nj(n,e,t,r={}){var s;n=Ao(n,og);const a=ou(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;a&&($E(`https://${p}`),HE("Firestore",!0)),u.host!==qS&&u.host!==p&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:p,ssl:a,emulatorOptions:r});if(!xo(g,h)&&(n._setSettings(g),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=_n.MOCK_USER;else{_=AC(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Ae(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new _n(T)}n._authCredentials=new iP(new LT(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ag(this.firestore,e,this._query)}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class Yl extends ag{constructor(e,t,r){super(e,t,Bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Pe(e))}withConverter(e){return new Yl(this.firestore,e,this._path)}}function Ds(n,e,...t){if(n=Pn(n),arguments.length===1&&(e=VT.newId()),ej("doc","path",e),n instanceof og){const r=Nt.fromString(e,...t);return Tw(r),new tr(n,null,new Pe(r))}{if(!(n instanceof tr||n instanceof Yl))throw new Ae(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nt.fromString(e,...t));return Tw(r),new tr(n.firestore,n instanceof Yl?n.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="AsyncQueue";class Rw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new kS(this,"async_queue_retry"),this.rc=()=>{const r=rp();r&&we(Iw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new js;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ba(e))throw e;we(Iw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,$i("INTERNAL UNHANDLED ERROR: ",Cw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const s=eg.createAndSchedule(this,e,t,r,a=>this.uc(a));return this.Zu.push(s),s}oc(){this.Xu&&Oe(47125,{cc:Cw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Cw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Xd extends og{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Rw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rw(e),this._firestoreClient=void 0,await e}}}function KS(n,e){const t=typeof n=="object"?n:GE(),r=typeof n=="string"?n:fd,s=Sm(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=CC("firestore");a&&nj(s,...a)}return s}function GS(n){if(n._terminated)throw new Ae(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rj(n),n._firestoreClient}function rj(n){var e,t,r;const s=n._freezeSettings(),a=function(h,p,g,_){return new TP(h,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,WS(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new QN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Da(cn.fromBase64String(e))}catch(t){throw new Ae(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Da(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=/^__.*__$/;class sj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}class QS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function JS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ic:n})}}class dg{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Sd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(JS(this.Ic)&&ij.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class oj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qd(e)}bc(e,t,r,s=!1){return new dg({Ic:e,methodName:t,wc:r,path:ln.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YS(n){const e=n._freezeSettings(),t=Qd(n._databaseId);return new oj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aj(n,e,t,r,s,a={}){const u=n.bc(a.merge||a.mergeFields?2:0,e,t,s);hg("Data must be an object, but it was:",u,r);const h=XS(r,u);let p,g;if(a.merge)p=new er(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const T=Kp(e,E,t);if(!u.contains(T))throw new Ae(le.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);ex(_,T)||_.push(T)}p=new er(_),g=u.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=u.fieldTransforms;return new sj(new Bn(h),p,g)}class eh extends lg{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function lj(n,e,t,r){const s=n.bc(1,e,t);hg("Data must be an object, but it was:",s,r);const a=[],u=Bn.empty();Ws(r,(p,g)=>{const _=fg(e,p,t);g=Pn(g);const E=s.mc(_);if(g instanceof eh)a.push(_);else{const T=th(g,E);T!=null&&(a.push(_),u.set(_,T))}});const h=new er(a);return new QS(u,h,s.fieldTransforms)}function uj(n,e,t,r,s,a){const u=n.bc(1,e,t),h=[Kp(e,r,t)],p=[s];if(a.length%2!=0)throw new Ae(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(Kp(e,a[T])),p.push(a[T+1]);const g=[],_=Bn.empty();for(let T=h.length-1;T>=0;--T)if(!ex(g,h[T])){const I=h[T];let R=p[T];R=Pn(R);const j=u.mc(I);if(R instanceof eh)g.push(I);else{const k=th(R,j);k!=null&&(g.push(I),_.set(I,k))}}const E=new er(g);return new QS(_,E,u.fieldTransforms)}function th(n,e){if(ZS(n=Pn(n)))return hg("Unsupported field value:",e,n),XS(n,e);if(n instanceof lg)return function(r,s){if(!JS(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let p=th(h,s.fc(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qt.fromDate(r);return{timestampValue:_d(s.serializer,a)}}if(r instanceof qt){const a=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_d(s.serializer,a)}}if(r instanceof ug)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Da)return{bytesValue:yS(s.serializer,r._byteString)};if(r instanceof tr){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Wm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof cg)return function(u,h){return{mapValue:{fields:{[qT]:{stringValue:KT},[pd]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw h.gc("VectorValues must only contain numeric values.");return zm(h.serializer,g)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${sg(r)}`)}(n,e)}function XS(n,e){const t={};return UT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(n,(r,s)=>{const a=th(s,e.Ac(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function ZS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof ug||n instanceof Da||n instanceof tr||n instanceof lg||n instanceof cg)}function hg(n,e,t){if(!ZS(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=sg(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function Kp(n,e,t){if((e=Pn(e))instanceof Zd)return e._internalPath;if(typeof e=="string")return fg(n,e);throw Sd("Field path arguments must be of type string or ",n,!1,void 0,t)}const cj=new RegExp("[~\\*/\\[\\]]");function fg(n,e,t){if(e.search(cj)>=0)throw Sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zd(...e.split("."))._internalPath}catch{throw Sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sd(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${r}`),u&&(p+=` in document ${s}`),p+=")"),new Ae(le.INVALID_ARGUMENT,h+n+p)}function ex(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dj extends tx{data(){return super.data()}}function nx(n,e){return typeof e=="string"?fg(n,e):e instanceof Zd?e._internalPath:e._delegate._internalPath}class hj{convertValue(e,t="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ws(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[pd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Dt(u.doubleValue));return new cg(a)}convertGeoPoint(e){return new ug(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=zd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const t=Ms(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Nt.fromString(e);ut(SS(r),9688,{name:e});const s=new Kl(r.get(1),r.get(3)),a=new Pe(r.popFirst(5));return s.isEqual(t)||$i(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rx extends tx{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mj(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class mj extends rx{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(n){n=Ao(n,tr);const e=Ao(n.firestore,Xd);return ZN(GS(e),n._key).then(t=>yj(e,n,t))}class gj extends hj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function ix(n,e,t){n=Ao(n,tr);const r=Ao(n.firestore,Xd),s=fj(n.converter,e,t);return ox(r,[aj(YS(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,di.none())])}function sx(n,e,t,...r){n=Ao(n,tr);const s=Ao(n.firestore,Xd),a=YS(s);let u;return u=typeof(e=Pn(e))=="string"||e instanceof Zd?uj(a,"updateDoc",n._key,e,t,r):lj(a,"updateDoc",n._key,e),ox(s,[u.toMutation(n._key,di.exists(!0))])}function ox(n,e){return function(r,s){const a=new js;return r.asyncQueue.enqueueAndForget(async()=>FN(await YN(r),s,a)),a.promise}(GS(n),e)}function yj(n,e,t){const r=t.docs.get(e._key),s=new gj(n);return new rx(n,s,e._key,r,new pj(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Fa=s})(Ma),Ra(new Io("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Xd(new sP(r.getProvider("auth-internal")),new lP(u,r.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ae(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(g.options.projectId,_)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),bs(j_,D_,e),bs(j_,D_,"esm2017")})();const vj={apiKey:"AIzaSyAe3coCFibxWyVwVeX_WYhQGjGixyLw_JE",authDomain:"ats-killer-canada.firebaseapp.com",projectId:"ats-killer-canada"},pg=KE(vj),An=ZA(pg),ax=new Mi,Jc=KS(pg),xd=KS(pg);function _j({user:n,handleLogout:e}){const[t,r]=z.useState(!1),s=z.useRef();return z.useEffect(()=>{function a(u){s.current&&!s.current.contains(u.target)&&r(!1)}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),f.jsxs("div",{className:"profile-dropdown-wrapper",ref:s,children:[f.jsx("img",{src:(n==null?void 0:n.photoURL)||"/default-avatar.png",alt:"Profile",className:"profile-avatar",onClick:()=>r(a=>!a),style:{cursor:"pointer"}}),t&&f.jsxs("div",{className:"profile-dropdown",children:[f.jsxs("div",{className:"profile-header",children:[f.jsx("img",{src:(n==null?void 0:n.photoURL)||"/default-avatar.png",alt:"Avatar",className:"profile-avatar-large"}),f.jsxs("div",{children:[f.jsx("div",{className:"profile-name",children:(n==null?void 0:n.displayName)||"User"}),f.jsx("div",{className:"profile-email",children:n==null?void 0:n.email})]})]}),f.jsxs("div",{className:"profile-links",children:[f.jsx("a",{href:"/settings",children:"Account Settings"}),f.jsx("a",{href:"/privacy",children:"Privacy Policy"}),f.jsx("a",{href:"/terms",children:"Terms"})]}),f.jsx("button",{className:"profile-logout-btn",onClick:e,children:"Log out"})]})]})}const kw=[{name:"Resume & Cover Letter Tools",sublinks:[{label:"Resume Scan & Keyword Match",url:"/"},{label:"Cover Letter Generator",url:"/cover-letter"},{label:"Resume Templates",url:"/resume-templates"},{label:"Cover Letter Templates",url:"/cover-letter-templates"},{label:"Advanced Resume Builder",url:"/advanced-resume-builder"},{label:"LinkedIn Optimization",url:"/linkedin-optimization"}]},{name:"Job Search & Application",sublinks:[{label:"Job Search",url:"/job-search"},{label:"Referral Program",url:"/referral-program"},{label:"Application Tracking (future)",url:"/application-tracking"},{label:"Job Alerts (future)",url:"/job-alerts"}]},{name:"Recruiter Solutions",sublinks:[{label:"Bulk Resume Analysis",url:"/bulk-resume-analysis"},{label:"Best Fit Resume Shortlisting",url:"/resume-shortlisting"},{label:"Recruiter Dashboard (future)",url:"/recruiter-dashboard"},{label:"Automated Candidate Ranking",url:"/candidate-ranking"}]},{name:"Pricing & Plans",sublinks:[{label:"Subscription Tiers",url:"/pricing"},{label:"Free vs Premium Features",url:"/pricing#comparison"},{label:"Upgrade/Manage Subscription",url:"/manage-subscription"}]},{name:"Resources & Guides",sublinks:[{label:"How-to Guides",url:"/how-to-guide"},{label:"ATS Insights",url:"/ats-insight"},{label:"Resume & Cover Letter Tips",url:"/resume-tips"},{label:"Ebooks & Learning Materials",url:"/ebooks"},{label:"FAQ",url:"/questions"}]},{name:"About & Support",sublinks:[{label:"About Us",url:"/about"},{label:"Contact Support",url:"/contact"},{label:"Feedback & Suggestions",url:"/suggestions"},{label:"Privacy Policy / Terms",url:"/privacy-policy"}]}];function Sn(){const[n,e]=z.useState(null),[t,r]=z.useState(""),[s,a]=z.useState(!1),u=Hs(),h=()=>a(!s);z.useEffect(()=>{const _=gT(An,async E=>{if(e(E),E)try{const T=await Xl(Ds(xd,"users",E.uid));T.exists()?r(T.data().subscription||"free"):r("free")}catch{r("free")}else r("")});return()=>_()},[]);const p=async()=>{await $1(An),e(null),u("/")},g=async()=>{try{const E=(await CT(An,ax)).user,T=Ds(xd,"users",E.uid);(await Xl(T)).exists()||await setDoc(T,{email:E.email,subscription:"free",updatedAt:new Date().toISOString(),resumeScan:3,coverLetterScan:3})}catch(_){alert("Google Sign-In error: "+_.message)}};return f.jsxs("header",{className:"header-container",children:[f.jsx("div",{className:"header-logo",children:f.jsx("img",{src:"/images/progress-logo-black.png",alt:"BrewMyJob Logo",className:"header-logo-img"})}),f.jsx("button",{className:"mobile-menu-toggle",onClick:h,children:""}),f.jsx("nav",{className:"navbar desktop-navbar",children:kw.map((_,E)=>{const T=_.name==="Recruiter Solutions";return f.jsxs("div",{className:`dropdown${T?" disabled-dropdown":""}`,children:[f.jsx("span",{className:`menu-link-text main-menu${T?" disabled-tab":""}`,title:T?"Coming soon!":void 0,style:{cursor:T?"not-allowed":"pointer",color:T?"#bbb":void 0,opacity:T?.7:1,pointerEvents:T?"none":void 0},children:_.name}),!T&&f.jsx("div",{className:"dropdown-content",children:_.sublinks.map((I,R)=>f.jsx("a",{className:"dropdown-link",href:I.url,children:I.label},R))})]},E)})}),f.jsx("div",{className:"header-actions",children:n?f.jsxs(f.Fragment,{children:[t&&f.jsx("span",{className:`subscription-badge ${t}`,children:t==="premium"?"Premium":"Free Version"}),f.jsx(_j,{user:n,handleLogout:p})]}):f.jsx("button",{className:"hero-btn",onClick:g,children:"Sign In"})}),f.jsx("div",{className:`mobile-drawer ${s?"open":""}`,children:f.jsx("nav",{className:"mobile-menu-inner",children:kw.map((_,E)=>{const T=_.name==="Recruiter Solutions";return f.jsxs("div",{className:`dropdown${T?" disabled-dropdown":""}`,children:[f.jsx("span",{className:`menu-link-text main-menu${T?" disabled-tab":""}`,title:T?"Coming soon!":void 0,style:{cursor:T?"not-allowed":"pointer",color:T?"#bbb":void 0,opacity:T?.7:1,pointerEvents:T?"none":void 0},children:_.name}),!T&&f.jsx("div",{className:"dropdown-content",children:_.sublinks.map((I,R)=>f.jsx("a",{className:"dropdown-link",href:I.url,children:I.label},R))})]},E)})})}),s&&f.jsx("div",{className:"menu-backdrop",onClick:h})]})}var sp={exports:{}},op={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function wj(){if(Aw)return op;Aw=1;var n=jd();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,s=n.useRef,a=n.useEffect,u=n.useMemo,h=n.useDebugValue;return op.useSyncExternalStoreWithSelector=function(p,g,_,E,T){var I=s(null);if(I.current===null){var R={hasValue:!1,value:null};I.current=R}else R=I.current;I=u(function(){function k(ne){if(!F){if(F=!0,G=ne,ne=E(ne),T!==void 0&&R.hasValue){var O=R.value;if(T(O,ne))return H=O}return H=ne}if(O=H,t(G,ne))return O;var b=E(ne);return T!==void 0&&T(O,b)?(G=ne,O):(G=ne,H=b)}var F=!1,G,H,X=_===void 0?null:_;return[function(){return k(g())},X===null?void 0:function(){return k(X())}]},[g,_,E,T]);var j=r(p,I[0],I[1]);return a(function(){R.hasValue=!0,R.value=j},[j]),h(j),j},op}var Pw;function Ej(){return Pw||(Pw=1,sp.exports=wj()),sp.exports}var Tj=Ej();function Sj(n){n()}function xj(){let n=null,e=null;return{clear(){n=null,e=null},notify(){Sj(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!r||n===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var bw={notify(){},get:()=>[]};function Ij(n,e){let t,r=bw,s=0,a=!1;function u(j){_();const k=r.subscribe(j);let F=!1;return()=>{F||(F=!0,k(),E())}}function h(){r.notify()}function p(){R.onStateChange&&R.onStateChange()}function g(){return a}function _(){s++,t||(t=n.subscribe(p),r=xj())}function E(){s--,t&&s===0&&(t(),t=void 0,r.clear(),r=bw)}function T(){a||(a=!0,_())}function I(){a&&(a=!1,E())}const R={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:g,trySubscribe:T,tryUnsubscribe:I,getListeners:()=>r};return R}var Rj=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cj=Rj(),kj=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Aj=kj(),Pj=()=>Cj||Aj?z.useLayoutEffect:z.useEffect,bj=Pj(),ap=Symbol.for("react-redux-context"),lp=typeof globalThis<"u"?globalThis:{};function Nj(){if(!z.createContext)return{};const n=lp[ap]??(lp[ap]=new Map);let e=n.get(z.createContext);return e||(e=z.createContext(null),n.set(z.createContext,e)),e}var zs=Nj();function jj(n){const{children:e,context:t,serverState:r,store:s}=n,a=z.useMemo(()=>{const p=Ij(s);return{store:s,subscription:p,getServerState:r?()=>r:void 0}},[s,r]),u=z.useMemo(()=>s.getState(),[s]);bj(()=>{const{subscription:p}=a;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),u!==s.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[a,u]);const h=t||zs;return z.createElement(h.Provider,{value:a},e)}var lx=jj;function mg(n=zs){return function(){return z.useContext(n)}}var ux=mg();function cx(n=zs){const e=n===zs?ux:mg(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var Dj=cx();function Oj(n=zs){const e=n===zs?Dj:cx(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var dx=Oj(),Lj=(n,e)=>n===e;function Mj(n=zs){const e=n===zs?ux:mg(n),t=(r,s={})=>{const{equalityFn:a=Lj}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:h,subscription:p,getServerState:g}=u;z.useRef(!0);const _=z.useCallback({[r.name](T){return r(T)}}[r.name],[r]),E=Tj.useSyncExternalStoreWithSelector(p.addNestedSub,h.getState,g||h.getState,_,a);return z.useDebugValue(E),E};return Object.assign(t,{withTypes:()=>t}),t}var Id=Mj();function on(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Vj=typeof Symbol=="function"&&Symbol.observable||"@@observable",Nw=Vj,up=()=>Math.random().toString(36).substring(7).split("").join("."),Fj={INIT:`@@redux/INIT${up()}`,REPLACE:`@@redux/REPLACE${up()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${up()}`},Rd=Fj;function gg(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function hx(n,e,t){if(typeof n!="function")throw new Error(on(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(on(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(on(1));return t(hx)(n,e)}let r=n,s=e,a=new Map,u=a,h=0,p=!1;function g(){u===a&&(u=new Map,a.forEach((k,F)=>{u.set(F,k)}))}function _(){if(p)throw new Error(on(3));return s}function E(k){if(typeof k!="function")throw new Error(on(4));if(p)throw new Error(on(5));let F=!0;g();const G=h++;return u.set(G,k),function(){if(F){if(p)throw new Error(on(6));F=!1,g(),u.delete(G),a=null}}}function T(k){if(!gg(k))throw new Error(on(7));if(typeof k.type>"u")throw new Error(on(8));if(typeof k.type!="string")throw new Error(on(17));if(p)throw new Error(on(9));try{p=!0,s=r(s,k)}finally{p=!1}return(a=u).forEach(G=>{G()}),k}function I(k){if(typeof k!="function")throw new Error(on(10));r=k,T({type:Rd.REPLACE})}function R(){const k=E;return{subscribe(F){if(typeof F!="object"||F===null)throw new Error(on(11));function G(){const X=F;X.next&&X.next(_())}return G(),{unsubscribe:k(G)}},[Nw](){return this}}}return T({type:Rd.INIT}),{dispatch:T,subscribe:E,getState:_,replaceReducer:I,[Nw]:R}}function Uj(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Rd.INIT})>"u")throw new Error(on(12));if(typeof t(void 0,{type:Rd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(on(13))})}function Bj(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const u=e[a];typeof n[u]=="function"&&(t[u]=n[u])}const r=Object.keys(t);let s;try{Uj(t)}catch(a){s=a}return function(u={},h){if(s)throw s;let p=!1;const g={};for(let _=0;_<r.length;_++){const E=r[_],T=t[E],I=u[E],R=T(I,h);if(typeof R>"u")throw h&&h.type,new Error(on(14));g[E]=R,p=p||R!==I}return p=p||r.length!==Object.keys(u).length,p?g:u}}function Cd(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function zj(...n){return e=>(t,r)=>{const s=e(t,r);let a=()=>{throw new Error(on(15))};const u={getState:s.getState,dispatch:(p,...g)=>a(p,...g)},h=n.map(p=>p(u));return a=Cd(...h)(s.dispatch),{...s,dispatch:a}}}function $j(n){return gg(n)&&"type"in n&&typeof n.type=="string"}var fx=Symbol.for("immer-nothing"),jw=Symbol.for("immer-draftable"),rr=Symbol.for("immer-state");function Mr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Oa=Object.getPrototypeOf;function Po(n){return!!n&&!!n[rr]}function Wi(n){var e;return n?px(n)||Array.isArray(n)||!!n[jw]||!!((e=n.constructor)!=null&&e[jw])||rh(n)||ih(n):!1}var Hj=Object.prototype.constructor.toString();function px(n){if(!n||typeof n!="object")return!1;const e=Oa(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Hj}function kd(n,e){nh(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function nh(n){const e=n[rr];return e?e.type_:Array.isArray(n)?1:rh(n)?2:ih(n)?3:0}function Gp(n,e){return nh(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function mx(n,e,t){const r=nh(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function Wj(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function rh(n){return n instanceof Map}function ih(n){return n instanceof Set}function go(n){return n.copy_||n.base_}function Qp(n,e){if(rh(n))return new Map(n);if(ih(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=px(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[rr];let s=Reflect.ownKeys(r);for(let a=0;a<s.length;a++){const u=s[a],h=r[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[u]})}return Object.create(Oa(n),r)}else{const r=Oa(n);if(r!==null&&t)return{...n};const s=Object.create(r);return Object.assign(s,n)}}function yg(n,e=!1){return sh(n)||Po(n)||!Wi(n)||(nh(n)>1&&(n.set=n.add=n.clear=n.delete=qj),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>yg(r,!0))),n}function qj(){Mr(2)}function sh(n){return Object.isFrozen(n)}var Kj={};function bo(n){const e=Kj[n];return e||Mr(0,n),e}var Zl;function gx(){return Zl}function Gj(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Dw(n,e){e&&(bo("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Jp(n){Yp(n),n.drafts_.forEach(Qj),n.drafts_=null}function Yp(n){n===Zl&&(Zl=n.parent_)}function Ow(n){return Zl=Gj(Zl,n)}function Qj(n){const e=n[rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Lw(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[rr].modified_&&(Jp(e),Mr(4)),Wi(n)&&(n=Ad(e,n),e.parent_||Pd(e,n)),e.patches_&&bo("Patches").generateReplacementPatches_(t[rr].base_,n,e.patches_,e.inversePatches_)):n=Ad(e,t,[]),Jp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==fx?n:void 0}function Ad(n,e,t){if(sh(e))return e;const r=e[rr];if(!r)return kd(e,(s,a)=>Mw(n,r,e,s,a,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return Pd(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,u=!1;r.type_===3&&(a=new Set(s),s.clear(),u=!0),kd(a,(h,p)=>Mw(n,r,s,h,p,t,u)),Pd(n,s,!1),t&&n.patches_&&bo("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function Mw(n,e,t,r,s,a,u){if(Po(s)){const h=a&&e&&e.type_!==3&&!Gp(e.assigned_,r)?a.concat(r):void 0,p=Ad(n,s,h);if(mx(t,r,p),Po(p))n.canAutoFreeze_=!1;else return}else u&&t.add(s);if(Wi(s)&&!sh(s)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Ad(n,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&Pd(n,s)}}function Pd(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&yg(e,t)}function Jj(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:gx(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,a=vg;t&&(s=[r],a=eu);const{revoke:u,proxy:h}=Proxy.revocable(s,a);return r.draft_=h,r.revoke_=u,h}var vg={get(n,e){if(e===rr)return n;const t=go(n);if(!Gp(t,e))return Yj(n,t,e);const r=t[e];return n.finalized_||!Wi(r)?r:r===cp(n.base_,e)?(dp(n),n.copy_[e]=Zp(r,n)):r},has(n,e){return e in go(n)},ownKeys(n){return Reflect.ownKeys(go(n))},set(n,e,t){const r=yx(go(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=cp(go(n),e),a=s==null?void 0:s[rr];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(Wj(t,s)&&(t!==void 0||Gp(n.base_,e)))return!0;dp(n),Xp(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return cp(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,dp(n),Xp(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=go(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Mr(11)},getPrototypeOf(n){return Oa(n.base_)},setPrototypeOf(){Mr(12)}},eu={};kd(vg,(n,e)=>{eu[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});eu.deleteProperty=function(n,e){return eu.set.call(this,n,e,void 0)};eu.set=function(n,e,t){return vg.set.call(this,n[0],e,t,n[0])};function cp(n,e){const t=n[rr];return(t?go(t):n)[e]}function Yj(n,e,t){var s;const r=yx(e,t);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(n.draft_):void 0}function yx(n,e){if(!(e in n))return;let t=Oa(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Oa(t)}}function Xp(n){n.modified_||(n.modified_=!0,n.parent_&&Xp(n.parent_))}function dp(n){n.copy_||(n.copy_=Qp(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Xj=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const u=this;return function(p=a,...g){return u.produce(p,_=>t.call(this,_,...g))}}typeof t!="function"&&Mr(6),r!==void 0&&typeof r!="function"&&Mr(7);let s;if(Wi(e)){const a=Ow(this),u=Zp(e,void 0);let h=!0;try{s=t(u),h=!1}finally{h?Jp(a):Yp(a)}return Dw(a,r),Lw(s,a)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===fx&&(s=void 0),this.autoFreeze_&&yg(s,!0),r){const a=[],u=[];bo("Patches").generateReplacementPatches_(e,s,a,u),r(a,u)}return s}else Mr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(u,...h)=>this.produceWithPatches(u,p=>e(p,...h));let r,s;return[this.produce(e,t,(u,h)=>{r=u,s=h}),r,s]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Wi(n)||Mr(8),Po(n)&&(n=Zj(n));const e=Ow(this),t=Zp(n,void 0);return t[rr].isManual_=!0,Yp(e),t}finishDraft(n,e){const t=n&&n[rr];(!t||!t.isManual_)&&Mr(9);const{scope_:r}=t;return Dw(r,e),Lw(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const r=bo("Patches").applyPatches_;return Po(n)?r(n,e):this.produce(n,s=>r(s,e))}};function Zp(n,e){const t=rh(n)?bo("MapSet").proxyMap_(n,e):ih(n)?bo("MapSet").proxySet_(n,e):Jj(n,e);return(e?e.scope_:gx()).drafts_.push(t),t}function Zj(n){return Po(n)||Mr(10,n),vx(n)}function vx(n){if(!Wi(n)||sh(n))return n;const e=n[rr];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Qp(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Qp(n,!0);return kd(t,(r,s)=>{mx(t,r,vx(s))}),e&&(e.finalized_=!1),t}var ir=new Xj,_x=ir.produce;ir.produceWithPatches.bind(ir);ir.setAutoFreeze.bind(ir);ir.setUseStrictShallowCopy.bind(ir);ir.applyPatches.bind(ir);ir.createDraft.bind(ir);ir.finishDraft.bind(ir);function wx(n){return({dispatch:t,getState:r})=>s=>a=>typeof a=="function"?a(t,r,n):s(a)}var eD=wx(),tD=wx,nD=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cd:Cd.apply(null,arguments)};function Vw(n,e){function t(...r){if(e){let s=e(...r);if(!s)throw new Error(Ui(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>$j(r)&&r.type===n,t}var Ex=class Dl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Dl.prototype)}static get[Symbol.species](){return Dl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Dl(...e[0].concat(this)):new Dl(...e.concat(this))}};function Fw(n){return Wi(n)?_x(n,()=>{}):n}function Uw(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function rD(n){return typeof n=="boolean"}var iD=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=e??{};let u=new Ex;return t&&(rD(t)?u.push(eD):u.push(tD(t.extraArgument))),u},sD="RTK_autoBatch",Bw=n=>e=>{setTimeout(e,n)},oD=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let s=!0,a=!1,u=!1;const h=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Bw(10):n.type==="callback"?n.queueNotification:Bw(n.timeout),g=()=>{u=!1,a&&(a=!1,h.forEach(_=>_()))};return Object.assign({},r,{subscribe(_){const E=()=>s&&_(),T=r.subscribe(E);return h.add(_),()=>{T(),h.delete(_)}},dispatch(_){var E;try{return s=!((E=_==null?void 0:_.meta)!=null&&E[sD]),a=!s,a&&(u||(u=!0,p(g))),r.dispatch(_)}finally{s=!0}}})},aD=n=>function(t){const{autoBatch:r=!0}=t??{};let s=new Ex(n);return r&&s.push(oD(typeof r=="object"?r:void 0)),s};function lD(n){const e=iD(),{reducer:t=void 0,middleware:r,devTools:s=!0,preloadedState:a=void 0,enhancers:u=void 0}=n||{};let h;if(typeof t=="function")h=t;else if(gg(t))h=Bj(t);else throw new Error(Ui(1));let p;typeof r=="function"?p=r(e):p=e();let g=Cd;s&&(g=nD({trace:!1,...typeof s=="object"&&s}));const _=zj(...p),E=aD(_);let T=typeof u=="function"?u(E):E();const I=g(...T);return hx(h,a,I)}function Tx(n){const e={},t=[];let r;const s={addCase(a,u){const h=typeof a=="string"?a:a.type;if(!h)throw new Error(Ui(28));if(h in e)throw new Error(Ui(29));return e[h]=u,s},addMatcher(a,u){return t.push({matcher:a,reducer:u}),s},addDefaultCase(a){return r=a,s}};return n(s),[e,t,r]}function uD(n){return typeof n=="function"}function cD(n,e){let[t,r,s]=Tx(e),a;if(uD(n))a=()=>Fw(n());else{const h=Fw(n);a=()=>h}function u(h=a(),p){let g=[t[p.type],...r.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[s]),g.reduce((_,E)=>{if(E)if(Po(_)){const I=E(_,p);return I===void 0?_:I}else{if(Wi(_))return _x(_,T=>E(T,p));{const T=E(_,p);if(T===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return _},h)}return u.getInitialState=a,u}var dD=Symbol.for("rtk-slice-createasyncthunk");function hD(n,e){return`${n}/${e}`}function fD({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[dD];return function(s){const{name:a,reducerPath:u=a}=s;if(!a)throw new Error(Ui(11));const h=(typeof s.reducers=="function"?s.reducers(gD()):s.reducers)||{},p=Object.keys(h),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(H,X){const ne=typeof H=="string"?H:H.type;if(!ne)throw new Error(Ui(12));if(ne in g.sliceCaseReducersByType)throw new Error(Ui(13));return g.sliceCaseReducersByType[ne]=X,_},addMatcher(H,X){return g.sliceMatchers.push({matcher:H,reducer:X}),_},exposeAction(H,X){return g.actionCreators[H]=X,_},exposeCaseReducer(H,X){return g.sliceCaseReducersByName[H]=X,_}};p.forEach(H=>{const X=h[H],ne={reducerName:H,type:hD(a,H),createNotation:typeof s.reducers=="function"};vD(X)?wD(ne,X,_,e):yD(ne,X,_)});function E(){const[H={},X=[],ne=void 0]=typeof s.extraReducers=="function"?Tx(s.extraReducers):[s.extraReducers],O={...H,...g.sliceCaseReducersByType};return cD(s.initialState,b=>{for(let C in O)b.addCase(C,O[C]);for(let C of g.sliceMatchers)b.addMatcher(C.matcher,C.reducer);for(let C of X)b.addMatcher(C.matcher,C.reducer);ne&&b.addDefaultCase(ne)})}const T=H=>H,I=new Map;let R;function j(H,X){return R||(R=E()),R(H,X)}function k(){return R||(R=E()),R.getInitialState()}function F(H,X=!1){function ne(b){let C=b[H];return typeof C>"u"&&X&&(C=k()),C}function O(b=T){const C=Uw(I,X,()=>new WeakMap);return Uw(C,b,()=>{const A={};for(const[D,V]of Object.entries(s.selectors??{}))A[D]=pD(V,b,k,X);return A})}return{reducerPath:H,getSelectors:O,get selectors(){return O(ne)},selectSlice:ne}}const G={name:a,reducer:j,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:k,...F(u),injectInto(H,{reducerPath:X,...ne}={}){const O=X??u;return H.inject({reducerPath:O,reducer:j},ne),{...G,...F(O,!0)}}};return G}}function pD(n,e,t,r){function s(a,...u){let h=e(a);return typeof h>"u"&&r&&(h=t()),n(h,...u)}return s.unwrapped=n,s}var mD=fD();function gD(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function yD({type:n,reducerName:e,createNotation:t},r,s){let a,u;if("reducer"in r){if(t&&!_D(r))throw new Error(Ui(17));a=r.reducer,u=r.prepare}else a=r;s.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,u?Vw(n,u):Vw(n))}function vD(n){return n._reducerDefinitionType==="asyncThunk"}function _D(n){return n._reducerDefinitionType==="reducerWithPrepare"}function wD({type:n,reducerName:e},t,r,s){if(!s)throw new Error(Ui(18));const{payloadCreator:a,fulfilled:u,pending:h,rejected:p,settled:g,options:_}=t,E=s(n,a,_);r.exposeAction(e,E),u&&r.addCase(E.fulfilled,u),h&&r.addCase(E.pending,h),p&&r.addCase(E.rejected,p),g&&r.addMatcher(E.settled,g),r.exposeCaseReducer(e,{fulfilled:u||Oc,pending:h||Oc,rejected:p||Oc,settled:g||Oc})}function Oc(){}function Ui(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const zw={resumeFileName:"",jobDescription:"",extractedResumeText:"",scannedJobDescription:"",keywordsjd:[],wordcount:0,address:"",noofHardskillsre:0,softskillsjd:[],linkedin:"",name:"",overallScore:"",structure:"",matchingjdre:[],noofHardskillsjd:0,softskillsre:[],hardskillsjd:[],noofSoftskillsjd:0,phone:"",hardskillsre:[],missingKeywords:[],keywordsre:[],noofSoftskillsre:0,email:"",coverLetterFileName:"",coverLetterJobDescription:"",coverLetterResult:"",coverLetterLoading:!1},Sx=mD({name:"userInput",initialState:zw,reducers:{setResumeFile:(n,e)=>{n.resumeFileName=e.payload},setJobDescription:(n,e)=>{n.jobDescription=e.payload},setScanResult:(n,e)=>{Object.assign(n,e.payload)},resetInputs:n=>{Object.assign(n,zw)},setCoverLetterFileName:(n,e)=>{n.coverLetterFileName=e.payload},setCoverLetterJobDescription:(n,e)=>{n.coverLetterJobDescription=e.payload},setCoverLetterResult:(n,e)=>{n.coverLetterResult=e.payload},setCoverLetterLoading:(n,e)=>{n.coverLetterLoading=e.payload},resetCoverLetterFields:n=>{n.coverLetterFileName="",n.coverLetterJobDescription="",n.coverLetterResult="",n.coverLetterLoading=!1}}}),{setResumeFile:ED,setJobDescription:TD,setScanResult:SD,resetInputs:IL,setCoverLetterFileName:$w,setCoverLetterJobDescription:xD,setCoverLetterResult:hp,setCoverLetterLoading:Hw,resetCoverLetterFields:ID}=Sx.actions,RD=Sx.reducer;function xx(n,e){return function(){return n.apply(e,arguments)}}const{toString:CD}=Object.prototype,{getPrototypeOf:_g}=Object,oh=(n=>e=>{const t=CD.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Br=n=>(n=n.toLowerCase(),e=>oh(e)===n),ah=n=>e=>typeof e===n,{isArray:$a}=Array,tu=ah("undefined");function kD(n){return n!==null&&!tu(n)&&n.constructor!==null&&!tu(n.constructor)&&nr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Ix=Br("ArrayBuffer");function AD(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Ix(n.buffer),e}const PD=ah("string"),nr=ah("function"),Rx=ah("number"),lh=n=>n!==null&&typeof n=="object",bD=n=>n===!0||n===!1,Yc=n=>{if(oh(n)!=="object")return!1;const e=_g(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},ND=Br("Date"),jD=Br("File"),DD=Br("Blob"),OD=Br("FileList"),LD=n=>lh(n)&&nr(n.pipe),MD=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||nr(n.append)&&((e=oh(n))==="formdata"||e==="object"&&nr(n.toString)&&n.toString()==="[object FormData]"))},VD=Br("URLSearchParams"),[FD,UD,BD,zD]=["ReadableStream","Request","Response","Headers"].map(Br),$D=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),$a(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let h;for(r=0;r<u;r++)h=a[r],e.call(null,n[h],h,n)}}function Cx(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kx=n=>!tu(n)&&n!==Eo;function em(){const{caseless:n}=kx(this)&&this||{},e={},t=(r,s)=>{const a=n&&Cx(e,s)||s;Yc(e[a])&&Yc(r)?e[a]=em(e[a],r):Yc(r)?e[a]=em({},r):$a(r)?e[a]=r.slice():e[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&gu(arguments[r],t);return e}const HD=(n,e,t,{allOwnKeys:r}={})=>(gu(e,(s,a)=>{t&&nr(s)?n[a]=xx(s,t):n[a]=s},{allOwnKeys:r}),n),WD=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),qD=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},KD=(n,e,t,r)=>{let s,a,u;const h={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),a=s.length;a-- >0;)u=s[a],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&_g(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},GD=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},QD=n=>{if(!n)return null;if($a(n))return n;let e=n.length;if(!Rx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},JD=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&_g(Uint8Array)),YD=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(n,a[0],a[1])}},XD=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},ZD=Br("HTMLFormElement"),eO=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),Ww=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),tO=Br("RegExp"),Ax=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};gu(t,(s,a)=>{let u;(u=e(s,a,n))!==!1&&(r[a]=u||s)}),Object.defineProperties(n,r)},nO=n=>{Ax(n,(e,t)=>{if(nr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(nr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},rO=(n,e)=>{const t={},r=s=>{s.forEach(a=>{t[a]=!0})};return $a(n)?r(n):r(String(n).split(e)),t},iO=()=>{},sO=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function oO(n){return!!(n&&nr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const aO=n=>{const e=new Array(10),t=(r,s)=>{if(lh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const a=$a(r)?[]:{};return gu(r,(u,h)=>{const p=t(u,s+1);!tu(p)&&(a[h]=p)}),e[s]=void 0,a}}return r};return t(n,0)},lO=Br("AsyncFunction"),uO=n=>n&&(lh(n)||nr(n))&&nr(n.then)&&nr(n.catch),Px=((n,e)=>n?setImmediate:e?((t,r)=>(Eo.addEventListener("message",({source:s,data:a})=>{s===Eo&&a===t&&r.length&&r.shift()()},!1),s=>{r.push(s),Eo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",nr(Eo.postMessage)),cO=typeof queueMicrotask<"u"?queueMicrotask.bind(Eo):typeof process<"u"&&process.nextTick||Px,ee={isArray:$a,isArrayBuffer:Ix,isBuffer:kD,isFormData:MD,isArrayBufferView:AD,isString:PD,isNumber:Rx,isBoolean:bD,isObject:lh,isPlainObject:Yc,isReadableStream:FD,isRequest:UD,isResponse:BD,isHeaders:zD,isUndefined:tu,isDate:ND,isFile:jD,isBlob:DD,isRegExp:tO,isFunction:nr,isStream:LD,isURLSearchParams:VD,isTypedArray:JD,isFileList:OD,forEach:gu,merge:em,extend:HD,trim:$D,stripBOM:WD,inherits:qD,toFlatObject:KD,kindOf:oh,kindOfTest:Br,endsWith:GD,toArray:QD,forEachEntry:YD,matchAll:XD,isHTMLForm:ZD,hasOwnProperty:Ww,hasOwnProp:Ww,reduceDescriptors:Ax,freezeMethods:nO,toObjectSet:rO,toCamelCase:eO,noop:iO,toFiniteNumber:sO,findKey:Cx,global:Eo,isContextDefined:kx,isSpecCompliantForm:oO,toJSONObject:aO,isAsyncFn:lO,isThenable:uO,setImmediate:Px,asap:cO};function We(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}ee.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const bx=We.prototype,Nx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Nx[n]={value:n}});Object.defineProperties(We,Nx);Object.defineProperty(bx,"isAxiosError",{value:!0});We.from=(n,e,t,r,s,a)=>{const u=Object.create(bx);return ee.toFlatObject(n,u,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),We.call(u,n.message,e,t,r,s),u.cause=n,u.name=n.name,a&&Object.assign(u,a),u};const dO=null;function tm(n){return ee.isPlainObject(n)||ee.isArray(n)}function jx(n){return ee.endsWith(n,"[]")?n.slice(0,-2):n}function qw(n,e,t){return n?n.concat(e).map(function(s,a){return s=jx(s),!t&&a?"["+s+"]":s}).join(t?".":""):e}function hO(n){return ee.isArray(n)&&!n.some(tm)}const fO=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function uh(n,e,t){if(!ee.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ee.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,k){return!ee.isUndefined(k[j])});const r=t.metaTokens,s=t.visitor||_,a=t.dots,u=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(s))throw new TypeError("visitor must be a function");function g(R){if(R===null)return"";if(ee.isDate(R))return R.toISOString();if(!p&&ee.isBlob(R))throw new We("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(R)||ee.isTypedArray(R)?p&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function _(R,j,k){let F=R;if(R&&!k&&typeof R=="object"){if(ee.endsWith(j,"{}"))j=r?j:j.slice(0,-2),R=JSON.stringify(R);else if(ee.isArray(R)&&hO(R)||(ee.isFileList(R)||ee.endsWith(j,"[]"))&&(F=ee.toArray(R)))return j=jx(j),F.forEach(function(H,X){!(ee.isUndefined(H)||H===null)&&e.append(u===!0?qw([j],X,a):u===null?j:j+"[]",g(H))}),!1}return tm(R)?!0:(e.append(qw(k,j,a),g(R)),!1)}const E=[],T=Object.assign(fO,{defaultVisitor:_,convertValue:g,isVisitable:tm});function I(R,j){if(!ee.isUndefined(R)){if(E.indexOf(R)!==-1)throw Error("Circular reference detected in "+j.join("."));E.push(R),ee.forEach(R,function(F,G){(!(ee.isUndefined(F)||F===null)&&s.call(e,F,ee.isString(G)?G.trim():G,j,T))===!0&&I(F,j?j.concat(G):[G])}),E.pop()}}if(!ee.isObject(n))throw new TypeError("data must be an object");return I(n),e}function Kw(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function wg(n,e){this._pairs=[],n&&uh(n,this,e)}const Dx=wg.prototype;Dx.append=function(e,t){this._pairs.push([e,t])};Dx.toString=function(e){const t=e?function(r){return e.call(this,r,Kw)}:Kw;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function pO(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ox(n,e,t){if(!e)return n;const r=t&&t.encode||pO;ee.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let a;if(s?a=s(e,t):a=ee.isURLSearchParams(e)?e.toString():new wg(e,t).toString(r),a){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Gw{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Lx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mO=typeof URLSearchParams<"u"?URLSearchParams:wg,gO=typeof FormData<"u"?FormData:null,yO=typeof Blob<"u"?Blob:null,vO={isBrowser:!0,classes:{URLSearchParams:mO,FormData:gO,Blob:yO},protocols:["http","https","file","blob","url","data"]},Eg=typeof window<"u"&&typeof document<"u",nm=typeof navigator=="object"&&navigator||void 0,_O=Eg&&(!nm||["ReactNative","NativeScript","NS"].indexOf(nm.product)<0),wO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EO=Eg&&window.location.href||"http://localhost",TO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Eg,hasStandardBrowserEnv:_O,hasStandardBrowserWebWorkerEnv:wO,navigator:nm,origin:EO},Symbol.toStringTag,{value:"Module"})),En={...TO,...vO};function SO(n,e){return uh(n,new En.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,a){return En.isNode&&ee.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function xO(n){return ee.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function IO(n){const e={},t=Object.keys(n);let r;const s=t.length;let a;for(r=0;r<s;r++)a=t[r],e[a]=n[a];return e}function Mx(n){function e(t,r,s,a){let u=t[a++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),p=a>=t.length;return u=!u&&ee.isArray(s)?s.length:u,p?(ee.hasOwnProp(s,u)?s[u]=[s[u],r]:s[u]=r,!h):((!s[u]||!ee.isObject(s[u]))&&(s[u]=[]),e(t,r,s[u],a)&&ee.isArray(s[u])&&(s[u]=IO(s[u])),!h)}if(ee.isFormData(n)&&ee.isFunction(n.entries)){const t={};return ee.forEachEntry(n,(r,s)=>{e(xO(r),s,t,0)}),t}return null}function RO(n,e,t){if(ee.isString(n))try{return(e||JSON.parse)(n),ee.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const yu={transitional:Lx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,a=ee.isObject(e);if(a&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return s?JSON.stringify(Mx(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return SO(e,this.formSerializer).toString();if((h=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return uh(h?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),RO(e)):e}],transformResponse:[function(e){const t=this.transitional||yu.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(r&&!this.responseType||s)){const u=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?We.from(h,We.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:En.classes.FormData,Blob:En.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],n=>{yu.headers[n]={}});const CO=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kO=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(u){s=u.indexOf(":"),t=u.substring(0,s).trim().toLowerCase(),r=u.substring(s+1).trim(),!(!t||e[t]&&CO[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Qw=Symbol("internals");function Cl(n){return n&&String(n).trim().toLowerCase()}function Xc(n){return n===!1||n==null?n:ee.isArray(n)?n.map(Xc):String(n)}function AO(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const PO=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function fp(n,e,t,r,s){if(ee.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function bO(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function NO(n,e){const t=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,a,u){return this[r].call(this,e,s,a,u)},configurable:!0})})}let zn=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function a(h,p,g){const _=Cl(p);if(!_)throw new Error("header name must be a non-empty string");const E=ee.findKey(s,_);(!E||s[E]===void 0||g===!0||g===void 0&&s[E]!==!1)&&(s[E||p]=Xc(h))}const u=(h,p)=>ee.forEach(h,(g,_)=>a(g,_,p));if(ee.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(ee.isString(e)&&(e=e.trim())&&!PO(e))u(kO(e),t);else if(ee.isHeaders(e))for(const[h,p]of e.entries())a(p,h,r);else e!=null&&a(t,e,r);return this}get(e,t){if(e=Cl(e),e){const r=ee.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return AO(s);if(ee.isFunction(t))return t.call(this,s,r);if(ee.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Cl(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||fp(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function a(u){if(u=Cl(u),u){const h=ee.findKey(r,u);h&&(!t||fp(r,r[h],h,t))&&(delete r[h],s=!0)}}return ee.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const a=t[r];(!e||fp(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const t=this,r={};return ee.forEach(this,(s,a)=>{const u=ee.findKey(r,a);if(u){t[u]=Xc(s),delete t[a];return}const h=e?bO(a):String(a).trim();h!==a&&delete t[a],t[h]=Xc(s),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ee.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&ee.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Qw]=this[Qw]={accessors:{}}).accessors,s=this.prototype;function a(u){const h=Cl(u);r[h]||(NO(s,u),r[h]=!0)}return ee.isArray(e)?e.forEach(a):a(e),this}};zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(zn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ee.freezeMethods(zn);function pp(n,e){const t=this||yu,r=e||t,s=zn.from(r.headers);let a=r.data;return ee.forEach(n,function(h){a=h.call(t,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function Vx(n){return!!(n&&n.__CANCEL__)}function Ha(n,e,t){We.call(this,n??"canceled",We.ERR_CANCELED,e,t),this.name="CanceledError"}ee.inherits(Ha,We,{__CANCEL__:!0});function Fx(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new We("Request failed with status code "+t.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function jO(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function DO(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,a=0,u;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),_=r[a];u||(u=g),t[s]=p,r[s]=g;let E=a,T=0;for(;E!==s;)T+=t[E++],E=E%n;if(s=(s+1)%n,s===a&&(a=(a+1)%n),g-u<e)return;const I=_&&g-_;return I?Math.round(T*1e3/I):void 0}}function OO(n,e){let t=0,r=1e3/e,s,a;const u=(g,_=Date.now())=>{t=_,s=null,a&&(clearTimeout(a),a=null),n.apply(null,g)};return[(...g)=>{const _=Date.now(),E=_-t;E>=r?u(g,_):(s=g,a||(a=setTimeout(()=>{a=null,u(s)},r-E)))},()=>s&&u(s)]}const bd=(n,e,t=3)=>{let r=0;const s=DO(50,250);return OO(a=>{const u=a.loaded,h=a.lengthComputable?a.total:void 0,p=u-r,g=s(p),_=u<=h;r=u;const E={loaded:u,total:h,progress:h?u/h:void 0,bytes:p,rate:g||void 0,estimated:g&&h&&_?(h-u)/g:void 0,event:a,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(E)},t)},Jw=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},Yw=n=>(...e)=>ee.asap(()=>n(...e)),LO=En.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,En.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(En.origin),En.navigator&&/(msie|trident)/i.test(En.navigator.userAgent)):()=>!0,MO=En.hasStandardBrowserEnv?{write(n,e,t,r,s,a){const u=[n+"="+encodeURIComponent(e)];ee.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),ee.isString(r)&&u.push("path="+r),ee.isString(s)&&u.push("domain="+s),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function VO(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function FO(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Ux(n,e,t){let r=!VO(e);return n&&(r||t==!1)?FO(n,e):e}const Xw=n=>n instanceof zn?{...n}:n;function No(n,e){e=e||{};const t={};function r(g,_,E,T){return ee.isPlainObject(g)&&ee.isPlainObject(_)?ee.merge.call({caseless:T},g,_):ee.isPlainObject(_)?ee.merge({},_):ee.isArray(_)?_.slice():_}function s(g,_,E,T){if(ee.isUndefined(_)){if(!ee.isUndefined(g))return r(void 0,g,E,T)}else return r(g,_,E,T)}function a(g,_){if(!ee.isUndefined(_))return r(void 0,_)}function u(g,_){if(ee.isUndefined(_)){if(!ee.isUndefined(g))return r(void 0,g)}else return r(void 0,_)}function h(g,_,E){if(E in e)return r(g,_);if(E in n)return r(void 0,g)}const p={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(g,_,E)=>s(Xw(g),Xw(_),E,!0)};return ee.forEach(Object.keys(Object.assign({},n,e)),function(_){const E=p[_]||s,T=E(n[_],e[_],_);ee.isUndefined(T)&&E!==h||(t[_]=T)}),t}const Bx=n=>{const e=No({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:u,auth:h}=e;e.headers=u=zn.from(u),e.url=Ox(Ux(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(ee.isFormData(t)){if(En.hasStandardBrowserEnv||En.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((p=u.getContentType())!==!1){const[g,..._]=p?p.split(";").map(E=>E.trim()).filter(Boolean):[];u.setContentType([g||"multipart/form-data",..._].join("; "))}}if(En.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(e)),r||r!==!1&&LO(e.url))){const g=s&&a&&MO.read(a);g&&u.set(s,g)}return e},UO=typeof XMLHttpRequest<"u",BO=UO&&function(n){return new Promise(function(t,r){const s=Bx(n);let a=s.data;const u=zn.from(s.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:g}=s,_,E,T,I,R;function j(){I&&I(),R&&R(),s.cancelToken&&s.cancelToken.unsubscribe(_),s.signal&&s.signal.removeEventListener("abort",_)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function F(){if(!k)return;const H=zn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),ne={data:!h||h==="text"||h==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:H,config:n,request:k};Fx(function(b){t(b),j()},function(b){r(b),j()},ne),k=null}"onloadend"in k?k.onloadend=F:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(F)},k.onabort=function(){k&&(r(new We("Request aborted",We.ECONNABORTED,n,k)),k=null)},k.onerror=function(){r(new We("Network Error",We.ERR_NETWORK,n,k)),k=null},k.ontimeout=function(){let X=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const ne=s.transitional||Lx;s.timeoutErrorMessage&&(X=s.timeoutErrorMessage),r(new We(X,ne.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,n,k)),k=null},a===void 0&&u.setContentType(null),"setRequestHeader"in k&&ee.forEach(u.toJSON(),function(X,ne){k.setRequestHeader(ne,X)}),ee.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),h&&h!=="json"&&(k.responseType=s.responseType),g&&([T,R]=bd(g,!0),k.addEventListener("progress",T)),p&&k.upload&&([E,I]=bd(p),k.upload.addEventListener("progress",E),k.upload.addEventListener("loadend",I)),(s.cancelToken||s.signal)&&(_=H=>{k&&(r(!H||H.type?new Ha(null,n,k):H),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(_),s.signal&&(s.signal.aborted?_():s.signal.addEventListener("abort",_)));const G=jO(s.url);if(G&&En.protocols.indexOf(G)===-1){r(new We("Unsupported protocol "+G+":",We.ERR_BAD_REQUEST,n));return}k.send(a||null)})},zO=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const a=function(g){if(!s){s=!0,h();const _=g instanceof Error?g:this.reason;r.abort(_ instanceof We?_:new Ha(_ instanceof Error?_.message:_))}};let u=e&&setTimeout(()=>{u=null,a(new We(`timeout ${e} of ms exceeded`,We.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(a):g.removeEventListener("abort",a)}),n=null)};n.forEach(g=>g.addEventListener("abort",a));const{signal:p}=r;return p.unsubscribe=()=>ee.asap(h),p}},$O=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},HO=async function*(n,e){for await(const t of WO(n))yield*$O(t,e)},WO=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Zw=(n,e,t,r)=>{const s=HO(n,e);let a=0,u,h=p=>{u||(u=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:g,value:_}=await s.next();if(g){h(),p.close();return}let E=_.byteLength;if(t){let T=a+=E;t(T)}p.enqueue(new Uint8Array(_))}catch(g){throw h(g),g}},cancel(p){return h(p),s.return()}},{highWaterMark:2})},ch=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zx=ch&&typeof ReadableStream=="function",qO=ch&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),$x=(n,...e)=>{try{return!!n(...e)}catch{return!1}},KO=zx&&$x(()=>{let n=!1;const e=new Request(En.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),eE=64*1024,rm=zx&&$x(()=>ee.isReadableStream(new Response("").body)),Nd={stream:rm&&(n=>n.body)};ch&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Nd[e]&&(Nd[e]=ee.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new We(`Response type '${e}' is not supported`,We.ERR_NOT_SUPPORT,r)})})})(new Response);const GO=async n=>{if(n==null)return 0;if(ee.isBlob(n))return n.size;if(ee.isSpecCompliantForm(n))return(await new Request(En.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(n)||ee.isArrayBuffer(n))return n.byteLength;if(ee.isURLSearchParams(n)&&(n=n+""),ee.isString(n))return(await qO(n)).byteLength},QO=async(n,e)=>{const t=ee.toFiniteNumber(n.getContentLength());return t??GO(e)},JO=ch&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:a,timeout:u,onDownloadProgress:h,onUploadProgress:p,responseType:g,headers:_,withCredentials:E="same-origin",fetchOptions:T}=Bx(n);g=g?(g+"").toLowerCase():"text";let I=zO([s,a&&a.toAbortSignal()],u),R;const j=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let k;try{if(p&&KO&&t!=="get"&&t!=="head"&&(k=await QO(_,r))!==0){let ne=new Request(e,{method:"POST",body:r,duplex:"half"}),O;if(ee.isFormData(r)&&(O=ne.headers.get("content-type"))&&_.setContentType(O),ne.body){const[b,C]=Jw(k,bd(Yw(p)));r=Zw(ne.body,eE,b,C)}}ee.isString(E)||(E=E?"include":"omit");const F="credentials"in Request.prototype;R=new Request(e,{...T,signal:I,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:r,duplex:"half",credentials:F?E:void 0});let G=await fetch(R);const H=rm&&(g==="stream"||g==="response");if(rm&&(h||H&&j)){const ne={};["status","statusText","headers"].forEach(A=>{ne[A]=G[A]});const O=ee.toFiniteNumber(G.headers.get("content-length")),[b,C]=h&&Jw(O,bd(Yw(h),!0))||[];G=new Response(Zw(G.body,eE,b,()=>{C&&C(),j&&j()}),ne)}g=g||"text";let X=await Nd[ee.findKey(Nd,g)||"text"](G,n);return!H&&j&&j(),await new Promise((ne,O)=>{Fx(ne,O,{data:X,headers:zn.from(G.headers),status:G.status,statusText:G.statusText,config:n,request:R})})}catch(F){throw j&&j(),F&&F.name==="TypeError"&&/fetch/i.test(F.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,n,R),{cause:F.cause||F}):We.from(F,F&&F.code,n,R)}}),im={http:dO,xhr:BO,fetch:JO};ee.forEach(im,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const tE=n=>`- ${n}`,YO=n=>ee.isFunction(n)||n===null||n===!1,Hx={getAdapter:n=>{n=ee.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let a=0;a<e;a++){t=n[a];let u;if(r=t,!YO(t)&&(r=im[(u=String(t)).toLowerCase()],r===void 0))throw new We(`Unknown adapter '${u}'`);if(r)break;s[u||"#"+a]=r}if(!r){const a=Object.entries(s).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=e?a.length>1?`since :
`+a.map(tE).join(`
`):" "+tE(a[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:im};function mp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ha(null,n)}function nE(n){return mp(n),n.headers=zn.from(n.headers),n.data=pp.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Hx.getAdapter(n.adapter||yu.adapter)(n).then(function(r){return mp(n),r.data=pp.call(n,n.transformResponse,r),r.headers=zn.from(r.headers),r},function(r){return Vx(r)||(mp(n),r&&r.response&&(r.response.data=pp.call(n,n.transformResponse,r.response),r.response.headers=zn.from(r.response.headers))),Promise.reject(r)})}const Wx="1.8.4",dh={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{dh[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const rE={};dh.transitional=function(e,t,r){function s(a,u){return"[Axios v"+Wx+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return(a,u,h)=>{if(e===!1)throw new We(s(u," has been removed"+(t?" in "+t:"")),We.ERR_DEPRECATED);return t&&!rE[u]&&(rE[u]=!0,console.warn(s(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,u,h):!0}};dh.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function XO(n,e,t){if(typeof n!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const a=r[s],u=e[a];if(u){const h=n[a],p=h===void 0||u(h,a,n);if(p!==!0)throw new We("option "+a+" must be "+p,We.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new We("Unknown option "+a,We.ERR_BAD_OPTION)}}const Zc={assertOptions:XO,validators:dh},oi=Zc.validators;let So=class{constructor(e){this.defaults=e,this.interceptors={request:new Gw,response:new Gw}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=No(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:a}=t;r!==void 0&&Zc.assertOptions(r,{silentJSONParsing:oi.transitional(oi.boolean),forcedJSONParsing:oi.transitional(oi.boolean),clarifyTimeoutError:oi.transitional(oi.boolean)},!1),s!=null&&(ee.isFunction(s)?t.paramsSerializer={serialize:s}:Zc.assertOptions(s,{encode:oi.function,serialize:oi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Zc.assertOptions(t,{baseUrl:oi.spelling("baseURL"),withXsrfToken:oi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&ee.merge(a.common,a[t.method]);a&&ee.forEach(["delete","get","head","post","put","patch","common"],R=>{delete a[R]}),t.headers=zn.concat(u,a);const h=[];let p=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(t)===!1||(p=p&&j.synchronous,h.unshift(j.fulfilled,j.rejected))});const g=[];this.interceptors.response.forEach(function(j){g.push(j.fulfilled,j.rejected)});let _,E=0,T;if(!p){const R=[nE.bind(this),void 0];for(R.unshift.apply(R,h),R.push.apply(R,g),T=R.length,_=Promise.resolve(t);E<T;)_=_.then(R[E++],R[E++]);return _}T=h.length;let I=t;for(E=0;E<T;){const R=h[E++],j=h[E++];try{I=R(I)}catch(k){j.call(this,k);break}}try{_=nE.call(this,I)}catch(R){return Promise.reject(R)}for(E=0,T=g.length;E<T;)_=_.then(g[E++],g[E++]);return _}getUri(e){e=No(this.defaults,e);const t=Ux(e.baseURL,e.url,e.allowAbsoluteUrls);return Ox(t,e.params,e.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(e){So.prototype[e]=function(t,r){return this.request(No(r||{},{method:e,url:t,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function t(r){return function(a,u,h){return this.request(No(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}So.prototype[e]=t(),So.prototype[e+"Form"]=t(!0)});let ZO=class qx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const u=new Promise(h=>{r.subscribe(h),a=h}).then(s);return u.cancel=function(){r.unsubscribe(a)},u},e(function(a,u,h){r.reason||(r.reason=new Ha(a,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new qx(function(s){e=s}),cancel:e}}};function e2(n){return function(t){return n.apply(null,t)}}function t2(n){return ee.isObject(n)&&n.isAxiosError===!0}const sm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sm).forEach(([n,e])=>{sm[e]=n});function Kx(n){const e=new So(n),t=xx(So.prototype.request,e);return ee.extend(t,So.prototype,e,{allOwnKeys:!0}),ee.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Kx(No(n,s))},t}const Pt=Kx(yu);Pt.Axios=So;Pt.CanceledError=Ha;Pt.CancelToken=ZO;Pt.isCancel=Vx;Pt.VERSION=Wx;Pt.toFormData=uh;Pt.AxiosError=We;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=e2;Pt.isAxiosError=t2;Pt.mergeConfig=No;Pt.AxiosHeaders=zn;Pt.formToJSON=n=>Mx(ee.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=Hx.getAdapter;Pt.HttpStatusCode=sm;Pt.default=Pt;const{Axios:kL,AxiosError:AL,CanceledError:PL,isCancel:bL,CancelToken:NL,VERSION:jL,all:DL,Cancel:OL,isAxiosError:LL,spread:ML,toFormData:VL,AxiosHeaders:FL,HttpStatusCode:UL,formToJSON:BL,getAdapter:zL,mergeConfig:$L}=Pt,n2=()=>{const n=dx(),e=Hs(),{resumeFileName:t,jobDescription:r}=Id(H=>H.userInput),[s,a]=z.useState(null),[u,h]=z.useState(!1),[p,g]=z.useState(0),[_,E]=z.useState("Uploading resume..."),[T,I]=z.useState(null),[R,j]=z.useState(null);z.useEffect(()=>{const H=async()=>{if(An.currentUser){const ne=Ds(Jc,"users",An.currentUser.uid),O=await Xl(ne);if(O.exists()){const b=O.data();I(b.subscription||"free"),j(b.resumeScan??null)}}},X=gT(An,ne=>{ne?H():(I(null),j(null))});return()=>X()},[]);const k=H=>{const X=H.target.files[0];X&&X.type==="application/pdf"?(a(X),n(ED(X.name))):alert("Please upload a PDF file.")},F=async()=>{if(An.currentUser)return!0;try{const X=(await CT(An,ax)).user,ne=Ds(Jc,"users",X.uid);return(await Xl(ne)).exists()||await ix(ne,{email:X.email,subscription:"free",updatedAt:new Date().toISOString(),resumeScan:3,coverLetterScan:3}),!0}catch(H){return console.error("Google Auth error:",H),alert("Google Sign-In error: "+H.message),!1}},G=async()=>{if(!s){alert("Please upload a resume.");return}if(!r||r.trim()===""){alert("Please enter a job description.");return}if(!await F())return;if(T==="free"){if(R===0){alert("You have used all your free scans.");return}const b=Ds(Jc,"users",An.currentUser.uid),C=Math.max(R-1,0);try{await sx(b,{resumeScan:C}),j(C)}catch{alert("Failed to update your scan count. Please try again.");return}}h(!0),g(0);let X=0;const ne=setInterval(()=>{X+=10,g(X),X<50?E("Uploading resume..."):X<80?E("Analyzing and making results..."):E("Finalizing..."),X>=100&&clearInterval(ne)},500),O=new FormData;O.append("resume",s),O.append("jobDescription",r);try{const b=await Pt.post("https://api.brewmyjob.com/api/scan",O,{headers:{"Content-Type":"multipart/form-data"}});if(await new Promise(A=>{if(X>=100)A();else{const D=setInterval(()=>{X>=100&&(clearInterval(D),A())},100)}}),b.status===200)n(SD(b.data)),h(!1),e("/user-output");else throw new Error("Server error")}catch(b){console.error("Error uploading file:",b),h(!1)}};return f.jsxs("div",{className:"user-input-container",id:"resume-scan-section",children:[f.jsx("img",{src:"/process.png",alt:"Process steps",className:"process-image",style:{display:"block",margin:"0 auto 24px auto",maxWidth:"850px",width:"90%",height:"auto"}}),f.jsxs("div",{className:"input-sections",children:[f.jsxs("div",{className:"input-box",children:[f.jsx("h3",{children:"Resume (PDF)"}),f.jsxs("div",{className:"file-input-wrapper",children:[f.jsx("input",{type:"file",accept:".pdf",onChange:k,disabled:u}),t&&f.jsx("p",{children:t})]})]}),f.jsxs("div",{className:"input-box",children:[f.jsx("h3",{children:"Job Description"}),f.jsx("textarea",{placeholder:"Paste job description here...",value:r,onChange:H=>n(TD(H.target.value)),disabled:u})]})]}),f.jsxs("div",{className:"bottom-section",children:[T==="free"&&R!==null?f.jsxs("div",{className:"free-scans-info",style:{fontWeight:500},children:["Free available Scans: ",R]}):f.jsx("div",{}),f.jsx("button",{className:"scan-button",onClick:G,disabled:u||T==="free"&&R===0,children:u?"Scanning...":"Scan"})]}),u&&f.jsx("div",{className:"loading-popup",children:f.jsxs("div",{className:"loading-container",children:[f.jsx("p",{children:_}),f.jsx("div",{className:"progress-bar",children:f.jsx("div",{className:"progress",style:{width:`${p}%`}})})]})})]})},r2=({onClose:n})=>f.jsxs("div",{className:"welcome-note-container",children:[f.jsxs("div",{className:"header",children:[f.jsxs("div",{className:"title",children:[f.jsx("span",{className:"lock-icon",children:""})," How Our Platform is Different"]}),f.jsx("button",{className:"close-button",onClick:n,children:""})]}),f.jsxs("div",{className:"content",children:[f.jsxs("div",{className:"section-col",children:[f.jsxs("div",{className:"section",children:[f.jsx("h3",{children:"Perfect for every job application"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[" ",f.jsx("em",{children:"Unlimited_  "}),"  resume scans"]}),f.jsx("li",{children:" Generate your Cover Letter"})]})]}),f.jsxs("div",{className:"section",children:[f.jsx("h3",{children:"Job-Matching Intelligence"}),f.jsxs("ul",{children:[f.jsx("li",{children:" Unlike simple ATS trackers, our platform analyzes your resume and the actual job description togethernot just keywords. We show you exactly how your skills and experience align with each job youre targeting."}),f.jsxs("li",{children:[" ",f.jsx("a",{href:"#",children:"ATS friendly resume scans"})]})]})]}),f.jsxs("div",{className:"section",children:[f.jsx("h3",{children:"AI-Powered Resume & Cover Letter Generator"}),f.jsx("ul",{children:f.jsxs("li",{children:["","Instantly generate tailored resumes and cover letters customized to each job postingsaving you hours of manual work and maximizing your chances with every application."]})})]})]}),f.jsxs("div",{className:"section-col",children:[f.jsxs("div",{className:"section",children:[f.jsx("h3",{children:"Actionable Match Reports"}),f.jsx("ul",{children:f.jsxs("li",{children:["","Get a clear, visual breakdown of your resumes strengths and gaps versus the job requirements. See exactly which skills, experiences, or keywords youre missingno more guesswork!"]})})]}),f.jsxs("div",{className:"section",children:[f.jsx("h3",{children:"LinkedIn and e-Presence Boost"}),f.jsx("ul",{children:f.jsxs("li",{children:["","Use our LinkedIn optimization tools to make sure your digital presence supports your job search, helping you get noticed by recruiters and hiring managers."]})})]})]})]})]}),i2=[{name:"Sarah M.",review:"Amazing tool! My interview calls doubled after using ATS Killer.",rating:5},{name:"James L.",review:"Easy to use and helped me understand what recruiters want.",rating:4},{name:"Alicia K.",review:"Loved the keyword matching! It really boosted my confidence.",rating:5},{name:"David P.",review:"Very insightful, the match report is a game changer.",rating:5},{name:"Emily T.",review:"Great for tailoring my resume to each job, highly recommended.",rating:4}];function s2({count:n}){return f.jsx("div",{className:"star-rating",children:[...Array(5)].map((e,t)=>f.jsx("span",{style:{color:t<n?"#fbbf24":"#d1d5db",fontSize:18},children:""},t))})}const o2=()=>{const n=z.useRef(null),e=t=>{n.current&&n.current.scrollBy({left:t==="left"?-320:320,behavior:"smooth"})};return f.jsxs("div",{className:"customer-review-section",children:[f.jsxs("div",{className:"review-arrows-row",children:[f.jsx("button",{className:"arrow-btn",onClick:()=>e("left"),"aria-label":"Scroll left",children:""}),f.jsx("h2",{className:"review-section-title",children:"What our users say"}),f.jsx("button",{className:"arrow-btn",onClick:()=>e("right"),"aria-label":"Scroll right",children:""})]}),f.jsx("div",{className:"review-card-list",ref:n,children:i2.map((t,r)=>f.jsxs("div",{className:"review-card",children:[f.jsxs("div",{className:"review-text",children:['"',t.review,'"']}),f.jsx(s2,{count:t.rating}),f.jsxs("div",{className:"review-author",children:[" ",t.name]})]},r))})]})};function a2(){const n=()=>{const e=document.getElementById("resume-scan-section");e&&e.scrollIntoView({behavior:"smooth"})};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"main-wrapper",children:[f.jsxs("div",{className:"cover-image-wrapper",children:[f.jsx("img",{src:"/cover-image.png",alt:"Resume Optimization",className:"cover-image"}),f.jsxs("div",{className:"cover-overlay",children:[f.jsx("h1",{className:"cover-title",children:"Land more interviews with a smarter resume."}),f.jsxs("div",{className:"cover-tagline",children:["ATS Killer optimizes your resume for every job, ",f.jsx("br",{})," spotlighting your most valuable skills so you ",f.jsx("br",{})," never get overlooked."]}),f.jsx("button",{className:"cover-btn",onClick:n,children:"Get Started"})]})]}),f.jsxs("div",{className:"feature-image-wrapper",children:[f.jsx("img",{src:"/feature-image.png",alt:"Resume Match Rate",className:"feature-image"}),f.jsxs("div",{className:"feature-overlay",children:[f.jsx("h2",{className:"feature-title",children:"Show that you're the perfect match"}),f.jsx("div",{className:"feature-tagline",children:"ATS killers proprietary AI analyzes your resume and compares it to the job listing using AI technology. Use your match rate report to see how to optimize your resume to get more interviews."})]})]}),f.jsxs("div",{className:"resume-container",children:[f.jsx(n2,{}),f.jsxs("div",{className:"robot-image-wrapper",children:[f.jsx("img",{src:"/robot-image.png",alt:"ATS Robot",className:"robot-image"}),f.jsxs("div",{className:"robot-overlay",children:[f.jsx("h2",{className:"robot-title",children:"Beat the bots, land more interviews!"}),f.jsx("div",{className:"robot-tagline",children:"Most companies use Applicant Tracking Systems (ATS) that may filter out qualified candidates. Our AI helps you pass the robot and get noticed by recruiters."}),f.jsx("button",{className:"robot-btn",onClick:n,children:"Learn More"})]})]}),f.jsx(o2,{}),f.jsx(r2,{})]})]})})}const Gx=lD({reducer:{userInput:RD}}),bn=()=>f.jsxs("footer",{className:"progress-footer",children:[f.jsxs("div",{className:"pf-main",children:[f.jsxs("div",{className:"pf-section pf-transformation",children:[f.jsx("h3",{children:"BrewMyJob: Your AI Career Barista"}),f.jsx("p",{className:"pf-desc",children:"Brew a smarter job search. From analysis to action, BrewMyJob brings you the insights and documents you needso you can focus on landing interviews, not paperwork."}),f.jsxs("div",{className:"pf-features-row",children:[f.jsxs("div",{className:"pf-feature-group",children:[f.jsxs("div",{children:[f.jsx("span",{className:"pf-feature-title",children:"Intelligent Resume & Job Match Analysis"}),f.jsx("p",{children:"Scan your resume and any job description to instantly receive a comprehensive report on your fit, including keyword gaps, skills alignment, and improvement suggestions."})]}),f.jsxs("div",{children:[f.jsx("span",{className:"pf-feature-title",children:"Keyword & Skill Gap Highlighting"}),f.jsx("p",{children:"Get a clear view of missing keywords, soft skills, and hard skillsso you can optimize your resume for every opportunity."})]}),f.jsxs("div",{children:[f.jsx("span",{className:"pf-feature-title",children:"Personalized Fit Scoring & Insights"}),f.jsx("p",{children:"Receive an overall match score and actionable feedback based on advanced comparison of your resume to any job description."})]})]}),f.jsxs("div",{className:"pf-feature-group",children:[f.jsxs("div",{children:[f.jsx("span",{className:"pf-feature-title",children:"Instant Cover Letter Generation"}),f.jsx("p",{children:"Let BrewMyJob instantly generate a tailored cover letter from your resume and the job descriptionready to copy, send, and impress."})]}),f.jsxs("div",{children:[f.jsx("span",{className:"pf-feature-title",children:"Application Readiness Report"}),f.jsx("p",{children:"Get a checklist and summary report ensuring your application is complete, relevant, and optimized for the specific role"})]})]})]})]}),f.jsx("div",{className:"pf-section pf-links",children:f.jsxs("div",{className:"pf-links-col",children:[f.jsx("div",{className:"pf-links-title",children:"QUICK LINKS"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx("a",{href:"#",children:"Products"})}),f.jsx("li",{children:f.jsx("a",{href:"#",children:"Trials"})}),f.jsx("li",{children:f.jsx("a",{href:"#",children:"Partners"})}),f.jsx("li",{children:f.jsx("a",{href:"#",children:"Support"})}),f.jsx("li",{children:f.jsx("a",{href:"#",children:"Training"})}),f.jsx("li",{children:f.jsx("a",{href:"#",children:"Consulting"})}),f.jsx("li",{children:f.jsx("a",{href:"#",children:"Blogs"})})]})]})}),f.jsxs("div",{className:"pf-section pf-about",children:[f.jsx("div",{className:"pf-about-title",children:"ABOUT"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx("a",{href:"/about",children:"Company"})}),f.jsx("li",{children:f.jsx("a",{href:"/contact",children:"Contact"})}),f.jsx("li",{children:f.jsx("a",{href:"/suggestions",children:"Feedback"})}),f.jsx("li",{children:f.jsx("a",{href:"/questions",children:"FAQ"})}),f.jsx("li",{children:f.jsx("a",{href:"/privacy-policy",children:"Privacy Policy"})})]})]}),f.jsxs("div",{className:"pf-section pf-contact",children:[f.jsx("button",{className:"pf-contact-btn",children:"CONTACT US"}),f.jsx("div",{className:"pf-phone",children:"support@brewmyjob.com"})]})]}),f.jsxs("div",{className:"pf-lower",children:[f.jsxs("div",{className:"pf-lower-left",children:[f.jsx("img",{src:"/images/progress-logo-ash.png",alt:"Progress Logo",className:"pf-logo"}),f.jsxs("div",{className:"pf-policies",children:[f.jsx("a",{href:"#",children:"Terms of Use"})," | ",f.jsx("a",{href:"#",children:"Privacy Policy"})," | ",f.jsx("a",{href:"#",children:"Trademarks"})," | ",f.jsx("a",{href:"#",children:"License Agreements"})]}),f.jsx("div",{className:"pf-copyright",children:"Copyright  2025, BrewMyJob Inc. and/or its affiliates. All rights reserved."})]}),f.jsxs("div",{className:"pf-lower-social",children:[f.jsx("a",{href:"https://www.facebook.com/profile.php?id=61577352324297",children:f.jsx("img",{src:"/icons/facebook.png",alt:"Facebook",width:"24",height:"24"})}),f.jsx("a",{href:"#",children:f.jsx("img",{src:"/icons/twitter.png",alt:"Twitter",width:"24",height:"24"})}),f.jsx("a",{href:"#",children:f.jsx("img",{src:"/icons/youtube.png",alt:"YouTube",width:"24",height:"24"})}),f.jsx("a",{href:"https://www.linkedin.com/company/brew-my-job/",children:f.jsx("img",{src:"/icons/linkedin.png",alt:"LinkedIn",width:"24",height:"24"})})]})]})]});function l2(){return f.jsx(lx,{store:Gx,children:f.jsxs("div",{id:"wrapper",children:[f.jsx(Sn,{}),f.jsx(a2,{}),f.jsx(bn,{})]})})}function u2(){return f.jsx(f.Fragment,{children:f.jsxs("div",{id:"wrapper",children:[f.jsx(Sn,{}),f.jsx("h3",{children:"Blob Page"}),f.jsx(bn,{})]})})}const nu={_origin:"https://api.emailjs.com"},c2=(n,e="https://api.emailjs.com")=>{nu._userID=n,nu._origin=e},Qx=(n,e,t)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class iE{constructor(e){this.status=e.status,this.text=e.responseText}}const Jx=(n,e,t={})=>new Promise((r,s)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:u})=>{const h=new iE(u);h.status===200||h.text==="OK"?r(h):s(h)}),a.addEventListener("error",({target:u})=>{s(new iE(u))}),a.open("POST",nu._origin+n,!0),Object.keys(t).forEach(u=>{a.setRequestHeader(u,t[u])}),a.send(e)}),d2=(n,e,t,r)=>{const s=r||nu._userID;return Qx(s,n,e),Jx("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},h2=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},f2=(n,e,t,r)=>{const s=r||nu._userID,a=h2(t);Qx(s,n,e);const u=new FormData(a);return u.append("lib_version","3.2.0"),u.append("service_id",n),u.append("template_id",e),u.append("user_id",s),Jx("/api/v1.0/email/send-form",u)},p2={init:c2,send:d2,sendForm:f2};function m2(){const n=z.useRef(),[e,t]=z.useState(!1),r=s=>{s.preventDefault(),p2.sendForm("service_7oqysva","template_4i4wdml",n.current,"f1PHAn8hzC1Z0XHdI").then(()=>t(!0),()=>alert("Something went wrong. Please try again later."))};return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{}),f.jsxs("div",{className:"contact-main-container",children:[f.jsxs("div",{className:"contact-info-panel",children:[f.jsx("h1",{children:"Contact Us"}),f.jsx("p",{children:"Wed love to hear from you! Reach out via email or connect on social media."}),f.jsxs("div",{className:"contact-detail",children:[f.jsx("strong",{children:"Email:"}),f.jsx("a",{href:"mailto:ranishkalakshangsc@gmail.com",children:"ranishkalakshangsc@gmail.com"})]}),f.jsxs("div",{className:"contact-detail",children:[f.jsx("strong",{children:"Follow us:"}),f.jsxs("div",{className:"social-links",children:[f.jsx("a",{href:"https://www.linkedin.com/company/brew-my-job/",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{src:"/images/linkedin-icon.png",alt:"LinkedIn"})}),f.jsx("a",{href:"https://twitter.com/",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{src:"/images/twitter-icon.png",alt:"Twitter"})}),f.jsx("a",{href:"https://www.facebook.com/profile.php?id=61577352324297",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{src:"/images/facebook-icon.png",alt:"Facebook"})})]})]}),f.jsxs("div",{className:"contact-detail",children:[f.jsx("strong",{children:"Address:"}),f.jsx("p",{children:"Toronto, ON, Canada"})]})]}),f.jsx("div",{className:"contact-form-panel",children:f.jsxs("form",{ref:n,onSubmit:r,className:"contact-form",children:[f.jsx("h2",{children:"Send a Message"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Name"}),f.jsx("input",{type:"text",name:"user_name",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",name:"user_email",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Message"}),f.jsx("textarea",{name:"message",rows:"5",required:!0})]}),f.jsx("button",{type:"submit",className:"contact-btn",children:"Send"}),e&&f.jsx("div",{className:"thankyou-msg",children:"Thank you for reaching out! Well get back to you soon."})]})})]}),f.jsx(bn,{})]})}function g2(){return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{}),f.jsxs("div",{className:"about-us-container",children:[f.jsx("h1",{children:"About Us"}),f.jsxs("p",{children:[f.jsx("strong",{children:"Brew My Job"})," is your smart companion in the job search journeyhelping you craft ATS-optimized resumes, generate tailored cover letters, and connect with meaningful opportunities. We blend innovative technology with an intuitive experience, making job hunting simpler and more successful for everyone."]}),f.jsxs("section",{className:"about-section",children:[f.jsx("h2",{children:"Our Vision"}),f.jsx("p",{children:f.jsx("em",{children:"To empower every job seeker to unlock their full potential and land their dream roleone freshly brewed application at a time."})})]}),f.jsxs("section",{className:"about-section",children:[f.jsx("h2",{children:"Our Mission"}),f.jsx("p",{children:"We strive to remove barriers in job applications by providing cutting-edge tools, practical guidance, and a supportive communitymaking your career journey smarter, faster, and more rewarding."})]}),f.jsxs("section",{className:"about-section",children:[f.jsx("h2",{children:"What We Offer"}),f.jsxs("ul",{children:[f.jsx("li",{children:" Instant resume scanning & keyword matching"}),f.jsx("li",{children:" One-click cover letter generation"}),f.jsx("li",{children:" Beautiful, modern resume & cover letter templates"}),f.jsx("li",{children:" LinkedIn profile optimization"}),f.jsx("li",{children:" Recruiter tools & bulk analysis (for companies)"}),f.jsx("li",{children:" Clear pricing, free & premium plans"})]})]}),f.jsxs("section",{className:"about-section",children:[f.jsx("h2",{children:"Why Choose Brew My Job?"}),f.jsxs("ul",{children:[f.jsx("li",{children:" Built for job seekers, by career experts and techies"}),f.jsx("li",{children:" ATS-friendly and recruiter-approved"}),f.jsx("li",{children:" Simple, fast, and secure"}),f.jsx("li",{children:" Friendly supportalways brewing new features!"})]})]})]}),f.jsx(bn,{})]})}function y2(){return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{}),f.jsxs("div",{className:"privacy-policy-container",children:[f.jsx("h1",{children:"Privacy Policy"}),f.jsxs("p",{children:[f.jsx("strong",{children:"Brew My Job"})," (we, us, or our) is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our website and services."]}),f.jsxs("section",{children:[f.jsx("h2",{children:"1. Information We Collect"}),f.jsx("p",{children:"We collect several types of information to provide and improve our services:"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("b",{children:"Personal Information:"})," Such as your name, email address, and contact details when you register or use our contact form."]}),f.jsxs("li",{children:[f.jsx("b",{children:"Usage Data:"})," Information on how you interact with our site, such as pages visited, time spent, and referring website."]}),f.jsxs("li",{children:[f.jsx("b",{children:"Uploaded Documents:"})," Resumes, cover letters, and other files you choose to upload for analysis."]}),f.jsxs("li",{children:[f.jsx("b",{children:"Cookies & Tracking:"})," We use cookies to enhance your experience and analyze traffic."]})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"2. How We Use Your Information"}),f.jsxs("ul",{children:[f.jsx("li",{children:"To provide and maintain our service."}),f.jsx("li",{children:"To personalize your experience and offer relevant features."}),f.jsx("li",{children:"To communicate with you regarding updates, promotions, or support."}),f.jsx("li",{children:"To improve our platform based on user feedback and analytics."}),f.jsx("li",{children:"To detect, prevent, and address technical issues or abuse."})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"3. Sharing Your Information"}),f.jsxs("ul",{children:[f.jsxs("li",{children:["We do ",f.jsx("strong",{children:"not"})," sell or rent your personal information to third parties."]}),f.jsx("li",{children:"We may share data with trusted service providers who help us operate our site, provided they uphold strict privacy standards."}),f.jsx("li",{children:"We may disclose your information if required by law, regulation, or to protect our legal rights."})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"4. Cookies and Tracking Technologies"}),f.jsx("p",{children:"Brew My Job uses cookies and similar tracking technologies to enhance user experience, remember preferences, and gather usage analytics. You may adjust your browser settings to refuse cookies, but some site features may not function properly."})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"5. Data Security"}),f.jsx("p",{children:"We use commercially reasonable measures to protect your information. However, no online transmission or electronic storage is 100% secure, and we cannot guarantee absolute security."})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"6. Third-Party Links"}),f.jsx("p",{children:"Our site may contain links to third-party websites or services that are not operated by us. We are not responsible for the content or privacy practices of these third-party sites."})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"7. Childrens Privacy"}),f.jsx("p",{children:"Our service is not intended for children under 16. We do not knowingly collect personal information from children under 16. If we discover such data has been collected, we will take steps to delete it promptly."})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"8. Your Choices and Rights"}),f.jsxs("ul",{children:[f.jsx("li",{children:"You can access, update, or delete your personal information by contacting us."}),f.jsx("li",{children:"You may unsubscribe from promotional communications at any time."}),f.jsxs("li",{children:["For any privacy-related questions or requests, contact us at ",f.jsx("a",{href:"mailto:ranishkalakshangsc@gmail.com",children:"ranishkalakshangsc@gmail.com"}),"."]})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"9. Changes to This Policy"}),f.jsx("p",{children:"We may update this Privacy Policy from time to time. Changes will be posted here, and your continued use of Brew My Job after such changes constitutes acceptance."})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"10. Contact Us"}),f.jsxs("p",{children:["If you have any questions or concerns about this Privacy Policy or our practices, please email us at ",f.jsx("a",{href:"mailto:ranishkalakshangsc@gmail.com",children:"ranishkalakshangsc@gmail.com"}),"."]})]})]}),f.jsx(bn,{})]})}function v2(){const[n,e]=z.useState(0),[t,r]=z.useState(0),[s,a]=z.useState(!1),u=h=>{h.preventDefault(),a(!0)};return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{}),f.jsxs("div",{className:"suggestions-main-container",children:[f.jsxs("div",{className:"suggestions-info-panel",children:[f.jsx("h1",{children:"Suggestions & Feedback"}),f.jsxs("p",{children:["Your feedback helps us improve ",f.jsx("strong",{children:"Brew My Job"})," and serve you better. We welcome all your ideas, feature requests, and suggestions for making job hunting easier and smarter!"]}),f.jsxs("ul",{children:[f.jsx("li",{children:" Found a bug? Let us know!"}),f.jsx("li",{children:" Want a new feature? Suggest it here."}),f.jsx("li",{children:" Enjoying the platform? Give us a rating!"})]}),f.jsxs("p",{children:["You can also email us at ",f.jsx("a",{href:"mailto:ranishkalakshangsc@gmail.com",children:"ranishkalakshangsc@gmail.com"}),"."]})]}),f.jsx("div",{className:"suggestions-form-panel",children:s?f.jsx("div",{className:"thankyou-msg",children:"Thank you for your feedback! We appreciate your input and will use it to improve Brew My Job."}):f.jsxs("form",{className:"suggestions-form",onSubmit:u,children:[f.jsx("h2",{children:"Share Your Thoughts"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email (optional)"}),f.jsx("input",{type:"email",name:"email",placeholder:"your@email.com"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Your Feedback or Suggestion"}),f.jsx("textarea",{name:"feedback",rows:"5",required:!0,placeholder:"Tell us how we can improve, or what you love!"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Rate Your Experience"}),f.jsxs("div",{className:"star-rating",children:[[1,2,3,4,5].map(h=>f.jsx("span",{className:h<=(t||n)?"star filled":"star",onClick:()=>e(h),onMouseEnter:()=>r(h),onMouseLeave:()=>r(0),role:"button","aria-label":`Rate ${h} out of 5`,children:""},h)),f.jsx("span",{className:"rating-value",children:n>0?n+"/5":""})]})]}),f.jsx("button",{type:"submit",className:"suggestions-btn",children:"Submit Feedback"})]})})]}),f.jsx(bn,{})]})}function _2(){return f.jsxs("div",{children:[f.jsx(Sn,{}),f.jsx("h3",{children:"Scan  Result"})]})}const hh=()=>{const n=Hs(),[e,t]=z.useState(window.innerWidth<=900),[r,s]=z.useState(!1),a=()=>{t(window.innerWidth<=900),window.innerWidth>900&&s(!0)};z.useEffect(()=>(a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)),[]);const u=()=>s(!r);return f.jsxs(f.Fragment,{children:[e&&f.jsx("button",{className:"sidebar-toggle-btn",onClick:u,children:""}),f.jsxs("div",{className:`sidebar ${e?r?"open":"closed":""}`,children:[f.jsx("div",{className:"logo"}),f.jsxs("ul",{className:"nav-list",children:[f.jsx("li",{onClick:()=>n("/"),children:"New Scan"}),f.jsx("li",{onClick:()=>n("/user-output"),children:"Scan Result"}),f.jsx("li",{onClick:()=>n("/cover-letter"),children:"Cover Letters"}),f.jsx("li",{onClick:()=>n("/resumes"),children:"Resumes"}),f.jsx("li",{onClick:()=>n("/pricing"),children:"Pricing & Plans"})]})]}),e&&r&&f.jsx("div",{className:"sidebar-overlay",onClick:u})]})},w2=({overallScore:n})=>f.jsxs("div",{className:"match-score-container",children:[f.jsx("div",{className:"circle-progress",children:f.jsxs("svg",{viewBox:"0 0 36 36",className:"circular-chart",children:[f.jsx("path",{className:"circle-bg",d:`M18 2.0845\r
              a 15.9155 15.9155 0 0 1 0 31.831\r
              a 15.9155 15.9155 0 0 1 0 -31.831`}),f.jsx("path",{className:"circle",strokeDasharray:`${n}, 100`,d:`M18 2.0845\r
              a 15.9155 15.9155 0 0 1 0 31.831\r
              a 15.9155 15.9155 0 0 1 0 -31.831`}),f.jsx("text",{x:"18",y:"20.35",className:"percentage-text",children:n})]})}),f.jsxs("div",{className:"match-score-text",children:[f.jsx("h3",{children:"Keep adding those missing keywords to raise your score!"}),f.jsx("p",{children:"Your computed match rate is below the recommended score of 80 to be competitive for this job. There is a small probability that your resume may be skipped over for a more qualified candidate. Please review the below report and add any relevant missing skills or keywords to increase your Match Score above 80."})]})]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var om=function(n,e){return om=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s])},om(n,e)};function E2(n,e){om(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var T2=100,S2=100,sE=50,am=50,lm=50;function oE(n){var e=n.className,t=n.counterClockwise,r=n.dashRatio,s=n.pathRadius,a=n.strokeWidth,u=n.style;return z.createElement("path",{className:e,style:Object.assign({},u,I2({pathRadius:s,dashRatio:r,counterClockwise:t})),d:x2({pathRadius:s,counterClockwise:t}),strokeWidth:a,fillOpacity:0})}function x2(n){var e=n.pathRadius,t=n.counterClockwise,r=e,s=t?1:0;return`
      M `+am+","+lm+`
      m 0,-`+r+`
      a `+r+","+r+" "+s+" 1 1 0,"+2*r+`
      a `+r+","+r+" "+s+" 1 1 0,-"+2*r+`
    `}function I2(n){var e=n.counterClockwise,t=n.dashRatio,r=n.pathRadius,s=Math.PI*2*r,a=(1-t)*s;return{strokeDasharray:s+"px "+s+"px",strokeDashoffset:(e?-a:a)+"px"}}var gp=function(n){E2(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return sE-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var t=this.props,r=t.value,s=t.minValue,a=t.maxValue,u=Math.min(Math.max(r,s),a);return(u-s)/(a-s)},e.prototype.render=function(){var t=this.props,r=t.circleRatio,s=t.className,a=t.classes,u=t.counterClockwise,h=t.styles,p=t.strokeWidth,g=t.text,_=this.getPathRadius(),E=this.getPathRatio();return z.createElement("svg",{className:a.root+" "+s,style:h.root,viewBox:"0 0 "+T2+" "+S2,"data-test-id":"CircularProgressbar"},this.props.background?z.createElement("circle",{className:a.background,style:h.background,cx:am,cy:lm,r:sE}):null,z.createElement(oE,{className:a.trail,counterClockwise:u,dashRatio:r,pathRadius:_,strokeWidth:p,style:h.trail}),z.createElement(oE,{className:a.path,counterClockwise:u,dashRatio:E*r,pathRadius:_,strokeWidth:p,style:h.path}),g?z.createElement("text",{className:a.text,style:h.text,x:am,y:lm},g):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(z.Component);const R2=()=>{const{extractedResumeText:n,scannedJobDescription:e,phone:t,email:r,address:s,linkedin:a,hardskillsjd:u,hardskillsre:h,matchingjdre:p,keywordsjd:g,keywordsre:_,softskillsjd:E,softskillsre:T,missingKeywords:I}=Id(P=>P.userInput);Hs();const[R,j]=z.useState("resume"),k=()=>f.jsx("div",{className:"table-container",children:f.jsxs("table",{className:"styled-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Tech Skills"}),f.jsx("th",{children:"Resume"}),f.jsx("th",{children:"Job Description"})]})}),f.jsx("tbody",{children:u.map((P,De)=>f.jsxs("tr",{children:[f.jsx("td",{children:P}),f.jsx("td",{children:h.includes(P)?f.jsx("span",{className:"modern-check"}):f.jsx("span",{className:"modern-cross"})}),f.jsx("td",{children:f.jsx("span",{className:"modern-check"})})]},De))})]})}),F=()=>f.jsx("div",{className:"table-container",children:f.jsxs("table",{className:"styled-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Soft Skills"}),f.jsx("th",{children:"Resume"}),f.jsx("th",{children:"Job Description"})]})}),f.jsx("tbody",{children:E.map((P,De)=>f.jsxs("tr",{children:[f.jsx("td",{children:P}),f.jsx("td",{children:T.includes(P)?f.jsx("span",{className:"modern-check"}):f.jsx("span",{className:"modern-cross"})}),f.jsx("td",{children:f.jsx("span",{className:"modern-check"})})]},De))})]})}),G=()=>f.jsx("div",{className:"table-container",children:f.jsxs("table",{className:"styled-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Keywords"}),f.jsx("th",{children:"Resume"}),f.jsx("th",{children:"Job Description"})]})}),f.jsx("tbody",{children:g.map((P,De)=>f.jsxs("tr",{children:[f.jsx("td",{children:P}),f.jsx("td",{children:_.includes(P)?f.jsx("span",{className:"modern-check"}):f.jsx("span",{className:"modern-cross"})}),f.jsx("td",{children:f.jsx("span",{className:"modern-check"})})]},De))})]})}),H=P=>{if(!P)return"";let De=P;return p.forEach(He=>{const Ue=new RegExp(`\\b${He}\\b`,"gi");De=De.replace(Ue,be=>`<span class="highlight-keyword-green">${be}</span>`)}),f.jsx("span",{dangerouslySetInnerHTML:{__html:De}})},X=P=>{if(!P)return"";let De=P;const He=(Ue,be)=>{(Array.isArray(Ue)?Ue:[Ue]).forEach(ue=>{if(!ue)return;const _e=new RegExp(`\\b${ue}\\b`,"gi");De=De.replace(_e,de=>`<span class="${be}">${de}</span>`)})};return He(p,"highlight-keyword-green"),He(I,"highlight-keyword-red"),f.jsx("span",{dangerouslySetInnerHTML:{__html:De}})},ne=u.filter(P=>h.includes(P)).length,O=(ne/u.length*100).toFixed(2),b=E.filter(P=>T.includes(P)).length,C=(b/E.length*100).toFixed(2),A=g.filter(P=>_.includes(P)).length,D=(A/g.length*100).toFixed(2),$=(P=>{const{keywordsjd:De,softskillsjd:He,hardskillsjd:Ue,keywordsre:be,softskillsre:ue,hardskillsre:_e,matchingjdre:de,phone:U,email:te,address:me,linkedin:Ne,structure:Fe,wordcount:je}=P.userInput,Qe=[...new Set([...De,...He,...Ue])],Xe=[...new Set([...be,...ue,..._e,...de])],Bt=((Qe.filter(or=>Xe.includes(or)).length/Qe.length||0)*60).toFixed(2);let $n=10;const sr=[U,te,me,Ne].filter(or=>!or).length;$n-=sr*2.5;let Gt=Fe==="good"?10:Fe==="average"?5:0,Hn=0;je>=475&&je<=600?Hn=20:(je>600&&je<=800||je>=300&&je<475)&&(Hn=10);const zr=(parseFloat(Bt)+$n+Gt+Hn).toFixed(2);return console.log("Keyword Matching Score:",Bt),console.log("Essential Info Score:",$n),console.log("Structure Info Score:",Gt),console.log("Word Count Score:",Hn),console.log("Final Overall Score:",zr),zr})(Id(P=>P));return f.jsxs("div",{className:"app-layout",children:[f.jsx(Sn,{}),f.jsxs("div",{className:"container",children:[f.jsx(hh,{}),f.jsxs("div",{className:"user-output-content",children:[f.jsx("div",{className:"output-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"}}),f.jsx(w2,{overallScore:$}),f.jsxs("div",{className:"tabs",children:[f.jsx("button",{className:R==="resume"?"active":"",onClick:()=>j("resume"),children:"Resume"}),f.jsx("button",{className:R==="job"?"active":"",onClick:()=>j("job"),children:"Job Description"})]}),f.jsxs("div",{className:"tab-content",children:[R==="resume"&&f.jsxs("div",{children:[f.jsx("div",{className:"contact-section white-background",children:f.jsx("p",{children:"These are the personal details found on your resume through our ATS (Applicant Tracking System) scan. They help in ensuring your contact information is correctly presented."})}),t&&f.jsxs("div",{className:"contact-section white-background",children:[f.jsxs("div",{className:"contact-header",children:[f.jsx("span",{className:"contact-icon",children:""}),f.jsx("h3",{className:"contact-title",children:"Phone Number"})]}),f.jsxs("p",{className:"contact-details",children:["Your resume shows you have ",f.jsx("strong",{children:t})," as your contact phone number."]})]}),r&&f.jsxs("div",{className:"contact-section white-background",children:[f.jsxs("div",{className:"contact-header",children:[f.jsx("span",{className:"contact-icon",children:""}),f.jsx("h3",{className:"contact-title",children:"Email"})]}),f.jsxs("p",{className:"contact-details",children:["Your resume shows you have ",f.jsx("strong",{children:r})," as your contact email address."]})]}),s&&f.jsxs("div",{className:"contact-section white-background",children:[f.jsxs("div",{className:"contact-header",children:[f.jsx("span",{className:"contact-icon ",children:""}),f.jsx("h3",{className:"contact-title",children:"Address"})]}),f.jsxs("p",{className:"contact-details",children:["Your resume shows your address as: ",f.jsx("strong",{children:s}),"."]})]}),a&&f.jsxs("div",{className:"contact-section white-background",children:[f.jsxs("div",{className:"contact-header",children:[f.jsx("span",{className:"contact-icon ",children:""}),f.jsx("h3",{className:"contact-title",children:"LinkedIn Profile"})]}),a.startsWith("http")?f.jsxs("p",{children:["Your LinkedIn profile:"," ",f.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:a})]}):f.jsxs("p",{className:"contact-details",children:["Your resume contains the LinkedIn information: ",f.jsx("strong",{children:a})]})]}),f.jsxs("div",{className:"contact-section",children:[f.jsxs("div",{className:"score-container",children:[f.jsx("div",{className:"score-label",children:f.jsx(gp,{value:O,text:`${O}%`})}),f.jsxs("div",{className:"skills-comparison",children:[f.jsx("h3",{children:" Skills Comparison"}),f.jsxs("p",{children:["Out of ",f.jsx("strong",{children:u.length})," hard skills in the job description, you have ",f.jsx("strong",{children:ne})," matching skills in your resume. This is ",O,"% of the required skills."]})]})]}),k()]}),f.jsxs("div",{className:"contact-section",children:[f.jsxs("div",{className:"score-container",children:[f.jsx("div",{className:"score-label",children:f.jsx(gp,{value:C,text:`${C}%`})}),f.jsxs("div",{className:"skills-comparison",children:[f.jsx("h3",{children:" Soft Skills Comparison"}),f.jsxs("p",{children:["Out of ",f.jsx("strong",{children:E.length})," soft skills in the job description, you have ",f.jsx("strong",{children:b})," matching skills in your resume. This is ",C,"% of the required skills."]})]})]}),F()]}),f.jsxs("div",{className:"contact-section",children:[f.jsxs("div",{className:"score-container",children:[f.jsx("div",{className:"score-label",children:f.jsx(gp,{value:D,text:`${D}%`})}),f.jsxs("div",{className:"skills-comparison",children:[f.jsx("h3",{children:" Keywords Comparison"}),f.jsxs("p",{children:["Out of ",f.jsx("strong",{children:g.length})," keywords in the job description, you have ",f.jsx("strong",{children:A})," matching keywords in your resume. Try to add more keywords from here."]})]})]}),G()]}),f.jsxs("div",{className:"resume-section",children:[f.jsx("h3",{children:"Extracted Resume Text"}),f.jsx("pre",{children:H(n)})]})]}),R==="job"&&f.jsxs("div",{className:"job-content",children:[f.jsx("h3",{children:"Job Description"}),f.jsx("pre",{children:X(e)})]})]})]})]}),f.jsx(bn,{})]})};function C2(){const n=dx();Hs();const[e,t]=z.useState(!1),r=()=>{u&&(navigator.clipboard.writeText(u),t(!0),setTimeout(()=>t(!1),2e3))},{coverLetterFileName:s,coverLetterJobDescription:a,coverLetterResult:u,coverLetterLoading:h}=Id(k=>k.userInput),[p,g]=z.useState(null),[_,E]=z.useState(0),[T,I]=z.useState("");vt.useEffect(()=>{n(ID())},[]);const R=k=>{const F=k.target.files[0];F&&F.type==="application/pdf"?(g(F),n($w(F.name))):(alert("Please upload a PDF file."),g(null),n($w("")))},j=async()=>{if(!p){alert("Please upload a resume.");return}if(!a||a.trim()===""){alert("Please enter a job description.");return}n(Hw(!0)),I("Uploading resume..."),E(10);const k=new FormData;k.append("resume",p),k.append("jobDescription",a);let F=10;const G=setInterval(()=>{F+=10,E(F),F<50?I("Uploading resume..."):F<80?I("Generating cover letter..."):I("Finalizing..."),F>=100&&clearInterval(G)},500);try{const H=await Pt.post("https://api.brewmyjob.com/api/generate-cover-letter",k,{headers:{"Content-Type":"multipart/form-data"}});await new Promise(ne=>{if(F>=100)ne();else{const O=setInterval(()=>{F>=100&&(clearInterval(O),ne())},100)}}),H.status===200&&H.data.coverLetter?n(hp(H.data.coverLetter)):n(hp("Error: Could not generate cover letter."))}catch(H){n(hp("Error generating cover letter. Please try again.")),console.error(H)}n(Hw(!1)),I("")};return f.jsxs("div",{children:[f.jsx(Sn,{})," ",f.jsxs("div",{className:"coverletter-page-flex",children:[f.jsx(hh,{}),f.jsxs("div",{className:"user-output-content",children:[f.jsxs("div",{className:"coverletter-hero-flex",children:[f.jsxs("div",{className:"coverletter-hero-text",children:[f.jsx("h1",{children:"Generate the Perfect Cover Letter"}),f.jsxs("p",{children:["Instantly create a cover letter tailored to any job. ",f.jsx("br",{}),"Just upload your resume and the job descriptionlet AI do the rest!"]}),f.jsx("button",{className:"hero-btn",onClick:()=>{const k=document.getElementById("cover-letter-section");k&&k.scrollIntoView({behavior:"smooth"})},children:"Get Started"})]}),f.jsx("div",{className:"coverletter-hero-image",children:f.jsx("img",{src:"/cover-letter-2.png",alt:"Cover letter illustration"})})]}),f.jsxs("div",{className:"user-input-container",id:"cover-letter-section",children:[f.jsx("h2",{className:"new-scan",children:"New Cover Letter"}),f.jsxs("div",{className:"input-sections",children:[f.jsxs("div",{className:"input-box",children:[f.jsx("h3",{children:"Resume (PDF)"}),f.jsx("input",{type:"file",accept:".pdf",onChange:R,disabled:h}),s&&f.jsx("p",{children:s})]}),f.jsxs("div",{className:"input-box",children:[f.jsx("h3",{children:"Job Description"}),f.jsx("textarea",{placeholder:"Paste job description here...",value:a,onChange:k=>n(xD(k.target.value)),disabled:h})]})]}),f.jsx("div",{className:"bottom-section",children:f.jsx("button",{className:"scan-button",onClick:j,disabled:h,children:h?"Generating...":"Generate Cover Letter"})}),h&&f.jsx("div",{className:"loading-popup",children:f.jsxs("div",{className:"loading-container",children:[f.jsx("p",{children:T}),f.jsx("div",{className:"progress-bar",children:f.jsx("div",{className:"progress",style:{width:`${_}%`}})})]})}),u&&f.jsxs("div",{className:"cover-letter-result",children:[f.jsxs("div",{className:"cover-letter-header",children:[f.jsx("h3",{style:{margin:0},children:"Generated Cover Letter:"}),f.jsx("button",{className:"copy-btn",onClick:r,children:e?"Copied!":"Copy"})]}),f.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:u})]})]})]})]}),f.jsx(bn,{})]})}function k2(){return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{}),f.jsxs("div",{className:"resume-tips-container",children:[f.jsx("h1",{children:"Resume & Cover Letter Tips"}),f.jsxs("section",{children:[f.jsx("h2",{children:"1. Resume Tips"}),f.jsx("h3",{children:"A. Formatting & Design"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Keep it clean and simple:"})," Use a modern, easy-to-read font (like Arial, Calibri, or Helvetica), and keep font size 1012pt."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Use consistent headings:"})," Bold or larger font for section titles (e.g., Experience, Education)."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Use bullet points:"})," Make achievements and skills easy to scan."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Stick to 12 pages:"})," Only include relevant information."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Leave enough white space:"})," Avoid clutter; make your resume visually balanced."]})]}),f.jsx("h3",{children:"B. Content & Structure"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Contact info at the top:"})," Name, phone, email, LinkedIn (no need for full address)."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Professional summary:"})," 23 lines highlighting your background and value proposition."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Experience section:"})," List jobs in reverse chronological order, with company, job title, location, and dates."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Use action verbs:"})," E.g., Developed, Managed, Led, Achieved, Designed."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Quantify achievements:"})," Increased sales by 30%, Managed a team of 6, Reduced costs by $10,000/year."]})]}),f.jsx("h3",{children:"C. ATS & Keywords"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Tailor to the job:"})," Match your keywords to the job description (skills, tools, qualifications)."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Avoid tables/columns:"})," Some Applicant Tracking Systems (ATS) cant read them well."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Use standard section headings:"})," (Experience, Skills, Education, Certifications)."]})]}),f.jsx("h3",{children:"D. Skills & Certifications"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Highlight hard and soft skills:"})," Separate technical (hard) skills and interpersonal (soft) skills."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Include certifications:"})," Relevant to your industry (e.g., AWS Certified, PMP, CPA)."]})]}),f.jsx("h3",{children:"E. Proofreading"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Check for typos and grammar errors:"})," Use spell check and ask a friend to review."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Consistency:"})," Dates, locations, tenses (use present tense for current roles, past tense for past roles)."]})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"2. Cover Letter Tips"}),f.jsx("h3",{children:"A. Formatting & Structure"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Keep it to one page:"})," 34 short paragraphs."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Use a professional greeting:"})," Dear [Hiring Managers Name], or Dear Hiring Team, if you cant find a name."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Include contact info:"})," Match your resume header or include in your email signature."]})]}),f.jsx("h3",{children:"B. Content"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Opening paragraph:"})," State the position youre applying for and a brief intro."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Second paragraph:"})," Highlight 12 key achievements or skills relevant to the role. Show how you solve the employers problem."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Third paragraph:"})," Show cultural fit and why you want to join this company."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Closing paragraph:"})," Thank them for their time, mention your attached resume, and express willingness for an interview."]})]}),f.jsx("h3",{children:"C. Personalization"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Tailor each letter:"})," Reference the company, job posting, and use their keywords."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Mention referrals:"})," If someone at the company referred you, say so at the start."]})]}),f.jsx("h3",{children:"D. Tone & Details"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Be confident but humble:"})," Dont just repeat your resume; show passion for the role."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Use specific examples:"})," At [previous company], I improved X by Y%..."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Be genuine:"})," Employers notice copy-paste letters."]})]}),f.jsx("h3",{children:"E. Proofreading"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Check spelling and grammar:"})," Avoid careless errors."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Double-check company and contact names:"})," Nothing looks worse than Dear Google for a Microsoft job!"]})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"3. Bonus: Common Mistakes to Avoid"}),f.jsxs("ul",{children:[f.jsx("li",{children:"Using the same resume/cover letter for every job."}),f.jsx("li",{children:"Including irrelevant experience or outdated skills."}),f.jsx("li",{children:"Using clichs (team player, go-getter) without backing them up."}),f.jsx("li",{children:"Focusing on duties, not achievements."}),f.jsx("li",{children:"Forgetting to update contact info."})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"4. Advanced Tips"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Use metrics:"})," Numbers jump off the page (Reduced onboarding time by 25%)."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Include keywords naturally:"})," For both ATS and human reviewers."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Keep design accessible:"})," Use black text on white, avoid images and fancy borders."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Show results, not just tasks:"})," Focus on outcomes and value you brought."]})]})]})]}),f.jsx(bn,{})]})}const A2=[{q:"What is Brew My Job?",a:"Brew My Job is an AI-powered platform designed to help job seekers optimize their resumes, generate custom cover letters, and match their applications with job descriptionsmaking it easier to land interviews and your dream job."},{q:"How does the resume scan and keyword match feature work?",a:"Simply upload your resume and paste a job description. Our AI scans both, highlights important keywords, and shows you how well your resume matches the jobplus tips to boost your match rate."},{q:"Can I generate a cover letter for any job?",a:"Yes! Our Cover Letter Generator creates tailored cover letters based on your resume and the job description, so you can make a strong first impression every time."},{q:"What types of resume and cover letter templates do you offer?",a:"We provide a variety of modern, ATS-friendly resume and cover letter templates designed to pass applicant tracking systems and impress recruiters."},{q:"Is Brew My Job free to use?",a:"We offer a free plan with core features like resume scanning and keyword matching. Premium users unlock unlimited scans, advanced templates, and additional optimization tools."},{q:"How do I upgrade or manage my subscription?",a:"Go to the 'Pricing & Plans' section in your dashboard. You can easily upgrade, downgrade, or cancel your subscription at any time."},{q:"Is my personal data and uploaded documents safe?",a:"Absolutely. We use industry-standard security measures to protect your information. Your uploaded resumes and cover letters are never shared with third parties."},{q:"I forgot my password or can't access my accountwhat should I do?",a:"Click on 'Forgot Password' at the login screen and follow the instructions to reset your password. If you need further help, contact our support team."},{q:"Can recruiters or employers access my resume through Brew My Job?",a:"No. Your information remains private unless you explicitly choose to share it. However, our platform does offer advanced tools for recruiters to analyze bulk resumes (for recruiters' dashboard users)."},{q:"How can I contact support or share feedback?",a:"You can reach us through the 'Contact Us' page or email us at ranishkalakshangsc@gmail.com. We welcome all feedback and suggestions to make Brew My Job even better!"}];function P2(){const[n,e]=z.useState(null),t=r=>{e(n===r?null:r)};return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{}),f.jsxs("div",{className:"questions-container",children:[f.jsx("h1",{children:"Frequently Asked Questions"}),f.jsx("div",{className:"faq-list",children:A2.map((r,s)=>f.jsxs("div",{className:`faq-item ${n===s?"open":""}`,children:[f.jsxs("button",{className:"faq-question",onClick:()=>t(s),"aria-expanded":n===s,"aria-controls":`faq-answer-${s}`,children:[f.jsx("span",{className:"faq-q-text",children:r.q}),f.jsx("span",{className:`faq-toggle-icon ${n===s?"open":""}`,children:n===s?"":"+"})]}),f.jsx("div",{className:"faq-answer",id:`faq-answer-${s}`,style:{display:n===s?"block":"none"},children:r.a})]},s))})]}),f.jsx(bn,{})]})}function b2(){return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{}),f.jsxs("div",{className:"ebooks-container",children:[f.jsx("h1",{children:"Ebooks & Learning Materials"}),f.jsxs("p",{children:["Welcome to the Brew My Job learning hub! Here, you'll soon find a curated collection of ebooks, guides, and resources to help you master the art of job searching, resume building, and career development.",f.jsx("br",{}),f.jsx("br",{}),"Stay tuned for expert tips, downloadable materials, and practical insightseverything you need to advance your career journey and land your dream job."]})]}),f.jsx(bn,{})]})}function N2(){return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{}),f.jsxs("div",{className:"ats-insight-container",children:[f.jsx("h1",{children:"How Does ATS Work? Why Is Resume Matching Important?"}),f.jsxs("section",{children:[f.jsx("h2",{children:"What is an ATS?"}),f.jsx("p",{children:"An Applicant Tracking System (ATS) is software used by employers and recruiters to manage job applications. Before a human ever sees your resume, the ATS scans and analyzes it, ranking or filtering candidates based on how well their documents match the job description."})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"How Does ATS Match Resumes with Job Descriptions?"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Keyword Extraction:"}),"The ATS scans your resume and the job description for important keywords (skills, qualifications, job titles, tools, certifications, etc.)."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Section Parsing:"}),"It checks if your resume contains standard sections like Experience, Education, and Skills."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Scoring and Ranking:"}),"The ATS scores each resume based on the number and quality of keyword matches, relevant experience, and sometimes even formatting."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Shortlisting:"}),"Only the highest-matching resumes are moved forward for human reviewothers may never be seen by a recruiter."]})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"Why Do Many Great Candidates Get Missed?"}),f.jsxs("ul",{children:[f.jsx("li",{children:"Resumes without the right keywords, or in an unusual format, may be filtered out."}),f.jsx("li",{children:"Cover letters that dont address job requirements can weaken your application."}),f.jsx("li",{children:"Subtle mismatches (job title wording, missing skills) can lower your ATS score."})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"How Brew My Job Helps You Beat the ATS"}),f.jsx("p",{children:"Brew My Jobs advanced AI tools are built to maximize your chance of passing ATS filters and landing interviews."}),f.jsx("h3",{children:"1. Resume Scanner"}),f.jsxs("ul",{children:[f.jsx("li",{children:"Upload your resume and paste the job description."}),f.jsx("li",{children:"Our Resume Scanner analyzes both documents, extracting keywords and job-specific skills."}),f.jsxs("li",{children:["Instantly see your ",f.jsx("strong",{children:"match rate"}),"how well your resume aligns with the job requirements."]}),f.jsxs("li",{children:["Get a detailed report:",f.jsxs("ul",{children:[f.jsx("li",{children:"Which keywords are present or missing"}),f.jsx("li",{children:"Skill gaps"}),f.jsx("li",{children:"Formatting suggestions"}),f.jsx("li",{children:"Actionable tips to improve your match rate"})]})]})]}),f.jsx("h3",{children:"2. Cover Letter Generator"}),f.jsxs("ul",{children:[f.jsx("li",{children:"Our AI drafts a customized cover letter based on your resume and the job description."}),f.jsxs("li",{children:["The generated cover letter:",f.jsxs("ul",{children:[f.jsx("li",{children:"Addresses the employers needs using relevant keywords"}),f.jsx("li",{children:"Highlights your top skills and achievements for the role"}),f.jsx("li",{children:"Maintains a professional tone and correct structure"})]})]})]}),f.jsx("h3",{children:"3. Continuous Optimization"}),f.jsxs("ul",{children:[f.jsx("li",{children:"Make changes in real time: Update your resume or job description, and instantly see new match results."}),f.jsx("li",{children:"Use multiple templates to ensure your documents are ATS-friendly and recruiter-approved."})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"Key Benefits of Using Brew My Job"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Save time"})," and avoid guesswork with instant, automated feedback."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Stand out"})," by matching your documents to each jobno more generic applications."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Increase interview chances"})," by passing ATS filters and impressing recruiters."]})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"Summary"}),f.jsx("p",{children:"With Brew My Jobs Resume Scanner and Cover Letter Generator, youll always know how your application compares to the job requirementsand have the tools to improve your chances of landing your next role."})]})]}),f.jsx(bn,{})]})}function j2(){return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{}),f.jsxs("div",{className:"howto-guide-container",children:[f.jsx("h1",{children:"How-To Guide: Getting Started with Brew My Job"}),f.jsxs("section",{children:[f.jsx("h2",{children:"1. Create Your Account"}),f.jsxs("ul",{children:[f.jsxs("li",{children:["Click the ",f.jsx("strong",{children:"Sign Up"})," or ",f.jsx("strong",{children:"Get Started"})," button on the homepage."]}),f.jsx("li",{children:"Register using your email and create a password, or sign in with your Google account for quick access."}),f.jsx("li",{children:"Complete your profile for a more personalized experience."})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"2. Scan Your Resume Against a Job Description"}),f.jsxs("ul",{children:[f.jsxs("li",{children:["Go to the ",f.jsx("strong",{children:"Resume Scanner"})," section."]}),f.jsx("li",{children:"Upload your resume (PDF or DOCX)."}),f.jsx("li",{children:"Paste the job description from any job posting."}),f.jsxs("li",{children:["Click ",f.jsx("strong",{children:"Scan Now"}),"."]}),f.jsx("li",{children:"Instantly see your match rate and which keywords or skills are missing."}),f.jsx("li",{children:"Review the detailed suggestions to improve your resume and get a higher match."})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"3. Optimize Your Resume"}),f.jsxs("ul",{children:[f.jsxs("li",{children:["Use the match report to:",f.jsxs("ul",{children:[f.jsx("li",{children:"Add missing keywords from the job description."}),f.jsx("li",{children:"Highlight relevant skills and experiences."}),f.jsx("li",{children:"Remove outdated or irrelevant content."})]})]}),f.jsx("li",{children:"Try our ATS-friendly resume templates to ensure your document is easy for both robots and recruiters to read."}),f.jsx("li",{children:"Save or download your optimized resume."})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"4. Generate a Custom Cover Letter"}),f.jsxs("ul",{children:[f.jsxs("li",{children:["Navigate to the ",f.jsx("strong",{children:"Cover Letter Generator"}),"."]}),f.jsx("li",{children:"Select your newly optimized resume and the job description."}),f.jsxs("li",{children:["Click ",f.jsx("strong",{children:"Generate Cover Letter"}),"."]}),f.jsxs("li",{children:["Review your AI-generated cover letter:",f.jsxs("ul",{children:[f.jsx("li",{children:"Its tailored to the job."}),f.jsx("li",{children:"It uses the right keywords and highlights your strengths."})]})]}),f.jsx("li",{children:"Edit the cover letter if you wish, then download or copy it for your application."})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"5. Manage Your Documents"}),f.jsxs("ul",{children:[f.jsxs("li",{children:["Access all your uploaded and generated files in your ",f.jsx("strong",{children:"Dashboard"}),"."]}),f.jsx("li",{children:"Download, edit, or delete resumes and cover letters as needed."}),f.jsx("li",{children:"Track your recent scans and cover letter generations."})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"6. Upgrade to Premium (Optional)"}),f.jsxs("ul",{children:[f.jsxs("li",{children:["Go to ",f.jsx("strong",{children:"Pricing & Plans"}),"."]}),f.jsx("li",{children:"Compare Free and Premium features."}),f.jsx("li",{children:"Choose a plan that fits your needs for unlimited scans, advanced templates, and priority support."}),f.jsx("li",{children:"Complete your subscription to unlock all features."})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"7. Additional Tips"}),f.jsxs("ul",{children:[f.jsxs("li",{children:["Use the ",f.jsx("strong",{children:"LinkedIn Optimization"})," tool to improve your LinkedIn profile and increase visibility to recruiters."]}),f.jsxs("li",{children:["Explore our ",f.jsx("strong",{children:"Resources & Guides"})," for resume writing tips, interview prep, and more."]})]})]}),f.jsxs("section",{children:[f.jsx("h2",{children:"8. Need Help?"}),f.jsxs("ul",{children:[f.jsxs("li",{children:["Visit the ",f.jsx("strong",{children:"FAQ"})," page for answers to common questions."]}),f.jsxs("li",{children:["Contact our support team through the ",f.jsx("strong",{children:"Contact Us"})," page for personalized help."]}),f.jsx("li",{children:"Share your feedback or suggestions to help us improve Brew My Job!"})]})]}),f.jsx("div",{className:"howto-summary",children:f.jsx("strong",{children:"With Brew My Job, youre just a few steps away from a smarter, more effective job application!"})})]}),f.jsx(bn,{})]})}const D2=()=>{const n=Hs(),[e,t]=z.useState(null);z.useEffect(()=>{const s=async()=>{if(An.currentUser){const u=await Xl(Ds(xd,"users",An.currentUser.uid));u.exists()&&t(u.data().subscription||"free")}},a=An.onAuthStateChanged(u=>{u?s():t(null)});return()=>a()},[]);const r=async()=>{try{if(An.currentUser){const s=Ds(xd,"users",An.currentUser.uid);await sx(s,{subscription:"free",updatedAt:new Date().toISOString()}),t("free"),alert("Switched to Free Plan successfully.")}}catch(s){console.error("Failed to switch plan:",s),alert("Error switching to Free Plan. Please try again.")}};return f.jsxs("div",{children:[f.jsx(Sn,{}),f.jsxs("div",{className:"pricing-page-flex",children:[f.jsx(hh,{}),f.jsxs("main",{className:"pricing-container",children:[f.jsxs("div",{className:"pricing-hero",children:[f.jsx("div",{className:"pricing-hero-label",children:"Pricing"}),f.jsxs("h1",{className:"pricing-hero-title",children:["Plans that support",f.jsx("br",{}),"your growth"]}),f.jsx("p",{className:"pricing-hero-desc",children:"Our pricing plans provide the necessary features and resources to support your job searchs continued growth and success."})]}),f.jsxs("div",{className:"plans",children:[f.jsxs("div",{className:"plan free",children:[f.jsx("h3",{children:"Free"}),f.jsxs("p",{className:"price",children:["$0",f.jsx("span",{children:"/month"})]}),e==="free"?f.jsx("button",{className:"current-plan",children:"Current Plan"}):f.jsx("button",{className:"subscribe",onClick:r,children:"Switch"}),f.jsx("p",{className:"note",children:"Free Forever"})]}),f.jsxs("div",{className:"plan premium-monthly",children:[f.jsx("h3",{children:"Premium Monthly"}),f.jsxs("p",{className:"price",children:["$24.99",f.jsx("span",{children:"/month"})]}),e==="premium"?f.jsx("button",{className:"current-plan",children:"Current Plan"}):f.jsx("button",{className:"subscribe",onClick:()=>n("/payment"),children:"Subscribe"}),f.jsx("p",{className:"billing",children:"$24.99 Billed Every Month"})]})]}),f.jsx("div",{className:"features-table"})]})]}),f.jsx(bn,{})]})};var Yx="basil",O2=function(e){return e===3?"v3":e},Xx="https://js.stripe.com",L2="".concat(Xx,"/").concat(Yx,"/stripe.js"),M2=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,V2=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var F2=function(e){return M2.test(e)||V2.test(e)},U2=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Xx,'"]')),t=0;t<e.length;t++){var r=e[t];if(F2(r.src))return r}return null},aE=function(e){var t="",r=document.createElement("script");r.src="".concat(L2).concat(t);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},B2=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:t})},kl=null,Lc=null,Mc=null,z2=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},$2=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},H2=function(e){return kl!==null?kl:(kl=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var s=U2();if(!(s&&e)){if(!s)s=aE(e);else if(s&&Mc!==null&&Lc!==null){var a;s.removeEventListener("load",Mc),s.removeEventListener("error",Lc),(a=s.parentNode)===null||a===void 0||a.removeChild(s),s=aE(e)}}Mc=$2(t,r),Lc=z2(r),s.addEventListener("load",Mc),s.addEventListener("error",Lc)}catch(u){r(u);return}}),kl.catch(function(t){return kl=null,Promise.reject(t)}))},W2=function(e,t,r){if(e===null)return null;var s=t[0],a=s.match(/^pk_test/),u=O2(e.version),h=Yx;a&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var p=e.apply(void 0,t);return B2(p,r),p},Al,Zx=!1,eI=function(){return Al||(Al=H2(null).catch(function(e){return Al=null,Promise.reject(e)}),Al)};Promise.resolve().then(function(){return eI()}).catch(function(n){Zx||console.warn(n)});var q2=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Zx=!0;var s=Date.now();return eI().then(function(a){return W2(a,t,s)})},yp={exports:{}},vp,lE;function K2(){if(lE)return vp;lE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vp=n,vp}var _p,uE;function G2(){if(uE)return _p;uE=1;var n=K2();function e(){}function t(){}return t.resetWarningCache=e,_p=function(){function r(u,h,p,g,_,E){if(E!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},_p}var cE;function Q2(){return cE||(cE=1,yp.exports=G2()()),yp.exports}var J2=Q2();const kt=yE(J2);function dE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function hE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(t),!0).forEach(function(r){tI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ed(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ed=function(e){return typeof e}:ed=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(n)}function tI(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y2(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function X2(n,e){if(n==null)return{};var t=Y2(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function nI(n,e){return Z2(n)||eL(n,e)||tL(n,e)||nL()}function Z2(n){if(Array.isArray(n))return n}function eL(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],s=!0,a=!1,u,h;try{for(t=t.call(n);!(s=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));s=!0);}catch(p){a=!0,h=p}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw h}}return r}}function tL(n,e){if(n){if(typeof n=="string")return fE(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fE(n,e)}}function fE(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function nL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xn=function(e,t,r){var s=!!r,a=vt.useRef(r);vt.useEffect(function(){a.current=r},[r]),vt.useEffect(function(){if(!s||!e)return function(){};var u=function(){a.current&&a.current.apply(a,arguments)};return e.on(t,u),function(){e.off(t,u)}},[s,t,e,a])},um=function(e){var t=vt.useRef(e);return vt.useEffect(function(){t.current=e},[e]),t.current},La=function(e){return e!==null&&ed(e)==="object"},rL=function(e){return La(e)&&typeof e.then=="function"},iL=function(e){return La(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},pE="[object Object]",sL=function n(e,t){if(!La(e)||!La(t))return e===t;var r=Array.isArray(e),s=Array.isArray(t);if(r!==s)return!1;var a=Object.prototype.toString.call(e)===pE,u=Object.prototype.toString.call(t)===pE;if(a!==u)return!1;if(!a&&!r)return e===t;var h=Object.keys(e),p=Object.keys(t);if(h.length!==p.length)return!1;for(var g={},_=0;_<h.length;_+=1)g[h[_]]=!0;for(var E=0;E<p.length;E+=1)g[p[E]]=!0;var T=Object.keys(g);if(T.length!==h.length)return!1;var I=e,R=t,j=function(F){return n(I[F],R[F])};return T.every(j)},rI=function(e,t,r){return La(e)?Object.keys(e).reduce(function(s,a){var u=!La(t)||!sL(e[a],t[a]);return r.includes(a)?(u&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),s):u?hE(hE({},s||{}),{},tI({},a,e[a])):s},null):null},iI="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",mE=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iI;if(e===null||iL(e))return e;throw new Error(t)},oL=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iI;if(rL(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return mE(s,t)})};var r=mE(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},aL=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},fh=vt.createContext(null);fh.displayName="ElementsContext";var sI=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},oI=function(e){var t=e.stripe,r=e.options,s=e.children,a=vt.useMemo(function(){return oL(t)},[t]),u=vt.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),h=nI(u,2),p=h[0],g=h[1];vt.useEffect(function(){var T=!0,I=function(j){g(function(k){return k.stripe?k:{stripe:j,elements:j.elements(r)}})};return a.tag==="async"&&!p.stripe?a.stripePromise.then(function(R){R&&T&&I(R)}):a.tag==="sync"&&!p.stripe&&I(a.stripe),function(){T=!1}},[a,p,r]);var _=um(t);vt.useEffect(function(){_!==null&&_!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[_,t]);var E=um(r);return vt.useEffect(function(){if(p.elements){var T=rI(r,E,["clientSecret","fonts"]);T&&p.elements.update(T)}},[r,E,p.elements]),vt.useEffect(function(){aL(p.stripe)},[p.stripe]),vt.createElement(fh.Provider,{value:p},s)};oI.propTypes={stripe:kt.any,options:kt.object};var lL=function(e){var t=vt.useContext(fh);return sI(t,e)},uL=function(){var e=lL("calls useElements()"),t=e.elements;return t};kt.func.isRequired;var aI=vt.createContext(null);aI.displayName="CheckoutSdkContext";var cL=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},dL=vt.createContext(null);dL.displayName="CheckoutContext";kt.any,kt.shape({fetchClientSecret:kt.func.isRequired,elementsOptions:kt.object}).isRequired;var cm=function(e){var t=vt.useContext(aI),r=vt.useContext(fh);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?cL(t,e):sI(r,e)},hL=["mode"],fL=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ft=function(e,t){var r="".concat(fL(e),"Element"),s=function(p){var g=p.id,_=p.className,E=p.options,T=E===void 0?{}:E,I=p.onBlur,R=p.onFocus,j=p.onReady,k=p.onChange,F=p.onEscape,G=p.onClick,H=p.onLoadError,X=p.onLoaderStart,ne=p.onNetworksChange,O=p.onConfirm,b=p.onCancel,C=p.onShippingAddressChange,A=p.onShippingRateChange,D=cm("mounts <".concat(r,">")),V="elements"in D?D.elements:null,$="checkoutSdk"in D?D.checkoutSdk:null,P=vt.useState(null),De=nI(P,2),He=De[0],Ue=De[1],be=vt.useRef(null),ue=vt.useRef(null);Xn(He,"blur",I),Xn(He,"focus",R),Xn(He,"escape",F),Xn(He,"click",G),Xn(He,"loaderror",H),Xn(He,"loaderstart",X),Xn(He,"networkschange",ne),Xn(He,"confirm",O),Xn(He,"cancel",b),Xn(He,"shippingaddresschange",C),Xn(He,"shippingratechange",A),Xn(He,"change",k);var _e;j&&(e==="expressCheckout"?_e=j:_e=function(){j(He)}),Xn(He,"ready",_e),vt.useLayoutEffect(function(){if(be.current===null&&ue.current!==null&&(V||$)){var U=null;if($)switch(e){case"payment":U=$.createPaymentElement(T);break;case"address":if("mode"in T){var te=T.mode,me=X2(T,hL);if(te==="shipping")U=$.createShippingAddressElement(me);else if(te==="billing")U=$.createBillingAddressElement(me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":U=$.createExpressCheckoutElement(T);break;case"currencySelector":U=$.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else V&&(U=V.create(e,T));be.current=U,Ue(U),U&&U.mount(ue.current)}},[V,$,T]);var de=um(T);return vt.useEffect(function(){if(be.current){var U=rI(T,de,["paymentRequest"]);U&&"update"in be.current&&be.current.update(U)}},[T,de]),vt.useLayoutEffect(function(){return function(){if(be.current&&typeof be.current.destroy=="function")try{be.current.destroy(),be.current=null}catch{}}},[]),vt.createElement("div",{id:g,className:_,ref:ue})},a=function(p){cm("mounts <".concat(r,">"));var g=p.id,_=p.className;return vt.createElement("div",{id:g,className:_})},u=t?a:s;return u.propTypes={id:kt.string,className:kt.string,onChange:kt.func,onBlur:kt.func,onFocus:kt.func,onReady:kt.func,onEscape:kt.func,onClick:kt.func,onLoadError:kt.func,onLoaderStart:kt.func,onNetworksChange:kt.func,onConfirm:kt.func,onCancel:kt.func,onShippingAddressChange:kt.func,onShippingRateChange:kt.func,options:kt.object},u.displayName=r,u.__elementType=e,u},Ut=typeof window>"u",pL=vt.createContext(null);pL.displayName="EmbeddedCheckoutProviderContext";var mL=function(){var e=cm("calls useStripe()"),t=e.stripe;return t};Ft("auBankAccount",Ut);var gE=Ft("card",Ut);Ft("cardNumber",Ut);Ft("cardExpiry",Ut);Ft("cardCvc",Ut);Ft("fpxBank",Ut);Ft("iban",Ut);Ft("idealBank",Ut);Ft("p24Bank",Ut);Ft("epsBank",Ut);Ft("payment",Ut);Ft("expressCheckout",Ut);Ft("currencySelector",Ut);Ft("paymentRequestButton",Ut);Ft("linkAuthentication",Ut);Ft("address",Ut);Ft("shippingAddress",Ut);Ft("paymentMethodMessaging",Ut);Ft("affirmMessage",Ut);Ft("afterpayClearpayMessage",Ut);const gL={style:{base:{fontSize:"16px",color:"#2e354f",fontFamily:"inherit",letterSpacing:"0.5px","::placeholder":{color:"#aab7c4"},backgroundColor:"#fafafa",padding:"12px 0"},invalid:{color:"#e5424d"}},hidePostalCode:!0},yL=()=>{const n=mL(),e=uL(),t=Hs(),[r,s]=z.useState(null),[a,u]=z.useState(!1),h=async()=>{try{return(await Pt.post("https://api.brewmyjob.com/api/payment/create-payment-intent",{amount:2499,currency:"usd"},{headers:{"Content-Type":"application/json"}})).data.clientSecret}catch{throw new Error("Failed to create payment intent")}},p=async _=>{const E=Ds(Jc,"users",_.uid);console.log("Updating Firestore for user:",_.email,"UID:",_.uid),await ix(E,{email:_.email,subscription:"premium",updatedAt:new Date().toISOString()},{merge:!0}),console.log("Firestore updated successfully.")},g=async _=>{if(_.preventDefault(),s(null),u(!0),!n||!e){s("Stripe has not loaded yet."),u(!1);return}try{console.log("Requesting payment intent from backend...");const E=await h();console.log("Received clientSecret:",E);const T=e.getElement(gE),{paymentIntent:I,error:R}=await n.confirmCardPayment(E,{payment_method:{card:T,billing_details:{name:"Customer Name"}}});if(R){s(R.message),u(!1);return}if(I&&I.status==="succeeded"){const j=An.currentUser;if(console.log("Checking if user is signed in..."),j){console.log("User is signed in:",j.email,"UID:",j.uid);try{await p(j)}catch(k){console.error("Payment succeeded, but failed to update subscription:",k),s("Payment succeeded, but failed to update subscription: "+(k.message||k)),u(!1);return}}else{console.error("Payment succeeded, but no user is logged in."),s("Payment succeeded, but no user is logged in."),u(!1);return}alert("Payment successful! Thank you for subscribing."),u(!1),t("/")}else s("Payment was not successful."),u(!1)}catch(E){console.error("General error during payment:",E),s(E.message||"An error occurred during payment."),u(!1)}};return f.jsxs("form",{onSubmit:g,className:"checkout-form",children:[f.jsxs("label",{style:{marginBottom:10,fontWeight:"bold"},children:["Credit or Debit Card",f.jsx("div",{className:"stripe-input",children:f.jsx(gE,{options:gL})})]}),r&&f.jsx("div",{className:"error",style:{color:"#e5424d"},children:r}),f.jsx("button",{type:"submit",disabled:!n||a,children:a?"Processing":"Pay $24.99"})]})},vL=q2("pk_live_51RNGrMRq83i20Ip8ioxm9yyK00PxXeP5QJMy10Rjl6aGoIKilUO3KH04vYiYtOwWlk71DAYfiThdqqy8CnooyLmu00sz9qyr4o"),_L=()=>f.jsx("div",{className:"payment-container",children:f.jsxs("div",{className:"payment-card",children:[f.jsx("h2",{children:"Upgrade to Premium"}),f.jsx(oI,{stripe:vL,children:f.jsx(yL,{})})]})});function wL(){const[n,e]=z.useState(""),[t,r]=z.useState(""),[s,a]=z.useState(!1),u=async()=>{if(n){a(!0),r("");try{const p=await(await fetch("https://api.brewmyjob.com/api/analyze-linkedin-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({linkedinUrl:n})})).json();r(p.reviewHtml)}catch{r('<div style="color:red;">Failed to analyze profile.</div>')}a(!1)}};return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{}),f.jsxs("div",{className:"linkedin-layout",children:[f.jsx(hh,{}),f.jsx("main",{className:"linkedin-score-main",children:f.jsxs("div",{className:"linkedin-score-container",children:[f.jsx("h2",{children:"LinkedIn Profile Score"}),f.jsxs("div",{className:"score-note",children:[f.jsxs("p",{children:[" ",f.jsx("b",{children:"LinkedIn Score:"})," Use this feature to analyze your LinkedIn profile and get instant feedback! Well give you a score out of 100, plus personalized tips to help you stand out to recruiters."]}),f.jsx("p",{children:"Paste your LinkedIn profile link and get actionable insights on how to improve your professional branding, visibility, and job search success."}),f.jsxs("div",{className:"score-input-row",children:[f.jsx("input",{type:"text",className:"linkedin-url-input",value:n,onChange:h=>e(h.target.value),placeholder:"Paste your LinkedIn profile URL here..."}),f.jsx("button",{className:"score-analyze-btn",onClick:u,disabled:s,children:s?"Analyzing...":"Analyze"})]}),f.jsx("div",{style:{marginTop:28},children:t&&f.jsx("div",{dangerouslySetInnerHTML:{__html:t}})})]})]})})]}),f.jsx(bn,{})]})}const EL=sC([{path:"/",element:f.jsx(l2,{})},{path:"/blog",element:f.jsx(u2,{})},{path:"/about",element:f.jsx(g2,{})},{path:"/contact",element:f.jsx(m2,{})},{path:"/scanresult",element:f.jsx(_2,{})},{path:"/user-output",element:f.jsx(R2,{})},{path:"/pricing",element:f.jsx(D2,{})},{path:"/payment",element:f.jsx(_L,{})},{path:"/cover-letter",element:f.jsx(C2,{})},{path:"/privacy-policy",element:f.jsx(y2,{})},{path:"/suggestions",element:f.jsx(v2,{})},{path:"/resume-tips",element:f.jsx(k2,{})},{path:"/questions",element:f.jsx(P2,{})},{path:"/ebooks",element:f.jsx(b2,{})},{path:"/ats-insight",element:f.jsx(N2,{})},{path:"/how-to-guide",element:f.jsx(j2,{})},{path:"/linkedin-optimization",element:f.jsx(wL,{})}]);v0.createRoot(document.getElementById("root")).render(f.jsx(z.StrictMode,{children:f.jsxs(lx,{store:Gx,children:["  ",f.jsx(vC,{router:EL})]})}));
